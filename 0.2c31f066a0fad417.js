"use strict";(self.webpackChunkrazvivator=self.webpackChunkrazvivator||[]).push([[0],{6330:(z,x,c)=>{c.d(x,{a:()=>u});var m=c(9771);const u=[{id:"themes",color:m.r.BLUE},{id:"memory",color:m.r.GREEN},{id:"attention",color:m.r.ORANGE},{id:"intellect",color:m.r.PINK}]},9424:(z,x,c)=>{c.d(x,{G:()=>v});var m=c(6330),u=c(9117);class v{static getCategoryById(C){return v.categories.find(y=>y.id===C)}}v.categories=m.a.map(T=>new u.W(T))},5e3:(z,x,c)=>{c.r(x),c.d(x,{MAIN_ROUTES:()=>Ep});var m=c(9771),u=c(6330);const v=[{id:"games",color:m.r.BLUE,chapters:u.a},{id:"contacts",color:m.r.GREEN},{id:"acknowledgment",color:m.r.ORANGE},{id:"about",color:m.r.PINK}];var T=c(9117);class C extends T.W{constructor(t){super(t),this.chapters=null,this.absoluteRoute="",this.parentRoute="",this.isExpanded=!1,this.parentRoute=t.parentRoute||"",this.absoluteRoute=this.parentRoute?`${this.parentRoute}/${this.route}`:this.route,this.chapters=t.chapters?t.chapters.map(e=>new C({...e,parentRoute:this.route})):[]}toggleExpanded(){this.chapters?.length&&(this.isExpanded=!this.isExpanded)}}class y{static getDesktopChapters(){return v.map(t=>new T.W(t))}static getMobileChapters(){return v.map(t=>new C(t))}}var g=c(2273),_=c(4774),b=c(829),n=c(4650);let F=(()=>{class i{constructor(){this.chapter=null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["chapter"]],inputs:{chapter:"chapter"},standalone:!0,features:[n.jDz],decls:6,vars:5,consts:[[1,"chapter",3,"routerLink"],["width","200","height","50","routerLinkActive","chapter__img--active",1,"chapter__img"],["d","m 197.03362,37.791399 c 5.63757,3.866462 3.62414,12.20988 -6.44295,12.108132 C 132.30221,49.696033 73.510371,50.204777 15.523913,45.829571 12.101102,45.524323 11.195062,43.082347 12.805798,41.657861 11.094392,41.454363 9.2823156,41.250865 7.5709095,41.047367 -4.8116155,39.419383 -0.38209431,27.107754 10.289024,26.497259 c 0.704698,0 1.308722,-0.101748 2.013419,-0.101748 C 2.3360208,24.055284 3.8460849,13.473386 14.315863,12.964642 9.0809737,8.6911837 11.396405,0.44951471 21.765511,0.44951471 75.725132,0.95825974 130.79213,-1.5854654 184.44975,3.2984868 c 7.65099,0.712243 9.76506,6.613685 5.73824,9.6661552 7.14765,2.848972 6.44294,10.683645 -1.00671,12.413378 1.30873,0.101749 2.61745,0.305247 3.8255,0.406996 7.65098,1.017491 9.06037,8.852164 4.02684,12.006383 z",1,"chapter__path"],["routerLinkActive","chapter__title--active",1,"chapter__title"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0),n.O4$(),n.TgZ(1,"svg",1),n._UZ(2,"path",2),n.qZA(),n.kcU(),n.TgZ(3,"div",3),n._uU(4),n.ALo(5,"capitalizeFirstLetter"),n.qZA()()),2&e&&(n.Q6J("routerLink",o.chapter.route),n.xp6(2),n.uIk("fill",o.chapter.color),n.xp6(2),n.hij(" ",n.lcZ(5,3,o.chapter.title)," "))},dependencies:[_.Bz,_.rH,_.Od,b.G],styles:[".chapter[_ngcontent-%COMP%]{width:200px;height:50px;margin:auto;position:relative;cursor:pointer}.chapter[_ngcontent-%COMP%]:hover{transform:rotate(3deg)}.chapter__img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:0}.chapter__img--active[_ngcontent-%COMP%]{transform:scale(1.1)}.chapter__title[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center;color:#fff;position:absolute;font-size:1.5rem;z-index:1}.chapter__title--active[_ngcontent-%COMP%]{font-weight:bolder}"],changeDetection:0}),i})();var se,a=c(655),h=c(6895),ee=c(1739),M=c(9300),f=c(8505);const H=["menuToggle"];function G(i,t){1&i&&n.GkF(0)}function fe(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"span",10),n.NdJ("click",function(s){n.CHM(e);const r=n.oxw().$implicit,l=n.oxw(2);return n.KtG(l.onItemClick(s,r))}),n.TgZ(1,"span",11),n._uU(2),n.ALo(3,"capitalizeFirstLetter"),n.qZA(),n._UZ(4,"span",12),n.qZA()}if(2&i){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,5,e.title)),n.xp6(2),n.Udp("border-left-color",e.color),n.ekj("items-header__triangle--expanded",e.isExpanded)}}function ge(i,t){if(1&i&&(n.TgZ(0,"span",13),n._uU(1),n.ALo(2,"capitalizeFirstLetter"),n.qZA()),2&i){const e=n.oxw().$implicit;n.Q6J("routerLink",e.absoluteRoute),n.xp6(1),n.hij(" ",n.lcZ(2,2,e.title)," ")}}function de(i,t){1&i&&n.GkF(0)}const xe=function(i){return{$implicit:i}};function st(i,t){if(1&i&&(n.ynx(0),n.YNc(1,de,1,0,"ng-container",2),n.BQk()),2&i){const e=n.oxw().$implicit;n.oxw(2);const o=n.MAs(4);n.xp6(1),n.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",n.VKq(2,xe,e.chapters))}}function rt(i,t){if(1&i&&(n.TgZ(0,"li",6),n.YNc(1,fe,5,7,"span",7),n.YNc(2,ge,3,4,"span",8),n.YNc(3,st,2,4,"ng-container",9),n.qZA()),2&i){const e=t.$implicit;n.Udp("color",e.color),n.xp6(1),n.Q6J("ngIf",e.chapters.length),n.xp6(1),n.Q6J("ngIf",!e.chapters.length),n.xp6(1),n.Q6J("ngIf",e.chapters.length&&e.isExpanded)}}function _o(i,t){if(1&i&&(n.TgZ(0,"ul",4),n.YNc(1,rt,4,5,"li",5),n.qZA()),2&i){const e=t.$implicit;n.xp6(1),n.Q6J("ngForOf",e)}}class Ee{constructor(t){this._router=t,this.appearanceFrom="right",this.chapters=y.getMobileChapters(),se.set(this,null)}ngOnInit(){(0,a.YH)(this,se,this._router.events.pipe((0,M.h)(t=>t instanceof _.m2),(0,f.b)(()=>this.menuToggle.closeMenu())).subscribe(),"f")}ngOnDestroy(){(0,a.Q_)(this,se,"f")?.unsubscribe()}onItemClick(t,e){t.stopPropagation(),e.toggleExpanded()}}se=new WeakMap,Ee.\u0275fac=function(t){return new(t||Ee)(n.Y36(_.F0))},Ee.\u0275cmp=n.Xpm({type:Ee,selectors:[["nav-mobile"]],viewQuery:function(t,e){if(1&t&&n.Gf(H,7),2&t){let o;n.iGM(o=n.CRH())&&(e.menuToggle=o.first)}},standalone:!0,features:[n.jDz],decls:5,vars:5,consts:[[3,"appearanceFrom"],["menuToggle",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["navItems",""],[1,"nav"],["class","nav__item",3,"color",4,"ngFor","ngForOf"],[1,"nav__item"],["class","items-header",3,"click",4,"ngIf"],["routerLinkActive","nav__item--active",3,"routerLink",4,"ngIf"],[4,"ngIf"],[1,"items-header",3,"click"],[1,"items-header__title"],[1,"items-header__triangle"],["routerLinkActive","nav__item--active",3,"routerLink"]],template:function(t,e){if(1&t&&(n.TgZ(0,"menu-toggle",0,1),n.YNc(2,G,1,0,"ng-container",2),n.qZA(),n.YNc(3,_o,2,1,"ng-template",null,3,n.W1O)),2&t){const o=n.MAs(4);n.Q6J("appearanceFrom",e.appearanceFrom),n.xp6(2),n.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",n.VKq(3,xe,e.chapters))}},dependencies:[h.O5,h.ax,h.tP,_.Bz,_.rH,_.Od,ee.d,b.G],styles:[".nav[_ngcontent-%COMP%]{padding-left:1rem}.nav__item[_ngcontent-%COMP%]{font-size:2rem;cursor:pointer}.nav__item--active[_ngcontent-%COMP%]{font-weight:700}.items-header[_ngcontent-%COMP%]{display:flex;align-items:center}.items-header__triangle[_ngcontent-%COMP%]{width:0;height:0;margin-left:10px;border-style:solid;border-width:6px 0 6px 12px;border-color:transparent;transition:.25s}.items-header__triangle--expanded[_ngcontent-%COMP%]{transform:rotate(90deg)}.translations[_ngcontent-%COMP%]{margin-top:1rem;margin-left:1rem}"],changeDetection:0});var oi=c(500),Xt=c(9513);function dc(i,t){1&i&&(n.TgZ(0,"div",6),n._UZ(1,"img",7),n.qZA()),2&i&&(n.xp6(1),n.Q6J("preloadImg","../../assets/img/logo.png"))}function uc(i,t){1&i&&n._UZ(0,"nav-mobile",8)}function hc(i,t){1&i&&n._UZ(0,"chapter",11),2&i&&n.Q6J("chapter",t.$implicit)}function mc(i,t){if(1&i&&(n.TgZ(0,"div",9),n.YNc(1,hc,1,1,"chapter",10),n.qZA()),2&i){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.chapters)}}let pc=(()=>{class i{constructor(){this.chapters=y.getDesktopChapters(),this.colors=m.r,this.title=g.f.getTranslation("title")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["main"]],standalone:!0,features:[n.jDz],decls:9,vars:8,consts:[[1,"main"],["class","main__logo","routerLink","/",4,"ifMobile"],[1,"main__title"],["class","main__nav-mobile",4,"ifMobile"],["class","main__chapters",4,"ifMobile"],[1,"main__container"],["routerLink","/",1,"main__logo"],[3,"preloadImg"],[1,"main__nav-mobile"],[1,"main__chapters"],[3,"chapter",4,"ngFor","ngForOf"],[3,"chapter"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0),n.YNc(1,dc,2,1,"div",1),n.TgZ(2,"div",2),n._uU(3),n.ALo(4,"capitalizeFirstLetter"),n.qZA(),n.YNc(5,uc,1,0,"nav-mobile",3),n.YNc(6,mc,2,1,"div",4),n.TgZ(7,"div",5),n._UZ(8,"router-outlet"),n.qZA()()),2&e&&(n.xp6(1),n.Q6J("ifMobile",!1),n.xp6(1),n.Udp("color",o.colors.BLUE),n.xp6(1),n.hij(" ",n.lcZ(4,6,o.title)," "),n.xp6(2),n.Q6J("ifMobile",!0),n.xp6(1),n.Q6J("ifMobile",!1))},dependencies:[h.ax,F,_.Bz,_.lC,_.rH,Ee,oi.u,Xt.n,b.G],styles:[".main[_ngcontent-%COMP%]{display:grid;grid-template-columns:min-content auto;grid-template-rows:max-content auto;grid-gap:2rem}.main__logo[_ngcontent-%COMP%]{grid-row-start:1;grid-row-end:3;text-align:center;cursor:pointer}.main__title[_ngcontent-%COMP%]{font-size:3rem;text-shadow:0 1px 0 #fff,0 2px 0 #fff,0 3px 0 #fff,0 4px 2px #fff,1px 0 0 #fff,2px 0 0 #fff,3px 0 0 #fff,4px 0 2px #fff,0 -1px 0 #fff,0 -2px 0 #fff,0 -3px 0 #fff,0 -4px 2px #fff,-1px 0 0 #fff,-2px 0 0 #fff,-3px 0 0 #fff,-4px 0 2px #fff}.main__translations[_ngcontent-%COMP%]{align-self:center;justify-self:end}.main__chapters[_ngcontent-%COMP%]{display:grid;grid-column-start:2;grid-column-end:4;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:1rem;place-items:center}.main__container[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:4}@media screen and (max-width: 1024px){.main[_ngcontent-%COMP%]{grid-template-columns:1fr 60px}.main__nav-mobile[_ngcontent-%COMP%]{align-self:center;position:fixed;top:1rem;right:.5rem;z-index:1}.main__title[_ngcontent-%COMP%]{font-size:2rem}}"],changeDetection:0}),i})();const W=()=>c.e(477).then(c.bind(c,477)).then(i=>i.GameStepsComponent);var fo,Fs,$=c(6871),_c=c(4375),R=c(6849),fc=c(9424),L=c(8397),Le=c(9551),be=c(4729),V=c(5577),ue=c(4128),re=c(9646),oe=c(8189),N=c(4004),Q=c(2518),Os=c(262),we=c(1995);class Ms{constructor(t,e){this.id=null,this.title="",this.icon="",this.bg="",this.isCustomItems=!1,this.customItemImgExt=null,this.themeItemsIds=null,this.id=t.id,this.title=e[t.id],this.isCustomItems=t.customItems,this.icon=L.J.getIcon(t.id,t.customIcon),this.bg=L.J.getBg(t.id,t.customBg),this.customItemImgExt=t.customItemImgExt||we.D.PNG,this.themeItemsIds=t.themeItemsIds}}class si extends Ms{}class Ps extends Ms{constructor(t,e){super(t,e),fo.add(this),this.themes=null,this.themes=(0,a.Q_)(this,fo,"m",Fs).call(this,t).map(o=>new si(o,e))}}fo=new WeakSet,Fs=function(t){return t.themes||this.id.split("__").map(e=>({id:e}))};const Rs=new n.OlP("AGE_DEPENDENCY");var wt,ks,Ls,Ns,Vs,Re=c(529);class He{constructor(t,e,o){this._http=t,this._translationsService=e,this._ageDependency=o,wt.add(this)}getThemes(t=be.B.chosenGameId){return this._fetchThemes(L.J.getGameThemesUrl(t,this._ageDependency)).pipe((0,V.z)(e=>(0,ue.D)({commonThemesTranslations:(0,a.Q_)(this,wt,"m",ks).call(this,e),commonCustomThemesTranslations:(0,a.Q_)(this,wt,"m",Ls).call(this,e,t),combinedThemesTranslations:(0,a.Q_)(this,wt,"m",Ns).call(this,e),combinedCustomThemesTranslations:(0,a.Q_)(this,wt,"m",Vs).call(this,e,t),config:(0,re.of)(e)}).pipe((0,V.z)(o=>(0,re.of)(o.config).pipe((0,oe.J)(),(0,N.U)(s=>L.J.isCommonTheme(s)?new si(s,{...o.commonThemesTranslations,...o.commonCustomThemesTranslations}):L.J.isCombinedTheme(s)?new Ps(s,{...o.combinedThemesTranslations,...o.combinedCustomThemesTranslations}):(console.error(`Unknown theme ${s.id} in config ${JSON.stringify(s)}`),null)),(0,Q.q)())))))}_fetchThemes(t){return this._http.get(t)}}wt=new WeakSet,ks=function(t){return t.some(e=>L.J.isCommonTheme(e))?this._translationsService.loadTranslation("themes/common"):(0,re.of)(null)},Ls=function(t,e){return t.some(o=>L.J.isCommonTheme(o))?this._translationsService.loadTranslation(`themes/common_custom/${e}`).pipe((0,Os.K)(()=>(0,re.of)(null))):(0,re.of)(null)},Ns=function(t){return t.some(e=>L.J.isCombinedTheme(e))?this._translationsService.loadTranslation("themes/combined"):(0,re.of)(null)},Vs=function(t,e){return t.some(o=>L.J.isCombinedTheme(o))?this._translationsService.loadTranslation(`themes/combined_custom/${e}`).pipe((0,Os.K)(()=>(0,re.of)(null))):(0,re.of)(null)},He.\u0275fac=function(t){return new(t||He)(n.LFG(Re.eN),n.LFG(g.f),n.LFG(Rs,8))},He.\u0275prov=n.Yz7({token:He,factory:He.\u0275fac}),(0,a.gn)([(0,Le.q)()],He.prototype,"_fetchThemes",null);var gc=c(5316),Cc=c(2700),go=c(965),vc=c(8550);function yc(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"figure",5),n.NdJ("click",function(s){const l=n.CHM(e).$implicit,d=n.oxw();return n.KtG(d.selectIcon(s,l))}),n._UZ(1,"img",6),n.TgZ(2,"figcaption")(3,"div",7),n._uU(4),n.ALo(5,"capitalizeFirstLetter"),n.qZA()()()}if(2&i){const e=t.$implicit;n.xp6(1),n.Q6J("preloadImg",e.icon),n.xp6(3),n.hij(" ",n.lcZ(5,2,e.title)," ")}}let J=(()=>{class i extends _c.Q{constructor(e,o){super(o),this._themesService=e,this.cdRef=o,this.category=fc.G.getCategoryById("themes"),this.title=g.f.getTranslation("choose_theme"),this.searchPlaceHolder=`${g.f.getTranslation("search_theme")}...`,this.list$=null}selectIcon(e,o){e.stopPropagation(),L.J.setChosenTheme(o),R.A.updateStepInfo({title:o.title,style:{color:m.r.BLUE}}),R.A.goToNext()}buildList(){this.list$=this._themesService.getThemes().pipe((0,f.b)(()=>this.showList()))}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(He),n.Y36(n.sBO))},i.\u0275cmp=n.Xpm({type:i,selectors:[["theme-choice"]],standalone:!0,features:[n._Bn([He]),n.qOj,n.jDz],decls:7,vars:10,consts:[[3,"category","title"],[3,"placeHolder","searchStrInput"],[3,"loaded"],[1,"list"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"list-item__img",3,"preloadImg"],[1,"list-item__title"]],template:function(e,o){1&e&&(n._UZ(0,"category-title",0),n.TgZ(1,"search-input",1),n.NdJ("searchStrInput",function(r){return o.searchStr=r}),n.qZA(),n.TgZ(2,"spinner-wrapper",2)(3,"div",3),n.YNc(4,yc,6,4,"figure",4),n.ALo(5,"filterIcons"),n.ALo(6,"async"),n.qZA()()),2&e&&(n.Q6J("category",o.category)("title",o.title),n.xp6(1),n.Q6J("placeHolder",o.searchPlaceHolder),n.xp6(1),n.Q6J("loaded",o.loaded),n.xp6(2),n.Q6J("ngForOf",n.xi3(5,5,n.lcZ(6,8,o.list$),o.searchStr)))},dependencies:[b.G,gc.a,Cc.J,go.C,Xt.n,h.Ov,vc.V,h.ax],styles:[".list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:3rem}.list-item[_ngcontent-%COMP%]{padding:10px;border-radius:30px 0;box-shadow:0 0 10px 18px #ffffffbf;background-color:#ffffffbf;border:solid 2px rgba(158,158,158,.15);cursor:pointer}.list-item[_ngcontent-%COMP%]:hover{background-color:#ffffffe6;border-color:#9e9e9e4d}.list-item__img[_ngcontent-%COMP%]{display:block;margin:auto}.list-item__title[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}"],changeDetection:0}),i})();var bc=c(2843),K=c(3900),wc=c(9770),at=c(7926),Y=c(5861),k=c(9417);class Sc{constructor(t,e,o,s){this.theme=e,this.title=o,this.id="",this.img="",this.hasOwnSound=!1,this.titleSoundUrl="",this.ownSoundUrl="",this.titleStyle=null,this.imgStyle=null,this.id=t.id,this.img=L.J.getItemImg(t,e.id,e.isCustomItems,s),this.hasOwnSound=t.hasOwnSound,this.titleSoundUrl=L.J.getTitleSoundUrl(e.id,this.id),this.ownSoundUrl=L.J.getOwnSoundUrl(e.id,this.id)}playTitle(){var t=this;return(0,Y.Z)(function*(){yield k.d.playSound(t.titleSoundUrl)})()}playOwnSound(){var t=this;return(0,Y.Z)(function*(){yield k.d.playSound(t.ownSoundUrl)})()}}let Ce=(()=>{class i{constructor(){this.chosenSetIndex=null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})();var en,Bs,Co;class S{constructor(t,e,o){this._http=t,this._translationsService=e,this._addStepsService=o,en.add(this)}static preloadThemeItemsImgs(t){return at.O.getImages(t.map(e=>e.img))}getItems(t=(()=>!0)){const e=L.J.getChosenTheme();return e instanceof si?(0,a.Q_)(this,en,"m",Co).call(this,e,t):e instanceof Ps?(0,a.Q_)(this,en,"m",Bs).call(this,e,t):(0,bc._)("Unknown theme instance")}_fetchItems(t){return this._http.get(t)}}en=new WeakSet,Bs=function(t,e){return(0,re.of)(t.isCustomItems?[t]:t.themes).pipe((0,oe.J)(),(0,V.z)(o=>(0,a.Q_)(this,en,"m",Co).call(this,o,e)),(0,oe.J)(),(0,Q.q)())},Co=function(t,e){return(0,ue.D)({itemsProps:this._fetchItems(L.J.getItemsUrl(t.id,t.isCustomItems,this._addStepsService?.chosenSetIndex)),translations:t.isCustomItems?(0,re.of)({}):this._translationsService.loadTranslation(`themes/items/${t.id}`)}).pipe((0,V.z)(o=>(0,re.of)(o.itemsProps).pipe((0,oe.J)(),(0,M.h)(e),(0,Q.q)(),(0,K.w)(s=>function Tc(i,t,e){return(0,wc.P)(()=>i()?t:e)}(()=>t.themeItemsIds?.length>0,(0,re.of)(t.themeItemsIds).pipe((0,oe.J)(),(0,N.U)(r=>s.find(l=>l.id===r))),(0,re.of)(s).pipe((0,oe.J)()))),(0,N.U)(s=>new Sc(s,t,o.translations[s.id],this._addStepsService?.chosenSetIndex)),(0,Q.q)())))},S.\u0275fac=function(t){return new(t||S)(n.LFG(Re.eN),n.LFG(g.f),n.LFG(Ce,8))},S.\u0275prov=n.Yz7({token:S,factory:S.\u0275fac}),(0,a.gn)([(0,Le.q)()],S.prototype,"_fetchItems",null);let Ne=(()=>{class i{constructor(){this.loadedData=new n.vpe,this.emittedData=new n.vpe}onDataLoad(e){this.loadedData.emit(e)}emitData(e){this.emittedData.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=n.lG2({type:i,inputs:{data:"data"},outputs:{loadedData:"loadedData",emittedData:"emittedData"}}),i})();var Te=c(5698),ri=c(4986),Ic=c(1350),lt=c(4482),Qe=c(5403),Dc=c(5032),Ec=c(9718),Tt=c(8421);function Gs(i,t){return t?e=>(0,Ic.z)(t.pipe((0,Te.q)(1),function xc(){return(0,lt.e)((i,t)=>{i.subscribe((0,Qe.x)(t,Dc.Z))})}()),e.pipe(Gs(i))):(0,V.z)((e,o)=>(0,Tt.Xf)(i(e,o)).pipe((0,Te.q)(1),(0,Ec.h)(e)))}var yo,ai,zs,St=c(9751),Ac=c(3532);function vo(i=0,t,e=ri.P){let o=-1;return null!=t&&((0,Ac.K)(t)?e=t:o=t),new St.y(s=>{let r=function Oc(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;r<0&&(r=0);let l=0;return e.schedule(function(){s.closed||(s.next(l++),0<=o?this.schedule(void 0,o):s.complete())},r)})}function Ve(i,t=ri.z){const e=vo(i,t);return Gs(()=>e)}class tn extends Ne{constructor(t){super(),this._cdRef=t,yo.add(this),this.loaded=!1,ai.set(this,null)}ngAfterViewInit(){(0,a.Q_)(this,yo,"m",zs).call(this)}ngOnDestroy(){(0,a.Q_)(this,ai,"f")?.unsubscribe()}onDataLoad(t){var e=()=>super.onDataLoad,o=this;return(0,Y.Z)(function*(){o.loaded=!0,o._cdRef.detectChanges(),yield o.data.playTitle(),e().call(o,t)})()}}ai=new WeakMap,yo=new WeakSet,zs=function(){(0,a.YH)(this,ai,at.O.getImage(this.data.img).pipe((0,Te.q)(1),Ve(300),(0,f.b)(()=>this.onDataLoad(this.data))).subscribe(),"f")},tn.\u0275fac=function(t){return new(t||tn)(n.Y36(n.sBO))},tn.\u0275cmp=n.Xpm({type:tn,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!0,features:[n.qOj,n.jDz],decls:6,vars:5,consts:[[3,"loaded"],[1,"item"],[1,"item__img",3,"src"],[1,"item__title"]],template:function(t,e){1&t&&(n.TgZ(0,"spinner-wrapper",0)(1,"figure",1),n._UZ(2,"img",2),n.TgZ(3,"div",3),n._uU(4),n.ALo(5,"capitalizeFirstLetter"),n.qZA()()()),2&t&&(n.Q6J("loaded",e.loaded),n.xp6(2),n.Q6J("src",e.data.img,n.LSH),n.xp6(2),n.hij(" ",n.lcZ(5,3,e.data.title)," "))},dependencies:[go.C,b.G],styles:[".item[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.item__img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:400px;margin:auto}.item__title[_ngcontent-%COMP%]{text-align:center;font-size:3rem}"],changeDetection:0});var ct,Dt,Hs=c(1009),P=(()=>{return(i=P||(P={})).PX="px",i.DEG="deg",i.REM="rem",i.PERCENTAGE="%",P;var i})(),It=c(294),O=c(7579),te=c(2722);const Mc=["content"];class xt{constructor(){this.loadedData=new n.vpe,this.emittedData=new n.vpe,ct.set(this,void 0),Dt.set(this,new O.x)}ngOnInit(){(0,a.YH)(this,ct,this.content.createComponent(this.component),"f"),(0,a.Q_)(this,ct,"f").instance.data=this.data,(0,a.Q_)(this,ct,"f").instance.loadedData.pipe((0,f.b)(t=>this.loadedData.emit(t)),(0,te.R)((0,a.Q_)(this,Dt,"f"))).subscribe(),(0,a.Q_)(this,ct,"f").instance.emittedData.pipe((0,f.b)(t=>this.emittedData.emit(t)),(0,te.R)((0,a.Q_)(this,Dt,"f"))).subscribe()}ngOnDestroy(){(0,a.Q_)(this,Dt,"f").next(),(0,a.Q_)(this,Dt,"f").unsubscribe(),(0,a.Q_)(this,ct,"f").destroy()}}var nn,on,li,dt,Qs,bo;ct=new WeakMap,Dt=new WeakMap,xt.\u0275fac=function(t){return new(t||xt)},xt.\u0275cmp=n.Xpm({type:xt,selectors:[["slide-item-resolver"]],viewQuery:function(t,e){if(1&t&&n.Gf(Mc,7,n.s_b),2&t){let o;n.iGM(o=n.CRH())&&(e.content=o.first)}},inputs:{component:"component",data:"data"},outputs:{loadedData:"loadedData",emittedData:"emittedData"},standalone:!0,features:[n.jDz],decls:2,vars:0,consts:[["content",""]],template:function(t,e){1&t&&n._UZ(0,"template",null,0)},styles:["[_nghost-%COMP%]{height:100%}"]});const Fc=["slidesContainer"],Pc=["carouselSlides"];function Rc(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"div",8),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.slideToLeft())}),n._uU(1," \u25b7 "),n.qZA()}if(2&i){const e=n.oxw();n.Udp("color",e.controlColor)}}function kc(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"slide-item-resolver",11),n.NdJ("loadedData",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.onLoadData())})("emittedData",function(s){n.CHM(e);const r=n.oxw(2);return n.KtG(r.onEmitDataFromItem(s))}),n.qZA()}if(2&i){const e=n.oxw().$implicit,o=n.oxw();n.Q6J("component",o.itemComponent)("data",e)}}function Lc(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"div",9),n.NdJ("click",function(s){const l=n.CHM(e).index,d=n.oxw();return n.KtG(d.onSlideClick(s,l))})("swipeleft",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.swipeToRight())})("swiperight",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.swipeToLeft())}),n.YNc(1,kc,1,2,"slide-item-resolver",10),n.qZA()}if(2&i){const e=t.index,o=n.oxw();n.Udp("width",o.slideWidth),n.xp6(1),n.Q6J("ngIf",o.shouldSlideBeenShown(e))}}function Nc(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"div",12),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.slideToRight())}),n._uU(1," \u25b7 "),n.qZA()}if(2&i){const e=n.oxw();n.Udp("color",e.controlColor)}}const Vc=function(i,t,e){return{width:i,transform:t,transition:e}};class le{constructor(t,e){this.cdRef=t,this.ngZone=e,nn.add(this),this.slides=[],this.slidesCount=1,this.height="400px",this.activeSlideIndex=0,this.showControls=!1,this.controlColor=m.r.GREEN,this.blockManualSwiping=!1,this.slideClick=new n.vpe,this.transitionEnd=new n.vpe,this.emitDataFromItem=new n.vpe,this.items=[],this.sliderContainerWidth=0,this.transition="none",this.isMobile=!1,this.canShift=!0,on.set(this,void 0),li.set(this,void 0),dt.set(this,new O.x)}ngOnInit(){this.activeSlideIndex+=this.slidesCount,(0,a.Q_)(this,nn,"m",Qs).call(this),(0,a.Q_)(this,nn,"m",bo).call(this),this.loadData(),this._observeWindowResize(),It.u.resize$.pipe((0,f.b)(()=>(0,a.Q_)(this,nn,"m",bo).call(this)),(0,te.R)((0,a.Q_)(this,dt,"f"))).subscribe(),It.u.isMobile$.pipe((0,f.b)(t=>{this.isMobile=t,this.cdRef.markForCheck()}),(0,te.R)((0,a.Q_)(this,dt,"f"))).subscribe()}ngOnDestroy(){(0,a.Q_)(this,dt,"f").next(),(0,a.Q_)(this,dt,"f").unsubscribe()}onLoadData(){this.canShift=!0}loadData(t=this.getDefaultIndex()){(0,a.YH)(this,li,this.activeSlideIndex,"f"),this.cdRef.detectChanges()}getDefaultIndex(){return 0===(0,a.Q_)(this,on,"f")?this.activeSlideIndex+this.slidesCount-1:this.activeSlideIndex}doSlide(){this.canShift=!1,this.transition="0.4s ease-in-out"}get slidesWidth(){return`${this.sliderContainerWidth*this.items.length}${P.PX}`}get slideWidth(){return`${this.sliderContainerWidth/this.slidesCount}${P.PX}`}get shift(){return`translate3d(-${this.activeSlideIndex*this.sliderContainerWidth/this.slidesCount}${P.PX}, 0${P.PX}, 0${P.PX})`}shouldSlideBeenShown(t){return(0,a.Q_)(this,li,"f")===t}swipeToRight(){this.blockManualSwiping||this.slideToRight()}swipeToLeft(){this.blockManualSwiping||this.slideToLeft()}slideToRight(){this.canShift&&((0,a.YH)(this,on,0,"f"),this.doSlide(),this.activeSlideIndex++,this.cdRef.detectChanges())}get currentItem(){return this.items[this.activeSlideIndex]}slideToLeft(){this.canShift&&((0,a.YH)(this,on,1,"f"),this.doSlide(),this.activeSlideIndex--,this.cdRef.detectChanges())}onTransitionEnd(){this.transition="none",setTimeout(()=>{if(this.activeSlideIndex===this.slidesCount-1){this.activeSlideIndex=this.items.length-(this.slidesCount+1);for(let t=this.activeSlideIndex+this.slidesCount;t>=this.activeSlideIndex;t--)this.loadData(t)}else this.activeSlideIndex===this.items.length-this.slidesCount?(this.activeSlideIndex=this.slidesCount,this.loadData()):this.loadData();this.cdRef.detectChanges(),this.transitionEnd.emit()},0)}onSlideClick(t,e){t.stopPropagation(),this.slideClick.emit(e-this.slidesCount)}onEmitDataFromItem(t){this.emitDataFromItem.emit(t)}_observeWindowResize(){It.u.observeWindowResize().pipe((0,te.R)((0,a.Q_)(this,dt,"f"))).subscribe()}}var Ue;function Bc(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"div",8),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.slideToLeft())}),n._uU(1," \u25b7 "),n.qZA()}if(2&i){const e=n.oxw();n.Udp("color",e.controlColor)}}function Gc(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"slide-item-resolver",11),n.NdJ("loadedData",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.onLoadData())})("emittedData",function(s){n.CHM(e);const r=n.oxw(2);return n.KtG(r.onEmitDataFromItem(s))}),n.qZA()}if(2&i){const e=n.oxw().$implicit,o=n.oxw();n.Q6J("component",o.itemComponent)("data",e)}}function zc(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"div",9),n.NdJ("click",function(s){const l=n.CHM(e).index,d=n.oxw();return n.KtG(d.onSlideClick(s,l))})("swipeleft",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.swipeToRight())})("swiperight",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.swipeToLeft())}),n.YNc(1,Gc,1,2,"slide-item-resolver",10),n.qZA()}if(2&i){const e=t.index,o=n.oxw();n.Udp("width",o.slideWidth),n.xp6(1),n.Q6J("ngIf",o.shouldSlideBeenShown(e))}}function Hc(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"div",12),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.slideToRight())}),n._uU(1," \u25b7 "),n.qZA()}if(2&i){const e=n.oxw();n.Udp("color",e.controlColor)}}on=new WeakMap,li=new WeakMap,dt=new WeakMap,nn=new WeakSet,Qs=function(){for(let t=this.slidesCount;t>0;t--)this.items.push(this.slides[this.slides.length-t]);Array.prototype.push.apply(this.items,this.slides);for(let t=0;t<this.slidesCount;t++)this.items.push(this.slides[t])},bo=function(){this.sliderContainerWidth=this.slidesContainerEl.nativeElement.offsetWidth,this.cdRef.markForCheck()},le.\u0275fac=function(t){return new(t||le)(n.Y36(n.sBO),n.Y36(n.R0b))},le.\u0275cmp=n.Xpm({type:le,selectors:[["carousel"]],viewQuery:function(t,e){if(1&t&&(n.Gf(Fc,7),n.Gf(Pc,7)),2&t){let o;n.iGM(o=n.CRH())&&(e.slidesContainerEl=o.first),n.iGM(o=n.CRH())&&(e.carouselSlidesEl=o.first)}},inputs:{slides:"slides",itemComponent:"itemComponent",slidesCount:"slidesCount",height:"height",activeSlideIndex:"activeSlideIndex",showControls:"showControls",controlColor:"controlColor",blockManualSwiping:"blockManualSwiping"},outputs:{slideClick:"slideClick",transitionEnd:"transitionEnd",emitDataFromItem:"emitDataFromItem"},standalone:!0,features:[n.jDz],decls:8,vars:10,consts:[[1,"carousel"],["class","carousel__control carousel__control--left",3,"color","click",4,"ngIf"],[1,"carousel__slides-container"],["slidesContainer",""],[1,"carousel__slides",3,"ngStyle","transitionend"],["carouselSlides",""],["class","carousel__slide",3,"width","click","swipeleft","swiperight",4,"ngFor","ngForOf"],["class","carousel__control carousel__control--right",3,"color","click",4,"ngIf"],[1,"carousel__control","carousel__control--left",3,"click"],[1,"carousel__slide",3,"click","swipeleft","swiperight"],[3,"component","data","loadedData","emittedData",4,"ngIf"],[3,"component","data","loadedData","emittedData"],[1,"carousel__control","carousel__control--right",3,"click"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.YNc(1,Rc,2,2,"div",1),n.TgZ(2,"div",2,3)(4,"div",4,5),n.NdJ("transitionend",function(){return e.onTransitionEnd()}),n.YNc(6,Lc,2,3,"div",6),n.qZA()(),n.YNc(7,Nc,2,2,"div",7),n.qZA()),2&t&&(n.xp6(1),n.Q6J("ngIf",e.showControls&&!e.isMobile),n.xp6(1),n.Udp("height",e.height),n.xp6(2),n.Q6J("ngStyle",n.kEZ(6,Vc,e.slidesWidth,e.shift,e.transition)),n.xp6(2),n.Q6J("ngForOf",e.items),n.xp6(1),n.Q6J("ngIf",e.showControls&&!e.isMobile))},dependencies:[h.O5,h.ax,h.PC,xt],styles:[".carousel[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;position:relative}.carousel__control[_ngcontent-%COMP%]{display:grid;place-items:center;justify-content:center;width:4rem;height:100%;position:absolute;top:0;font-size:4rem;font-weight:700;cursor:pointer;z-index:1}.carousel__control--right[_ngcontent-%COMP%]{right:0}.carousel__control--left[_ngcontent-%COMP%]{left:0;transform:rotateY(180deg)}.carousel__slides[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.carousel__slides-container[_ngcontent-%COMP%]{width:100%;overflow:hidden}.carousel__slide[_ngcontent-%COMP%]{height:100%;float:left}"],changeDetection:0}),(0,a.gn)([Hs.A],le.prototype,"_observeWindowResize",null);const Qc=function(i,t,e){return{width:i,transform:t,transition:e}};class Et extends le{constructor(t,e){super(t,e),this.interval=5e3,Ue.set(this,null)}ngOnDestroy(){super.ngOnDestroy(),clearTimeout((0,a.Q_)(this,Ue,"f"))}onBlur(){clearTimeout((0,a.Q_)(this,Ue,"f"))}onFocus(){this._startAutoSliding()}onLoadData(){this._startAutoSliding()}doSlide(){clearTimeout((0,a.Q_)(this,Ue,"f")),super.doSlide()}loadData(){clearTimeout((0,a.Q_)(this,Ue,"f")),super.loadData()}_startAutoSliding(){clearTimeout((0,a.Q_)(this,Ue,"f")),this.canShift=!0,(0,a.YH)(this,Ue,setTimeout(()=>this.slideToRight(),this.interval),"f")}}Ue=new WeakMap,Et.\u0275fac=function(t){return new(t||Et)(n.Y36(n.sBO),n.Y36(n.R0b))},Et.\u0275cmp=n.Xpm({type:Et,selectors:[["auto-carousel"]],hostBindings:function(t,e){1&t&&n.NdJ("blur",function(){return e.onBlur()},!1,n.Jf7)("focus",function(){return e.onFocus()},!1,n.Jf7)},inputs:{interval:"interval"},standalone:!0,features:[n.qOj,n.jDz],decls:8,vars:10,consts:[[1,"carousel"],["class","carousel__control carousel__control--left",3,"color","click",4,"ngIf"],[1,"carousel__slides-container"],["slidesContainer",""],[1,"carousel__slides",3,"ngStyle","transitionend"],["carouselSlides",""],["class","carousel__slide",3,"width","click","swipeleft","swiperight",4,"ngFor","ngForOf"],["class","carousel__control carousel__control--right",3,"color","click",4,"ngIf"],[1,"carousel__control","carousel__control--left",3,"click"],[1,"carousel__slide",3,"click","swipeleft","swiperight"],[3,"component","data","loadedData","emittedData",4,"ngIf"],[3,"component","data","loadedData","emittedData"],[1,"carousel__control","carousel__control--right",3,"click"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.YNc(1,Bc,2,2,"div",1),n.TgZ(2,"div",2,3)(4,"div",4,5),n.NdJ("transitionend",function(){return e.onTransitionEnd()}),n.YNc(6,zc,2,3,"div",6),n.qZA()(),n.YNc(7,Hc,2,2,"div",7),n.qZA()),2&t&&(n.xp6(1),n.Q6J("ngIf",e.showControls&&!e.isMobile),n.xp6(1),n.Udp("height",e.height),n.xp6(2),n.Q6J("ngStyle",n.kEZ(6,Qc,e.slidesWidth,e.shift,e.transition)),n.xp6(2),n.Q6J("ngForOf",e.items),n.xp6(1),n.Q6J("ngIf",e.showControls&&!e.isMobile))},dependencies:[h.O5,h.ax,h.PC,xt],styles:[".carousel[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;position:relative}.carousel__control[_ngcontent-%COMP%]{display:grid;place-items:center;justify-content:center;width:4rem;height:100%;position:absolute;top:0;font-size:4rem;font-weight:700;cursor:pointer;z-index:1}.carousel__control--right[_ngcontent-%COMP%]{right:0}.carousel__control--left[_ngcontent-%COMP%]{left:0;transform:rotateY(180deg)}.carousel__slides[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.carousel__slides-container[_ngcontent-%COMP%]{width:100%;overflow:hidden}.carousel__slide[_ngcontent-%COMP%]{height:100%;float:left}"],changeDetection:0});var Uc=c(3099),I=c(2188);let sn=(()=>{class i{constructor(e,o){this._elementRef=e,this._renderer=o}ngOnChanges(){this._renderer.setStyle(this._elementRef.nativeElement,I.L.VISIBILITY,this.isVisible?"visible":"hidden")}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.Qsj))},i.\u0275dir=n.lG2({type:i,selectors:[["","isVisible",""]],inputs:{isVisible:"isVisible"},standalone:!0,features:[n.TTD]}),i})();var ut,Us=c(2925);class Se{constructor(t,e){this.ngZone=t,this.document=e,ut.set(this,new O.x)}ngOnInit(){this._observeWindowResize(),It.u.resize$.pipe((0,f.b)(()=>this.setGameSizes()),(0,te.R)((0,a.Q_)(this,ut,"f"))).subscribe(),It.u.isMobile$.pipe((0,f.b)(()=>be.B.setBodyPadding(this.document.body)),(0,te.R)((0,a.Q_)(this,ut,"f"))).subscribe()}ngAfterViewInit(){this.setGameSizes()}ngOnDestroy(){(0,a.Q_)(this,ut,"f").next(null),(0,a.Q_)(this,ut,"f").unsubscribe()}_observeWindowResize(){It.u.observeWindowResize().pipe((0,te.R)((0,a.Q_)(this,ut,"f"))).subscribe()}}ut=new WeakMap,Se.\u0275fac=function(t){return new(t||Se)(n.Y36(n.R0b),n.Y36(h.K0))},Se.\u0275dir=n.lG2({type:Se}),(0,a.gn)([Hs.A],Se.prototype,"_observeWindowResize",null);let Wc=(()=>{class i extends Se{constructor(e,o,s,r){super(s,r),this._elementRef=e,this._renderer=o}setGameSizes(){this._renderer.setStyle(this._elementRef.nativeElement,I.L.HEIGHT,`${be.B.getViewPortHeight()}${P.PX}`)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.R0b),n.Y36(h.K0))},i.\u0275dir=n.lG2({type:i,selectors:[["","gameViewportSizer",""]],standalone:!0,features:[n.qOj]}),i})();function Zc(i,t){1&i&&n._UZ(0,"spinner")}const $c=["*"];let j=(()=>{class i{constructor(e){this._translationsService=e,this.gameLoader=null,this.loadGame=new n.vpe,this.gameLoaded$=null}ngOnInit(){this.gameLoaded$=this.gameLoader.pipe((0,V.z)(()=>(0,ue.D)({sounds:k.d.getAllBaseSounds(),translations:this._translationsService.loadTranslation("game_started")}).pipe(Ve(300),(0,N.U)(e=>(R.A.updateStepInfo({title:e.translations.start_game,style:{color:m.r.PURPLE}}),this.loadGame.emit(),!0)))),(0,Uc.B)())}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(g.f))},i.\u0275cmp=n.Xpm({type:i,selectors:[["game-spinner-wrapper"]],inputs:{gameLoader:"gameLoader"},outputs:{loadGame:"loadGame"},standalone:!0,features:[n.jDz],ngContentSelectors:$c,decls:5,vars:6,consts:[[4,"ngIf"],["gameViewportSizer","",1,"h--100",3,"isVisible"]],template:function(e,o){1&e&&(n.F$t(),n.YNc(0,Zc,1,0,"spinner",0),n.ALo(1,"async"),n.TgZ(2,"div",1),n.ALo(3,"async"),n.Hsn(4),n.qZA()),2&e&&(n.Q6J("ngIf",!n.lcZ(1,2,o.gameLoaded$)),n.xp6(2),n.Q6J("isVisible",n.lcZ(3,4,o.gameLoaded$)))},dependencies:[h.O5,h.Ov,sn,Us.O,Wc],encapsulation:2,changeDetection:0}),i})();var wo,Ws;function Yc(i,t){if(1&i&&(n.TgZ(0,"div",2)(1,"div",3),n._UZ(2,"auto-carousel",4),n.qZA()()),2&i){const e=n.oxw();n.xp6(2),n.Q6J("slides",e.items)("itemComponent",e.itemComponent)("height","500px")("showControls",!0)}}class rn{constructor(t){this._themeItemsService=t,wo.add(this),this.items=null,this.gameLoader=null,this.itemComponent=tn}ngOnInit(){(0,a.Q_)(this,wo,"m",Ws).call(this)}}wo=new WeakSet,Ws=function(){this.gameLoader=this._themeItemsService.getItems().pipe((0,f.b)(t=>this.items=t))},rn.\u0275fac=function(t){return new(t||rn)(n.Y36(S))},rn.\u0275cmp=n.Xpm({type:rn,selectors:[["ng-component"]],standalone:!0,features:[n._Bn([S]),n.jDz],decls:2,vars:2,consts:[[3,"gameLoader"],["class","theme",4,"ngIf"],[1,"theme"],[1,"theme__carousel"],[3,"slides","itemComponent","height","showControls"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0),n.YNc(1,Yc,3,4,"div",1),n.qZA()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(1),n.Q6J("ngIf",null==e.items?null:e.items.length))},dependencies:[Et,h.O5,j],styles:[".theme[_ngcontent-%COMP%]{display:grid;width:100%;max-width:700px;height:100%;margin:auto}.theme__carousel[_ngcontent-%COMP%]{overflow:hidden;align-self:center}"],changeDetection:0});const jc={path:"theme_description",loadComponent:W,providers:[{provide:$.s,useValue:[J,rn]}]};var ci,To,Zs;class an extends Ne{constructor(t){super(),this._cdRef=t,this.loaded=!1,ci.set(this,null)}ngAfterViewInit(){this._showItem()}ngOnDestroy(){(0,a.Q_)(this,ci,"f")?.unsubscribe()}_showItem(){(0,a.YH)(this,ci,at.O.getImage(this.data.img).pipe(Ve(300),(0,f.b)(()=>this.onDataLoad(this.data))).subscribe(),"f")}onDataLoad(t){var e=()=>super.onDataLoad,o=this;return(0,Y.Z)(function*(){o.loaded=!0,o._cdRef.detectChanges(),yield t.playTitle(),yield t.playOwnSound(),e().call(o,t)})()}}function Jc(i,t){if(1&i&&(n.TgZ(0,"div",2)(1,"div",3),n._UZ(2,"auto-carousel",4),n.qZA()()),2&i){const e=n.oxw();n.xp6(2),n.Q6J("slides",e.items)("itemComponent",e.itemComponent)("interval",2e3)("height","500px")("showControls",!0)}}ci=new WeakMap,an.\u0275fac=function(t){return new(t||an)(n.Y36(n.sBO))},an.\u0275cmp=n.Xpm({type:an,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(Xt.n,5),2&t){let o;n.iGM(o=n.CRH())&&(e.preloadImgVCh=o.first)}},inputs:{data:"data"},standalone:!0,features:[n.qOj,n.jDz],decls:6,vars:5,consts:[[3,"loaded"],[1,"item"],[1,"item__img",3,"src"],[1,"item__title"]],template:function(t,e){1&t&&(n.TgZ(0,"spinner-wrapper",0)(1,"figure",1),n._UZ(2,"img",2),n.TgZ(3,"div",3),n._uU(4),n.ALo(5,"capitalizeFirstLetter"),n.qZA()()()),2&t&&(n.Q6J("loaded",e.loaded),n.xp6(2),n.Q6J("src",e.data.img,n.LSH),n.xp6(2),n.hij(" ",n.lcZ(5,3,e.data.title)," "))},dependencies:[go.C,b.G],styles:[".item[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.item__img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:400px;margin:auto}.item__title[_ngcontent-%COMP%]{text-align:center;font-size:3rem}"],changeDetection:0});class ln{constructor(t){this._themeItemsService=t,To.add(this),this.gameLoader=null,this.items=null,this.itemComponent=an}ngOnInit(){(0,a.Q_)(this,To,"m",Zs).call(this)}}To=new WeakSet,Zs=function(){this.gameLoader=this._themeItemsService.getItems(e=>e.hasOwnSound).pipe((0,f.b)(e=>this.items=e))},ln.\u0275fac=function(t){return new(t||ln)(n.Y36(S))},ln.\u0275cmp=n.Xpm({type:ln,selectors:[["ng-component"]],standalone:!0,features:[n._Bn([S]),n.jDz],decls:2,vars:2,consts:[[3,"gameLoader"],["class","theme",4,"ngIf"],[1,"theme"],[1,"theme__carousel"],[3,"slides","itemComponent","interval","height","showControls"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0),n.YNc(1,Jc,3,5,"div",1),n.qZA()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(1),n.Q6J("ngIf",null==e.items?null:e.items.length))},dependencies:[h.O5,j,Et],styles:[".theme[_ngcontent-%COMP%]{display:grid;width:100%;max-width:700px;height:100%;margin:auto}.theme__carousel[_ngcontent-%COMP%]{overflow:hidden;align-self:center}"],changeDetection:0});const Kc={path:"theme_sounds",loadComponent:W,providers:[{provide:$.s,useValue:[J,ln]}]},qc={0:m.r.PINK,1:m.r.ORANGE,2:m.r.GREEN},Xc={0:"3 - 4",1:"4 - 5",2:"5 - 6"};class ed{constructor(t,e){this.id=t;const o=Xc[this.id];this.title=`${o} ${e[o]}`,this.color=qc[this.id]}}var B=c(5713);const he=new n.OlP("AGES_CONFIG_TOKEN"),$s=new n.OlP("STEPS_TO_RESET_TOKEN");var di,So;class cn{constructor(){di.add(this)}static _getStyleProp(t){return`style.${t}`}ngOnInit(){(0,a.Q_)(this,di,"m",So).call(this)}onMouseEnter(){this.color=this.borderColor=m.r.WHITE,this.bgColor=this.age.color,this.boxShadow=`0 0 16px 3px ${m.r.LIGHT_GREY}`}onMouseLeave(){(0,a.Q_)(this,di,"m",So).call(this)}}function td(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"div",4),n.NdJ("click",function(){const r=n.CHM(e).$implicit,l=n.oxw(2);return n.KtG(l.chooseAge(r))}),n._uU(1),n.qZA()}if(2&i){const e=t.$implicit;n.Q6J("ageItemColorize",e),n.xp6(1),n.hij(" ",e.title," ")}}function nd(i,t){if(1&i&&(n.TgZ(0,"div",1)(1,"div",2),n._uU(2),n.ALo(3,"capitalizeFirstLetter"),n.qZA(),n.YNc(4,td,2,2,"div",3),n.qZA()),2&i){const e=t.ngIf;n.xp6(2),n.hij("",n.lcZ(3,2,e.title),"?"),n.xp6(2),n.Q6J("ngForOf",e.ages)}}di=new WeakSet,So=function(){this.color=this.borderColor=this.age.color,this.bgColor=m.r.WHITE,this.boxShadow="none"},cn.\u0275fac=function(t){return new(t||cn)},cn.\u0275dir=n.lG2({type:cn,selectors:[["","ageItemColorize",""]],hostVars:8,hostBindings:function(t,e){1&t&&n.NdJ("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()}),2&t&&n.Udp("color",e.color)("border-color",e.borderColor)("background-color",e.bgColor)("box-shadow",e.boxShadow)},inputs:{age:["ageItemColorize","age"]},standalone:!0});let ve=(()=>{class i{constructor(e,o,s){this._agesConfig=e,this._stepsToReset=o,this._translationsService=s,this.content$=this._translationsService.loadTranslation("ages").pipe((0,N.U)(r=>({title:r.title,ages:Array.from(this._agesConfig.keys()).map(l=>new ed(l,r))})))}ngOnInit(){B.k.setAgesConfig(this._agesConfig),this._stepsToReset&&R.A.resetSteps(this._stepsToReset)}chooseAge(e){B.k.setAgeId(e.id),R.A.updateStepInfo({title:e.title,style:{color:e.color}}),R.A.goToNext()}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(he),n.Y36($s,8),n.Y36(g.f))},i.\u0275cmp=n.Xpm({type:i,selectors:[["age-choice"]],standalone:!0,features:[n.jDz],decls:2,vars:3,consts:[["class","ages-choice",4,"ngIf"],[1,"ages-choice"],[1,"ages-choice__title"],["class","ages-choice__age",3,"ageItemColorize","click",4,"ngFor","ngForOf"],[1,"ages-choice__age",3,"ageItemColorize","click"]],template:function(e,o){1&e&&(n.YNc(0,nd,5,4,"div",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,o.content$))},dependencies:[b.G,cn,h.Ov,h.O5,h.ax],styles:[".ages-choice__title[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center;font-size:3rem;color:#70b}.ages-choice__age[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:2rem auto;padding:.5rem;text-align:center;font-size:2rem;font-weight:bolder;border:2px solid;border-radius:50%;cursor:pointer}"],changeDetection:0}),i})();var Ys,js,id=c(8737);function Oe(i,t=null){return t=t??i,(0,lt.e)((e,o)=>{let s=[],r=0;e.subscribe((0,Qe.x)(o,l=>{let d=null;r++%t==0&&s.push([]);for(const p of s)p.push(l),i<=p.length&&(d=d??[],d.push(p));if(d)for(const p of d)(0,id.P)(s,p),o.next(p)},()=>{for(const l of s)o.next(l);o.complete()},void 0,()=>{s=null}))})}class D{static shuffle(t){if(t.length<1)return console.warn("Empty array!"),t;const e=[...t];for(;!(0,a.Q_)(D,Ys,"m",js).call(D,t,e);)e.sort(()=>Math.random()-.5);return e}static getRandItems(t,e=t.length){if(e>t.length)throw new Error(`maxArrLength ${e} should be equal or less than items length ${t.length}`);const o=D.shuffle(t);return o.length=e,o}static getDoubledRandItems(t,e=t.length){const o=D.getRandItems(t,e);return D.shuffle([...o,...o])}static uniq(t){return Array.from(new Set(t))}static getSequence(t,e=0){const o=[];for(let s=e;s<t;s++)o.push(s);return o}static groupArrByLength(t,e){const o=new Map;let s=0,r=0,l=0;for(;l<t.length;)r=s*e,l=r+e,o.set(s,t.slice(r,l)),s++;return o}static getRndInteger(t,e){return Math.floor(Math.random()*(e-t))+t}static getRndArrElem(t){return t[D.getRndInteger(0,t.length)]}}Ys=D,js=function(t,e){for(const[o,s]of t.entries())if(s!==e[o])return!0;return!1};const Js="card--rotated";var At;const od=["card"];class dn{constructor(t){this._renderer=t,this.cardRotate=new n.vpe,this.transitionEnd=new n.vpe,At.set(this,!1)}isOpen(){return(0,a.Q_)(this,At,"f")}rotateForward(){(0,a.YH)(this,At,!0,"f"),this._renderer.addClass(this.cardVCh.nativeElement,Js)}rotateBack(){(0,a.YH)(this,At,!1,"f"),this._renderer.removeClass(this.cardVCh.nativeElement,Js)}onCardClick(){(0,a.Q_)(this,At,"f")||this.cardRotate.emit(this)}onTransitionEnd(){this.transitionEnd.emit(this)}}At=new WeakMap,dn.\u0275fac=function(t){return new(t||dn)(n.Y36(n.Qsj))},dn.\u0275cmp=n.Xpm({type:dn,selectors:[["card"]],viewQuery:function(t,e){if(1&t&&n.Gf(od,7),2&t){let o;n.iGM(o=n.CRH())&&(e.cardVCh=o.first)}},inputs:{item:"item"},outputs:{cardRotate:"cardRotate",transitionEnd:"transitionEnd"},standalone:!0,features:[n.jDz],decls:7,vars:1,consts:[[1,"card-container",3,"click"],[1,"card",3,"transitionend"],["card",""],[1,"card__front"],[1,"card__back","radial-gradient--medium-grey"],[1,"card__img",3,"src"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.NdJ("click",function(){return e.onCardClick()}),n.TgZ(1,"div",1,2),n.NdJ("transitionend",function(){return e.onTransitionEnd()}),n.TgZ(3,"div",3),n._uU(4,"?"),n.qZA(),n.TgZ(5,"div",4),n._UZ(6,"img",5),n.qZA()()()),2&t&&(n.xp6(6),n.Q6J("src",e.item.img,n.LSH))},styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}[_nghost-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center;transition:transform 1s;transform-style:preserve-3d}.card-container[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto;perspective:1000px}.card--rotated[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card__front[_ngcontent-%COMP%], .card__back[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center;position:absolute;-webkit-backface-visibility:hidden;backface-visibility:hidden;border-radius:8px}.card__front[_ngcontent-%COMP%]{background:radial-gradient(#7085dc,#5c74d7);color:#fff;font-family:Helvetica,sans-serif;font-size:4rem;cursor:pointer}.card__back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}"],changeDetection:0});let Me=(()=>{class i extends Se{constructor(e,o,s,r){super(s,r),this._elementRef=e,this._renderer=o,this.rowsAmount=1,this.columnsAmount=1,this.itemSize=300,this.coeff=1}ngOnInit(){super.ngOnInit(),this._renderer.setStyle(this._elementRef.nativeElement,I.L.DISPLAY,"grid"),this._renderer.setStyle(this._elementRef.nativeElement,I.L.GRID_GAP,`0.5${P.REM}`),this._renderer.setStyle(this._elementRef.nativeElement,I.L.JUSTIFY_CONTENT,"center")}setGameSizes(){const e=Math.min(this.itemSize,be.B.getGridContainerMinDimension()/Math.max(this.rowsAmount,this.columnsAmount)-12);this._renderer.setStyle(this._elementRef.nativeElement,I.L.GRID_TEMPLATE_COLUMNS,`repeat(${this.columnsAmount}, ${e}${P.PX})`),this._renderer.setStyle(this._elementRef.nativeElement,I.L.GRID_TEMPLATE_ROWS,`repeat(${this.rowsAmount}, ${e*this.coeff}${P.PX})`)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.R0b),n.Y36(h.K0))},i.\u0275dir=n.lG2({type:i,selectors:[["","gridSizer",""]],inputs:{rowsAmount:"rowsAmount",columnsAmount:"columnsAmount",itemSize:"itemSize",coeff:"coeff"},standalone:!0,features:[n.qOj]}),i})();var We,ui,hi,ht,un,hn,Ks,qs,mi,Xs;function sd(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"card",3),n.NdJ("cardRotate",function(s){n.CHM(e);const r=n.oxw();return n.KtG(r.card$.next(s))})("transitionEnd",function(s){n.CHM(e);const r=n.oxw();return n.KtG(r.onCardTransitionEnd(s))}),n.qZA()}2&i&&n.Q6J("item",t.$implicit)}class mn{constructor(t){this._themeItemsService=t,We.add(this),this.gameLoader=null,this.items=null,this.card$=new O.x,this.rowsAmount=B.k.getAgesConfig().totalCards/2,ui.set(this,new O.x),hi.set(this,new O.x),ht.set(this,new O.x),un.set(this,0),hn.set(this,0)}ngOnInit(){(0,a.Q_)(this,We,"m",Ks).call(this)}ngOnDestroy(){(0,a.Q_)(this,ht,"f").next(),(0,a.Q_)(this,ht,"f").unsubscribe()}onCardTransitionEnd(t){t.isOpen()?(0,a.Q_)(this,ui,"f").next(t):(0,a.Q_)(this,hi,"f").next(t)}}ui=new WeakMap,hi=new WeakMap,ht=new WeakMap,un=new WeakMap,hn=new WeakMap,We=new WeakSet,Ks=function(){this.gameLoader=this._themeItemsService.getItems().pipe((0,f.b)(t=>{this.items=D.getDoubledRandItems(t,B.k.getAgesConfig().totalCards),(0,a.YH)(this,hn,0,"f"),(0,a.Q_)(this,We,"m",mi).call(this),(0,a.Q_)(this,We,"m",Xs).call(this)}),(0,V.z)(()=>(0,ue.D)([S.preloadThemeItemsImgs(this.items),k.d.preloadThemeItemsTitleSounds(this.items)])))},qs=function(){var i=(0,Y.Z)(function*(e){e[0].item.img===e[1].item.img?((0,a.Q_)(this,We,"m",mi).call(this),yield e[0].item.playTitle(),setTimeout(()=>{var o;(0,a.YH)(this,hn,(o=(0,a.Q_)(this,hn,"f"),++o),"f")===B.k.getAgesConfig().totalCards&&R.A.gameCompleted()},100)):setTimeout(()=>{e.forEach(o=>o.rotateBack())},B.k.getAgesConfig().openCardsShowTime)});return function t(e){return i.apply(this,arguments)}}(),mi=function(){(0,a.YH)(this,un,0,"f")},Xs=function(){this.card$.pipe((0,M.h)(()=>{var t;return(0,a.YH)(this,un,(t=(0,a.Q_)(this,un,"f"),++t),"f")<=2}),(0,f.b)(t=>t.rotateForward()),(0,te.R)((0,a.Q_)(this,ht,"f"))).subscribe(),(0,a.Q_)(this,ui,"f").pipe(Oe(2),(0,f.b)(t=>(0,a.Q_)(this,We,"m",qs).call(this,t)),(0,te.R)((0,a.Q_)(this,ht,"f"))).subscribe(),(0,a.Q_)(this,hi,"f").pipe(Oe(2),(0,f.b)(()=>(0,a.Q_)(this,We,"m",mi).call(this)),(0,te.R)((0,a.Q_)(this,ht,"f"))).subscribe()},mn.\u0275fac=function(t){return new(t||mn)(n.Y36(S))},mn.\u0275cmp=n.Xpm({type:mn,selectors:[["ng-component"]],standalone:!0,features:[n._Bn([S]),n.jDz],decls:3,vars:3,consts:[[3,"gameLoader"],["gridSizer","","columnsAmount","4",3,"rowsAmount"],[3,"item","cardRotate","transitionEnd",4,"ngFor","ngForOf"],[3,"item","cardRotate","transitionEnd"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1),n.YNc(2,sd,1,1,"card",2),n.qZA()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(1),n.s9C("rowsAmount",e.rowsAmount),n.xp6(1),n.Q6J("ngForOf",e.items))},dependencies:[h.ax,dn,j,Me],encapsulation:2,changeDetection:0});const rd={path:"find_the_pair",loadComponent:W,providers:[{provide:$.s,useValue:[ve,J,mn]},{provide:he,useValue:new Map([[0,{totalCards:4,openCardsShowTime:2e3}],[1,{totalCards:6,openCardsShowTime:1500}],[2,{totalCards:8,openCardsShowTime:1e3}]])}]};class Ie{constructor(t){this._http=t}static getItemsToChoose(t){return Ie.itemsToChoose=D.getRandItems(t,8),Ie.itemsToChoose}static get bgUrl(){return`${L.J.getGameThemeFolderById("who_disappeared")}bg.${we.D.PNG}`}getCoords(){const t=`${L.J.getGameThemeFolderById("who_disappeared")}coords.${we.D.JSON}`;return this._fetchCoords(t)}_fetchCoords(t){return this._http.get(t)}}Ie.itemsToChoose=null,Ie.items=null,(0,a.gn)([(0,Le.q)()],Ie.prototype,"_fetchCoords",null);let ad=(()=>{class i extends Ie{constructor(e){super(e),this.gameIdForTranslation="who_disappeared"}buildItemsAfterHiding(){return i.items.splice(1)}getIdToFind(){return i.items=D.shuffle(i.items),i.items[0].id}getRandItems(){return i.items=D.getRandItems(i.itemsToChoose,B.k.getAgesConfig().amount),i.items}}return i.\u0275fac=function(e){return new(e||i)(n.LFG(Re.eN))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})(),pn=(()=>{class i extends Se{constructor(e,o,s,r){super(s,r),this._elementRef=e,this._renderer=o,this.img=null}setGameSizes(){this._renderer.removeStyle(this._elementRef.nativeElement,I.L.MAX_WIDTH);const e=this.img?.getBoundingClientRect().width;e&&this._renderer.setStyle(this._elementRef.nativeElement,I.L.MAX_WIDTH,`${e}${P.PX}`)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.R0b),n.Y36(h.K0))},i.\u0275dir=n.lG2({type:i,selectors:[["","imgWrapper",""]],inputs:{img:"img"},standalone:!0,features:[n.qOj]}),i})();var Ze,pi,mt,er,tr,Do,nr,ir,me=(()=>{return(i=me||(me={})).SHAKE_HORIZONTAL="shake-horizontal",i.SLIDE_IN_FWD_CENTER="slide-in-fwd-center",i.PULSATE_FWD="pulsate-fwd",i.ROTATE_IN_CENTER="rotate-in-center",i.ROTATE_OUT_CENTER="rotate-out-center",i.BOUNCE_IN_FWD="bounce-in-fwd",me;var i})();const ld=["imgs"];class Ot{constructor(){Ze.add(this),this.bgUrl=Ie.bgUrl,this.percentage=P.PERCENTAGE,this.gameLoader=null,this.gameLoaded=!1,this.coords=null,this.items=null,this.itemsToChoose=null,this.time=0,this.showItemsBar=!1,this.question="",this.animationEnd$=new O.x,this.variant$=new O.x,pi.set(this,""),mt.set(this,new O.x),this._commonService=(0,n.f3M)(Ie),this._themeItemsService=(0,n.f3M)(S),this._translationsService=(0,n.f3M)(g.f),this._renderer=(0,n.f3M)(n.Qsj)}ngOnInit(){be.B.chosenGameId="who_disappeared",(0,a.Q_)(this,Ze,"m",er).call(this)}ngOnDestroy(){(0,a.Q_)(this,mt,"f").next(),(0,a.Q_)(this,mt,"f").unsubscribe()}onLoadGame(){this.gameLoaded=!0,requestAnimationFrame(()=>this.imgWrapperVCh.setGameSizes())}hideItems(){(0,a.Q_)(this,Ze,"m",Do).call(this,me.ROTATE_OUT_CENTER)}animateCorrectImg(t){this._renderer.setStyle(t,I.L.OPACITY,1),this._renderer.removeClass(t,me.ROTATE_IN_CENTER),this._renderer.addClass(t,me.PULSATE_FWD)}}function or(i=0,t=ri.z){return i<0&&(i=0),vo(i,i,t)}var xo,_i,sr;pi=new WeakMap,mt=new WeakMap,Ze=new WeakSet,er=function(){this.gameLoader=(0,ue.D)({coords:this._commonService.getCoords(),items:this._themeItemsService.getItems(),bg:at.O.getImage(this.bgUrl),question:this._translationsService.loadTranslation(`games/${this._commonService.gameIdForTranslation}`)}).pipe((0,f.b)(t=>{this.itemsToChoose=Ie.getItemsToChoose(t.items),this.items=this._commonService.getRandItems(),this.coords=D.shuffle(t.coords),this.time=B.k.getAgesConfig().time,this.question=t.question[L.J.getChosenTheme().id]}),(0,V.z)(()=>S.preloadThemeItemsImgs(this.itemsToChoose))),this.animationEnd$.pipe((0,Te.q)(B.k.getAgesConfig().amount),Oe(B.k.getAgesConfig().amount),(0,f.b)(()=>(0,a.Q_)(this,Ze,"m",tr).call(this)),Ve(400),(0,f.b)(()=>{(0,a.Q_)(this,Ze,"m",Do).call(this,me.ROTATE_IN_CENTER),(0,a.Q_)(this,Ze,"m",nr).call(this)}),(0,te.R)((0,a.Q_)(this,mt,"f"))).subscribe()},tr=function(){(0,a.YH)(this,pi,this._commonService.getIdToFind(),"f"),this.imgsVCh.changes.pipe((0,Te.q)(1),(0,f.b)(()=>{this.imgsVCh.forEach(t=>{this._renderer.setStyle(t.nativeElement,I.L.OPACITY,0),this._renderer.removeClass(t.nativeElement,me.ROTATE_OUT_CENTER)})}),(0,te.R)((0,a.Q_)(this,mt,"f"))).subscribe(),this.items=this._commonService.buildItemsAfterHiding(),this.coords=D.shuffle(this.coords)},Do=function(t){this.imgsVCh.forEach(e=>this._renderer.addClass(e.nativeElement,t))},nr=function(){this.showItemsBar=!0,this.variant$.pipe((0,f.b)(t=>(0,a.Q_)(this,Ze,"m",ir).call(this,t)),(0,te.R)((0,a.Q_)(this,mt,"f"))).subscribe()},ir=function(){var i=(0,Y.Z)(function*(e){e.id===(0,a.Q_)(this,pi,"f")?(this.variant$.complete(),this.defineCorrectImg(e),yield k.d.playWinSound()):yield k.d.playErrorSound()});return function t(e){return i.apply(this,arguments)}}(),Ot.\u0275fac=function(t){return new(t||Ot)},Ot.\u0275dir=n.lG2({type:Ot,viewQuery:function(t,e){if(1&t&&(n.Gf(Xt.n,5),n.Gf(Me,5),n.Gf(pn,5),n.Gf(ld,5)),2&t){let o;n.iGM(o=n.CRH())&&(e.preloadImgVCh=o.first),n.iGM(o=n.CRH())&&(e.gridSizerVCh=o.first),n.iGM(o=n.CRH())&&(e.imgWrapperVCh=o.first),n.iGM(o=n.CRH())&&(e.imgsVCh=o)}}});class $e{constructor(t){this._cdRef=t,xo.add(this),this.time=0,this.timeIsOver=new n.vpe,this.width=100,_i.set(this,null)}ngOnChanges(t){t.time.currentValue!==t.time.previousValue&&(0,a.Q_)(this,xo,"m",sr).call(this)}ngOnDestroy(){(0,a.Q_)(this,_i,"f")?.unsubscribe()}}function cd(i,t){if(1&i&&(n.TgZ(0,"header",2),n._uU(1),n.ALo(2,"capitalizeFirstLetter"),n.qZA()),2&i){const e=n.oxw();n.xp6(1),n.hij(" ",n.lcZ(2,1,e.header),"\n")}}function dd(i,t){if(1&i&&(n.TgZ(0,"figcaption",8),n._uU(1),n.qZA()),2&i){const e=n.oxw().$implicit;n.Q6J("ngStyle",e.titleStyle),n.xp6(1),n.hij(" ",e.title," ")}}function ud(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"figure",5)(1,"img",6),n.NdJ("click",function(s){const l=n.CHM(e).$implicit,d=n.oxw(2);return n.KtG(d.onItemClick(s,l))}),n.qZA(),n.YNc(2,dd,2,2,"figcaption",7),n.qZA()}if(2&i){const e=t.$implicit,o=n.oxw(2);n.xp6(1),n.Q6J("src",e.img,n.LSH)("ngStyle",e.imgStyle),n.xp6(1),n.Q6J("ngIf",o.showTitle)}}function hd(i,t){if(1&i&&(n.TgZ(0,"div",3),n.YNc(1,ud,3,3,"figure",4),n.qZA()),2&i){const e=n.oxw();n.s9C("columnsAmount",e.items.length),n.xp6(1),n.Q6J("ngForOf",e.items)}}_i=new WeakMap,xo=new WeakSet,sr=function(){const e=1e3*this.time/20;(0,a.YH)(this,_i,or(20).pipe((0,Te.q)(e),(0,f.b)(o=>{this.width=100-100*(o+1)/e,this._cdRef.detectChanges()}),(0,M.h)(o=>o===e-1),(0,f.b)(()=>this.timeIsOver.emit(!0))).subscribe(),"f")},$e.\u0275fac=function(t){return new(t||$e)(n.Y36(n.sBO))},$e.\u0275cmp=n.Xpm({type:$e,selectors:[["progress-bar"]],inputs:{time:"time"},outputs:{timeIsOver:"timeIsOver"},standalone:!0,features:[n.TTD,n.jDz],decls:2,vars:3,consts:[[1,"container",3,"isVisible"],[1,"container__inner"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n._UZ(1,"div",1),n.qZA()),2&t&&(n.Q6J("isVisible",e.width>0),n.xp6(1),n.Udp("width",e.width+"%"))},dependencies:[sn],styles:[".container[_ngcontent-%COMP%]{height:1rem;margin-top:.5rem;margin-bottom:.5rem;padding:.1rem;border-radius:.5rem;border:1px solid #cccccc}.container__inner[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:inherit;background-color:#00d36f}"],changeDetection:0});let pt=(()=>{class i{constructor(){this.items=[],this.header="",this.showTitle=!1,this.itemClick=new n.vpe}onItemClick(e,o){e.stopPropagation(),this.itemClick.emit(o)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["theme-items-bar"]],inputs:{items:"items",header:"header",showTitle:"showTitle"},outputs:{itemClick:"itemClick"},standalone:!0,features:[n.jDz],decls:2,vars:2,consts:[["class","header text--center",4,"ngIf"],["gridSizer","","itemSize","100",3,"columnsAmount",4,"ngIf"],[1,"header","text--center"],["gridSizer","","itemSize","100",3,"columnsAmount"],["class","figure d--flex m--auto h--100",4,"ngFor","ngForOf"],[1,"figure","d--flex","m--auto","h--100"],[1,"figure__img","d--block","m--auto","cursor--pointer",3,"src","ngStyle","click"],["class","figure__title text--center",3,"ngStyle",4,"ngIf"],[1,"figure__title","text--center",3,"ngStyle"]],template:function(e,o){1&e&&(n.YNc(0,cd,3,3,"header",0),n.YNc(1,hd,2,2,"div",1)),2&e&&(n.Q6J("ngIf",o.header),n.xp6(1),n.Q6J("ngIf",null==o.items?null:o.items.length))},dependencies:[b.G,h.O5,h.ax,h.PC,Me],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.header[_ngcontent-%COMP%]{font-size:2rem;font-style:italic}@media screen and (max-width: 567px){.header[_ngcontent-%COMP%]{font-size:1rem}}.figure[_ngcontent-%COMP%]{flex-direction:column}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.figure__title[_ngcontent-%COMP%]{font-size:1.25rem}@media screen and (max-width: 567px){.figure__title[_ngcontent-%COMP%]{font-size:1rem}}@media screen and (max-width: 480px){.figure__title[_ngcontent-%COMP%]{display:none}}"]}),i})();function md(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"progress-bar",8),n.NdJ("timeIsOver",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.hideItems())}),n.qZA()}if(2&i){const e=n.oxw();n.Q6J("time",e.time)}}const pd=function(i,t,e){return{top:i,left:t,maxHeight:e}};function _d(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"img",9,10),n.NdJ("animationend",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.animationEnd$.next())}),n.qZA()}if(2&i){const e=t.$implicit,o=t.index,s=n.oxw();n.Q6J("src",e.img,n.LSH)("ngStyle",n.kEZ(2,pd,s.coords[o].top+"%",s.coords[o].left+"%","23%"))}}const gd={path:"who_disappeared",loadComponent:W,providers:[{provide:$.s,useValue:[ve,J,(()=>{class i extends Ot{constructor(){super()}defineCorrectImg(e){this.imgsVCh.changes.subscribe(()=>this.animateCorrectImg(this.imgsVCh.last.nativeElement)),this.items.push(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[n._Bn([S,{provide:Ie,useClass:ad}]),n.qOj,n.jDz],decls:8,vars:8,consts:[[3,"gameLoader","loadGame"],[1,"container","h-max--100"],[3,"time","timeIsOver",4,"ngIf"],["imgWrapper","",1,"items","h--100","p--relative","overflow--hidden",3,"img"],[1,"d--block","w-max--100","h-max--100",3,"src"],["bg",""],["class","p--absolute",3,"src","ngStyle","animationend",4,"ngFor","ngForOf"],[3,"isVisible","items","header","itemClick"],[3,"time","timeIsOver"],[1,"p--absolute",3,"src","ngStyle","animationend"],["imgs",""]],template:function(e,o){if(1&e&&(n.TgZ(0,"game-spinner-wrapper",0),n.NdJ("loadGame",function(){return o.onLoadGame()}),n.TgZ(1,"div",1),n.YNc(2,md,1,1,"progress-bar",2),n.TgZ(3,"figure",3),n._UZ(4,"img",4,5),n.YNc(6,_d,2,6,"img",6),n.qZA(),n.TgZ(7,"theme-items-bar",7),n.NdJ("itemClick",function(r){return o.variant$.next(r)}),n.qZA()()()),2&e){const s=n.MAs(5);n.Q6J("gameLoader",o.gameLoader),n.xp6(2),n.Q6J("ngIf",o.gameLoaded),n.xp6(1),n.Q6J("img",s),n.xp6(1),n.Q6J("src",o.bgUrl,n.LSH),n.xp6(2),n.Q6J("ngForOf",o.items),n.xp6(1),n.Q6J("isVisible",o.showItemsBar)("items",o.itemsToChoose)("header",o.question+"?")}},dependencies:[h.ax,h.O5,h.PC,j,$e,pn,pt,sn],styles:[".rotate-in-center[_ngcontent-%COMP%]{animation:rotate-in-center .6s cubic-bezier(.25,.46,.45,.94) both}@keyframes rotate-in-center{0%{transform:rotate(-360deg);opacity:0}to{transform:rotate(0);opacity:1}}.rotate-out-center[_ngcontent-%COMP%]{animation:rotate-out-center .6s cubic-bezier(.55,.085,.68,.53) both}@keyframes rotate-out-center{0%{transform:rotate(0);opacity:1}to{transform:rotate(-360deg);opacity:0}}.pulsate-fwd[_ngcontent-%COMP%]{animation:pulsate-fwd .5s ease-in-out infinite both}@keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.container[_ngcontent-%COMP%]{display:grid;grid-template-rows:min-content 1fr min-content}.items[_ngcontent-%COMP%]{margin:0 auto}"],changeDetection:0}),i})()]},{provide:he,useValue:new Map([[0,{time:12,amount:4}],[1,{time:10,amount:6}],[2,{time:8,amount:8}]])}]};var _n;class De extends Ie{constructor(t){super(t),this.gameIdForTranslation="who_appeared",_n.set(this,null)}buildItemsAfterHiding(){return De.items.push((0,a.Q_)(this,_n,"f")),D.shuffle(De.items)}getIdToFind(){return(0,a.Q_)(this,_n,"f").id}getRandItems(){return De.items=D.getRandItems(De.itemsToChoose,B.k.getAgesConfig().amount+1),(0,a.YH)(this,_n,De.items.pop(),"f"),De.items}}function Cd(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"progress-bar",8),n.NdJ("timeIsOver",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.hideItems())}),n.qZA()}if(2&i){const e=n.oxw();n.Q6J("time",e.time)}}_n=new WeakMap,De.\u0275fac=function(t){return new(t||De)(n.LFG(Re.eN))},De.\u0275prov=n.Yz7({token:De,factory:De.\u0275fac});const vd=function(i,t,e){return{top:i,left:t,maxHeight:e}};function yd(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"img",9,10),n.NdJ("animationend",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.animationEnd$.next())}),n.qZA()}if(2&i){const e=t.$implicit,o=t.index,s=n.oxw();n.Q6J("src",e.img,n.LSH)("ngStyle",n.kEZ(2,vd,s.coords[o].top+"%",s.coords[o].left+"%","23%"))}}const wd={path:"who_appeared",loadComponent:W,providers:[{provide:$.s,useValue:[ve,J,(()=>{class i extends Ot{constructor(){super()}defineCorrectImg(e){const o=this.items.findIndex(r=>r.id===e.id),s=this.imgsVCh.get(o).nativeElement;this.animateCorrectImg(s)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[n._Bn([S,{provide:Ie,useClass:De}]),n.qOj,n.jDz],decls:8,vars:8,consts:[[3,"gameLoader","loadGame"],[1,"container","h-max--100"],[3,"time","timeIsOver",4,"ngIf"],["imgWrapper","",1,"items","h--100","p--relative","overflow--hidden",3,"img"],[1,"d--block","w-max--100","h-max--100",3,"src"],["bg",""],["class","p--absolute",3,"src","ngStyle","animationend",4,"ngFor","ngForOf"],[3,"isVisible","items","header","itemClick"],[3,"time","timeIsOver"],[1,"p--absolute",3,"src","ngStyle","animationend"],["imgs",""]],template:function(e,o){if(1&e&&(n.TgZ(0,"game-spinner-wrapper",0),n.NdJ("loadGame",function(){return o.onLoadGame()}),n.TgZ(1,"div",1),n.YNc(2,Cd,1,1,"progress-bar",2),n.TgZ(3,"figure",3),n._UZ(4,"img",4,5),n.YNc(6,yd,2,6,"img",6),n.qZA(),n.TgZ(7,"theme-items-bar",7),n.NdJ("itemClick",function(r){return o.variant$.next(r)}),n.qZA()()()),2&e){const s=n.MAs(5);n.Q6J("gameLoader",o.gameLoader),n.xp6(2),n.Q6J("ngIf",o.gameLoaded),n.xp6(1),n.Q6J("img",s),n.xp6(1),n.Q6J("src",o.bgUrl,n.LSH),n.xp6(2),n.Q6J("ngForOf",o.items),n.xp6(1),n.Q6J("isVisible",o.showItemsBar)("items",o.itemsToChoose)("header",o.question+"?")}},dependencies:[h.ax,h.O5,h.PC,j,$e,pn,pt,sn],styles:[".rotate-in-center[_ngcontent-%COMP%]{animation:rotate-in-center .6s cubic-bezier(.25,.46,.45,.94) both}@keyframes rotate-in-center{0%{transform:rotate(-360deg);opacity:0}to{transform:rotate(0);opacity:1}}.rotate-out-center[_ngcontent-%COMP%]{animation:rotate-out-center .6s cubic-bezier(.55,.085,.68,.53) both}@keyframes rotate-out-center{0%{transform:rotate(0);opacity:1}to{transform:rotate(-360deg);opacity:0}}.pulsate-fwd[_ngcontent-%COMP%]{animation:pulsate-fwd .5s ease-in-out infinite both}@keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.container[_ngcontent-%COMP%]{display:grid;grid-template-rows:min-content 1fr min-content}.items[_ngcontent-%COMP%]{margin:0 auto}"],changeDetection:0}),i})()]},{provide:he,useValue:new Map([[0,{time:12,amount:3}],[1,{time:10,amount:5}],[2,{time:8,amount:7}]])}]};let rr=(()=>{class i{constructor(e,o){this._addStepsService=e,this._translationsService=o}getQuestions(){const e=`games/look_at_the_picture/${L.J.getChosenTheme().id}/`+L.J.getChosenSetSegment(this._addStepsService.chosenSetIndex);return this._translationsService.loadTranslation(e)}}return i.\u0275fac=function(e){return new(e||i)(n.LFG(Ce),n.LFG(g.f))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac}),i})(),fi=(()=>{class i{constructor(e,o){this._elementRef=e,this._renderer=o,this.isCorrect=null,this.isCorrectAnimationClass=me.PULSATE_FWD,this.isNotCorrectAnimationClass=me.SHAKE_HORIZONTAL}ngOnChanges(){null===this.isCorrect&&(this._renderer.removeClass(this._elementRef.nativeElement,this.isCorrectAnimationClass),this._renderer.removeClass(this._elementRef.nativeElement,this.isNotCorrectAnimationClass)),!0===this.isCorrect&&this._renderer.addClass(this._elementRef.nativeElement,this.isCorrectAnimationClass),!1===this.isCorrect&&this._renderer.addClass(this._elementRef.nativeElement,this.isNotCorrectAnimationClass)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.Qsj))},i.\u0275dir=n.lG2({type:i,selectors:[["","isCorrect",""]],inputs:{isCorrect:"isCorrect",isCorrectAnimationClass:"isCorrectAnimationClass",isNotCorrectAnimationClass:"isNotCorrectAnimationClass"},standalone:!0,features:[n.TTD]}),i})(),ar=(()=>{class i{constructor(){this.fill="",this.colors=m.r}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["blot"]],inputs:{fill:"fill"},standalone:!0,features:[n.jDz],decls:2,vars:3,consts:[[1,"blot"],["stroke-width","8","d","M740 882 c-34 -11 -65 -52 -105 -138 -42 -90 -80 -134 -115 -134 -20 0 -25 11 -46 88 -20 75 -40 109 -74 127 -34 18 -69 12 -99 -17 -29 -26 -22 -72 25 -155 43 -77 48 -100 29 -130 -21 -31 -48 -29 -88 7 -115 101 -250 89 -243 -21 4 -57 40 -86 116 -94 100 -12 115 -15 140 -34 17 -12 26 -29 28 -53 3 -29 -4 -44 -38 -83 -43 -50 -50 -88 -19 -108 22 -14 65 -1 90 26 47 51 52 56 60 51 5 -3 9 -30 9 -60 0 -50 2 -55 27 -65 22 -8 30 -6 50 13 21 20 23 28 18 70 -6 44 -5 48 14 48 14 0 25 -11 35 -35 18 -41 45 -46 76 -13 26 28 26 28 -10 73 -22 27 -27 42 -20 49 16 16 58 -12 95 -64 20 -28 45 -50 69 -59 34 -13 39 -13 64 6 19 14 28 31 30 56 4 48 -27 78 -106 100 -67 19 -92 40 -75 65 8 13 27 17 86 18 58 1 83 6 109 22 58 36 76 109 38 150 -26 28 -32 27 -104 -2 -44 -18 -65 -22 -78 -15 -25 14 -16 42 33 101 69 83 91 160 56 195 -14 14 -56 22 -77 15z",2,"transform","scale(0.1)"]],template:function(e,o){1&e&&(n.O4$(),n.TgZ(0,"svg",0),n._UZ(1,"path",1),n.qZA()),2&e&&(n.uIk("viewBox","0 0 100 100"),n.xp6(1),n.uIk("fill",o.fill)("stroke",o.colors.LIGHT_GREY))},styles:[".blot[_ngcontent-%COMP%]{width:100%;max-width:100px}"],changeDetection:0}),i})();var gi,Ci;function Td(i,t){if(1&i&&(n.TgZ(0,"div",6),n._uU(1),n.qZA()),2&i){const e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e.value," ")}}function Sd(i,t){if(1&i&&n._UZ(0,"blot",7),2&i){const e=n.oxw().$implicit;n.Q6J("fill",e.value)}}function Id(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"li",3),n.NdJ("click",function(){const r=n.CHM(e).$implicit,l=n.oxw();return n.KtG(l.variant$.next(r))}),n.YNc(1,Td,2,1,"div",4),n.YNc(2,Sd,1,1,"blot",5),n.qZA()}if(2&i){const e=t.$implicit,o=n.oxw();n.Q6J("isCorrect",e.isCorrect),n.xp6(1),n.Q6J("ngIf",!o.isColor(e.value)),n.xp6(1),n.Q6J("ngIf",o.isColor(e.value))}}class fn extends Ne{constructor(){super(),this.data=null,this.colors=m.r,this.variant$=new O.x,gi.set(this,null)}ngOnInit(){var t=this;super.onDataLoad(this.data),(0,a.YH)(this,gi,this.variant$.pipe((0,Te.q)(1),(0,f.b)(function(){var e=(0,Y.Z)(function*(o){o.isCorrect=t.data.isAnswerCorrect(o),o.isCorrect?yield k.d.playRightSound():yield k.d.playErrorSound(),t.emitData(o.isCorrect)});return function(o){return e.apply(this,arguments)}}())).subscribe(),"f")}ngOnDestroy(){(0,a.Q_)(this,gi,"f")?.unsubscribe()}isColor(t){return t.startsWith("#")||t.startsWith("rgb(")||t.startsWith("rgba(")}}gi=new WeakMap,fn.\u0275fac=function(t){return new(t||fn)},fn.\u0275cmp=n.Xpm({type:fn,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!0,features:[n.qOj,n.jDz],decls:6,vars:4,consts:[[1,"text--center","slide-in-fwd-center"],[1,"text--center"],["class","variant",3,"isCorrect","click",4,"ngFor","ngForOf"],[1,"variant",3,"isCorrect","click"],["class","variant--text",4,"ngIf"],[3,"fill",4,"ngIf"],[1,"variant--text"],[3,"fill"]],template:function(t,e){1&t&&(n.TgZ(0,"header")(1,"h1",0),n._uU(2),n.ALo(3,"capitalizeFirstLetter"),n.qZA()(),n.TgZ(4,"ul",1),n.YNc(5,Id,3,3,"li",2),n.qZA()),2&t&&(n.xp6(2),n.hij("",n.lcZ(3,2,e.data.question),"?"),n.xp6(3),n.Q6J("ngForOf",e.data.variants))},dependencies:[b.G,h.O5,h.ax,fi,ar],styles:[".shake-horizontal[_ngcontent-%COMP%]{animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.slide-in-fwd-center[_ngcontent-%COMP%]{animation:slide-in-fwd-center .4s cubic-bezier(.25,.46,.45,.94) both}@keyframes slide-in-fwd-center{0%{transform:translateZ(-1400px);opacity:0}to{transform:translateZ(0);opacity:1}}.pulsate-fwd[_ngcontent-%COMP%]{animation:pulsate-fwd .5s ease-in-out infinite both}@keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.variant[_ngcontent-%COMP%]{display:inline-block;margin:1rem;cursor:pointer}.variant--text[_ngcontent-%COMP%]{padding:.75rem;font-size:2rem;font-style:italic;color:#333;border-radius:.25rem;border:1px solid #9e9e9e;text-align:center;background-color:#fff;transition:.1s}.variant--text[_ngcontent-%COMP%]:hover{box-shadow:0 1px #fff,0 2px #fff,0 3px #fff,0 4px 2px #fff,1px 0 #fff,2px 0 #fff,3px 0 #fff,4px 0 2px #fff,0 -1px #fff,0 -2px #fff,0 -3px #fff,0 -4px 2px #fff,-1px 0 #fff,-2px 0 #fff,-3px 0 #fff,-4px 0 2px #fff;transform:scale(1.1)}"],changeDetection:0});class Dd{constructor(t){this.question="",this.variants=null,Ci.set(this,null),this.question=t.question,(0,a.YH)(this,Ci,t.answer,"f"),this.variants=t.variants.map((e,o)=>({value:e,index:o,isCorrect:null}))}isAnswerCorrect(t){return t.index===(0,a.Q_)(this,Ci,"f")}}function xd(i,t){if(1&i&&(n.O4$(),n.TgZ(0,"svg",2),n._UZ(1,"path",3),n.qZA()),2&i){const e=t.$implicit,o=n.oxw();n.Udp("transform",e?"":"rotate(180deg)"),n.Q6J("ngClass",!0===e?o.animations.BOUNCE_IN_FWD:o.animations.SHAKE_HORIZONTAL),n.uIk("viewBox","0 0 100 100"),n.xp6(1),n.uIk("fill",!0===e?o.colors.GREEN:o.colors.PINK)}}Ci=new WeakMap;let Mt=(()=>{class i{constructor(){this.answers=[],this.colors=m.r,this.animations=me}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["answers-bar"]],inputs:{answers:"answers"},standalone:!0,features:[n.jDz],decls:2,vars:1,consts:[[1,"container"],["class","thumb",3,"ngClass","transform",4,"ngFor","ngForOf"],[1,"thumb",3,"ngClass"],["d","M57.9,1.8c0.7,0,1.4,0,2.1,0c0.1,0.1,0.3,0.1,0.4,0.2c4,0.9,6.8,3.2,8.1,7.1c1.7,5,1.3,10-0.8,14.8  c-1.4,3.3-3.1,6.6-4.6,9.9c-0.7,1.6-1.1,3.3-0.9,5.1c0.2,1.1,0.2,1.1,1.3,1.1c6.8-0.2,13.5-0.3,20.3,0.2c1.7,0.1,3.4,0.1,4.9,1  c2.7,1.7,4.4,4.3,5.6,7.3c0.6,1.5,0.4,2.7-0.6,3.9c-0.5,0.6-0.9,1.2-1.3,1.8c-1,1.2-1.1,2.4-0.3,3.8c0.7,1.1,1.3,2.2,1.9,3.3  c0.9,1.6,0.9,2.4-0.3,3.9c-0.7,0.9-1.5,1.8-2.3,2.8c-0.8,0.9-1,1.9-0.6,3.1c0.5,1.4,1,2.7,1.5,4c0.6,1.5,0.4,2.8-0.6,4  c-1.1,1.3-2.3,2.4-3.5,3.7c-0.7,0.8-1.1,1.7-1.1,2.7c0,1,0.1,2,0,3c0,0.6-0.2,1.2-0.5,1.7c-1,1.8-2.4,3.1-4,4.3  c-1.5,1.2-3.1,2.2-5.1,2.4c-2.4,0.3-4.8,0.6-7.2,0.6c-5.8,0-11.6-0.3-17.4-0.5c-2.2-0.1-4.5-0.2-6.7-0.6c-6.4-1.1-12.8-2.4-19.2-3.5  c-0.7-0.1-0.8-0.4-0.8-1c0-12.5,0-25,0-37.5c0-0.3,0-0.6,0-0.9c0.4,0,0.7,0,1.1,0c1.7,0.2,3.2-0.5,4.3-1.6c1.3-1.3,2.5-2.7,3.5-4.1  c2.9-4.2,5.1-8.9,6.9-13.7c1.2-3.1,3.1-5.5,5.7-7.5c1.4-1.1,2.7-2.3,3.8-3.7c2.2-2.9,3.1-6.4,3.7-9.9c0.5-2.9,0.8-5.9,1-8.9  C56.5,2.8,56.9,2.1,57.9,1.8z M3.5,92.4c0.8,2.3,2.4,3.1,4.8,3.1c3.4-0.1,6.7,0,10.1,0c0.4,0,0.9,0,1.3-0.1c1.9-0.5,3-2,3-4.2  c0-6,0-12,0-18c0-5.8,0-11.5,0-17.3c0-2.8-1.6-4.4-4.4-4.4c-3.5,0-7,0-10.5,0c-1.4,0-2.7,0.4-3.6,1.6c-0.3,0.4-0.5,0.9-0.7,1.4  C3.5,67.1,3.5,79.7,3.5,92.4z"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0),n.YNc(1,xd,2,5,"svg",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngForOf",o.answers))},dependencies:[h.ax,h.mk],styles:[".bounce-in-fwd[_ngcontent-%COMP%]{animation:bounce-in-fwd 1.1s both}@keyframes bounce-in-fwd{0%{transform:scale(0);animation-timing-function:ease-in;opacity:0}38%{transform:scale(1);animation-timing-function:ease-out;opacity:1}55%{transform:scale(.7);animation-timing-function:ease-in}72%{transform:scale(1);animation-timing-function:ease-out}81%{transform:scale(.84);animation-timing-function:ease-in}89%{transform:scale(1);animation-timing-function:ease-out}95%{transform:scale(.95);animation-timing-function:ease-in}to{transform:scale(1);animation-timing-function:ease-out}}.shake-horizontal[_ngcontent-%COMP%]{animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.container[_ngcontent-%COMP%]{display:flex;height:100px;align-items:center;justify-content:center}.thumb[_ngcontent-%COMP%]{width:100%;max-width:100px;margin:0 1rem}"]}),i})();var vi,yi,lr,cr;const Ed=["variants"];function Ad(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"progress-bar",7),n.NdJ("timeIsOver",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.hidePicture())}),n.qZA()}if(2&i){const e=n.oxw();n.Q6J("time",e.time)}}function Od(i,t){if(1&i&&n._UZ(0,"img",8),2&i){const e=n.oxw();n.Q6J("src",e.img,n.LSH)}}function Md(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"div",9)(1,"carousel",10,11),n.NdJ("emitDataFromItem",function(s){n.CHM(e);const r=n.oxw();return n.KtG(r.answer$.next(s))}),n.qZA()()}if(2&i){const e=n.oxw();n.xp6(1),n.Q6J("slides",e.questions)("height","auto")("blockManualSwiping",!0)("itemComponent",e.questionComponent)}}class gn{constructor(t,e,o){this._cdRef=t,this._lookAtThePictureService=e,this._themeItemsService=o,vi.add(this),this.questionComponent=fn,this.gameLoader=null,this.gameLoaded=!1,this.items=null,this.img="",this.time=20,this.showPicture=!0,this.answers=[],this.answer$=new O.x,yi.set(this,null)}ngOnInit(){(0,a.Q_)(this,vi,"m",lr).call(this)}ngOnDestroy(){(0,a.Q_)(this,yi,"f")?.unsubscribe()}hidePicture(){this.showPicture=!1,this._cdRef.detectChanges()}}function Fd(i,t){1&i&&n.GkF(0)}yi=new WeakMap,vi=new WeakSet,lr=function(){this.gameLoader=(0,ue.D)({items:this._themeItemsService.getItems(),questions:this._lookAtThePictureService.getQuestions()}).pipe((0,V.z)(t=>(this.img=t.items[0].img,t.questions)),(0,N.U)(t=>new Dd(t)),(0,Q.q)(),(0,f.b)(t=>this.questions=t),(0,V.z)(()=>at.O.getImage(this.img)),(0,f.b)(()=>(0,a.Q_)(this,vi,"m",cr).call(this)))},cr=function(){(0,a.YH)(this,yi,this.answer$.pipe((0,f.b)(t=>{this.answers.push(t),this.variantsCarouselVCh.slideToRight(),this._cdRef.detectChanges()}),Oe(this.questions.length),(0,f.b)(t=>t.some(e=>!e)?R.A.gameFailed():R.A.gameCompleted())).subscribe(),"f")},gn.\u0275fac=function(t){return new(t||gn)(n.Y36(n.sBO),n.Y36(rr),n.Y36(S))},gn.\u0275cmp=n.Xpm({type:gn,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(Ed,5),2&t){let o;n.iGM(o=n.CRH())&&(e.variantsCarouselVCh=o.first)}},standalone:!0,features:[n._Bn([rr,S]),n.jDz],decls:7,vars:5,consts:[[3,"gameLoader","loadGame"],[1,"container"],[1,"w--100"],[3,"time","timeIsOver",4,"ngIf"],["class","picture",3,"src",4,"ngIf"],["class","w--100 overflow-x--hidden",4,"ngIf"],[3,"answers"],[3,"time","timeIsOver"],[1,"picture",3,"src"],[1,"w--100","overflow-x--hidden"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem"],["variants",""]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0),n.NdJ("loadGame",function(){return e.gameLoaded=!0}),n.TgZ(1,"div",1)(2,"div",2),n.YNc(3,Ad,1,1,"progress-bar",3),n.qZA(),n.YNc(4,Od,1,1,"img",4),n.YNc(5,Md,3,4,"div",5),n._UZ(6,"answers-bar",6),n.qZA()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(3),n.Q6J("ngIf",e.gameLoaded),n.xp6(1),n.Q6J("ngIf",e.showPicture&&e.img),n.xp6(1),n.Q6J("ngIf",!e.showPicture),n.xp6(1),n.Q6J("answers",e.answers))},dependencies:[j,$e,h.O5,le,Mt],styles:[".container[_ngcontent-%COMP%]{display:grid;height:100%;grid-auto-rows:min-content 1fr min-content;place-items:center}.picture[_ngcontent-%COMP%]{display:block;width:100%;max-width:600px;margin:auto}"],changeDetection:0});const Pd=function(i){return{$implicit:i}};function Rd(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"span",5),n.NdJ("click",function(){const r=n.CHM(e).index,l=n.oxw().ngIf,d=n.oxw();return n.KtG(d.choosePicture(r,{title:l.stepInfoTitle,style:{color:d.colors.PINK}}))}),n.YNc(1,Fd,1,0,"ng-container",6),n.qZA()}if(2&i){const e=t.$implicit;n.oxw();const o=n.MAs(8),s=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",s.customSetTmpl||o)("ngTemplateOutletContext",n.VKq(2,Pd,e))}}function kd(i,t){1&i&&n._UZ(0,"img",7),2&i&&n.Q6J("preloadImg",t.$implicit.icon)}function Ld(i,t){if(1&i&&(n.ynx(0),n.TgZ(1,"header")(2,"h1",1),n._uU(3),n.ALo(4,"capitalizeFirstLetter"),n.qZA()(),n.TgZ(5,"div",2),n.YNc(6,Rd,2,4,"span",3),n.qZA(),n.YNc(7,kd,1,1,"ng-template",null,4,n.W1O),n.BQk()),2&i){const e=t.ngIf;n.xp6(3),n.hij("",n.lcZ(4,2,e.title),":"),n.xp6(3),n.Q6J("ngForOf",e.sets)}}let Ft=(()=>{class i{constructor(e,o){this._addStepService=e,this._translationsService=o,this.customSetTmpl=null,this.content$=null,this.colors=m.r,this.title=""}ngOnInit(){this.content$=this._addStepService.getAddItems().pipe((0,V.z)(e=>1===e.length?(this.choosePicture(),(0,re.of)(null)):this._translationsService.loadTranslation("add_steps").pipe((0,N.U)(o=>({sets:e,title:o.choose_picture,stepInfoTitle:o.to_choose_picture})))))}choosePicture(e=0,o=null){this._addStepService.chosenSetIndex=e,R.A.updateStepInfo(o),R.A.goToNext()}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(Ce),n.Y36(g.f))},i.\u0275cmp=n.Xpm({type:i,selectors:[["pictures-choice"]],inputs:{customSetTmpl:"customSetTmpl"},standalone:!0,features:[n.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"text--center"],[1,"pictures"],[3,"click",4,"ngFor","ngForOf"],["setTmpl",""],[3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d--block","w--100","cursor--pointer",3,"preloadImg"]],template:function(e,o){1&e&&(n.YNc(0,Ld,9,4,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,o.content$))},dependencies:[h.Ov,h.O5,h.ax,h.tP,Xt.n,b.G],styles:[".pictures[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:3rem}"],changeDetection:0}),i})();class Nd{constructor(t){this.icon="",this.icon=`${L.J.getCustomGameThemeFolder()}${t.id}/img/set_icon.${t.ext}`}}class Fe extends Ce{constructor(t){super(),this._http=t}getAddItems(){const t=`${L.J.getCustomGameThemeFolder()}items_sets.${we.D.JSON}`;return this._fetchItemsSets(t).pipe((0,oe.J)(),(0,N.U)(e=>new Nd(e)),(0,Q.q)())}_fetchItemsSets(t){return this._http.get(t)}}Fe.\u0275fac=function(t){return new(t||Fe)(n.LFG(Re.eN))},Fe.\u0275prov=n.Yz7({token:Fe,factory:Fe.\u0275fac}),(0,a.gn)([(0,Le.q)()],Fe.prototype,"_fetchItemsSets",null);const Vd={path:"look_at_the_picture",loadComponent:W,providers:[{provide:$.s,useValue:[J,Ft,gn]},{provide:Ce,useClass:Fe}]};var Bd=c(7886);function _t(...i){const t=i.length;if(0===t)throw new Error("list of properties cannot be empty.");return(0,N.U)(e=>{let o=e;for(let s=0;s<t;s++){const r=o?.[i[s]];if(!(typeof r<"u"))return;o=r}return o})}class Be extends Ce{constructor(t){super(),this._http=t,this.chosenSetIndex=null}getAddItems(){const t=`${be.B.getGameFolder()}themes/${L.J.getChosenTheme().id}.${we.D.JSON}`;return this._fetchPictures(t).pipe((0,Bd.u)(),(0,M.h)(e=>B.k.getAgeId()>=e.minAgeId),_t("paths"),(0,Q.q)())}_fetchPictures(t){return this._http.get(t)}}Be.\u0275fac=function(t){return new(t||Be)(n.LFG(Re.eN))},Be.\u0275prov=n.Yz7({token:Be,factory:Be.\u0275fac}),(0,a.gn)([(0,Le.q)()],Be.prototype,"_fetchPictures",null);var Eo,dr,bi,Pt,ur,hr,Gd=c(1481);class Cn{constructor(t){this._sanitizer=t,Eo.add(this),this.cursor=null}ngOnChanges(){this.cursor=(0,a.Q_)(this,Eo,"m",dr).call(this)}}function zd(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"progress-bar",7),n.NdJ("timeIsOver",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.discolorPicture())}),n.qZA()}if(2&i){const e=n.oxw();n.Q6J("time",e.time)}}function Hd(i,t){if(1&i){const e=n.EpF();n.O4$(),n.TgZ(0,"path",8),n.NdJ("click",function(s){const l=n.CHM(e).$implicit,d=n.oxw();return n.KtG(d.applyColor(s,l))}),n.qZA()}if(2&i){const e=t.$implicit,o=n.oxw();n.uIk("d",e.d)("fill",e.fill)("stroke",o.strokeColor)}}function Qd(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"blot",11),n.NdJ("click",function(s){const l=n.CHM(e).$implicit,d=n.oxw(2);return n.KtG(d.selectColor(s,l))}),n.qZA()}2&i&&n.Q6J("fill",t.$implicit)}function Ud(i,t){if(1&i&&(n.O4$(),n.kcU(),n.TgZ(0,"div",9),n.YNc(1,Qd,1,1,"blot",10),n.qZA()),2&i){const e=n.oxw();n.s9C("columnsAmount",null==e.blotsColors?null:e.blotsColors.length),n.xp6(1),n.Q6J("ngForOf",e.blotsColors)}}Eo=new WeakSet,dr=function(){const e=`"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='40px' height='40px' viewBox='0 0 40 40' enable-background='new 0 0 40 40' xml:space='preserve'%3E%3Cpath fill='%23${this.color.substring(1)}' stroke='%23383838' stroke-miterlimit='10' d='M9.662,13.208c1.955-1.163,3.54-3.893,2.158-6.067C10.304,4.758,6.036,6.84,4.871,4.544C4.358,3.535,5.509,2.26,4.998,1.25c-1.69,1.492-3.306,3.017-3.476,5.39C1.184,11.355,4.763,16.12,9.662,13.208z'/%3E%3Cpath fill='%23383838' stroke='%23383838' stroke-miterlimit='10' d='M19.665,28.435c-7.157-6.254-11.103-13.492-9.453-15.38s8.79,1.65,15.947,7.903s14.243,14.911,12.592,16.799S26.822,34.689,19.665,28.435z'/%3E%3C/svg%3E"`;return this._sanitizer.bypassSecurityTrustStyle(`url(${e}), pointer`)},Cn.\u0275fac=function(t){return new(t||Cn)(n.Y36(Gd.H7))},Cn.\u0275dir=n.lG2({type:Cn,selectors:[["","cursorBrush",""]],hostVars:2,hostBindings:function(t,e){2&t&&n.Udp("cursor",e.cursor)},inputs:{color:["cursorBrush","color"]},standalone:!0,features:[n.TTD]});class vn{constructor(t,e,o){this._cdRef=t,this._colorizeFromMemoryService=e,this._addStepService=o,bi.add(this),this.gameLoader=null,this.gameLoaded=!1,this.picture=null,this.blotsColors=null,this.time=0,this.showBlotsBar=!1,this.selectedColor=m.r.WHITE,this.strokeColor=m.r.BLACK,Pt.set(this,null)}ngOnInit(){(0,a.Q_)(this,bi,"m",ur).call(this)}discolorPicture(){this.picture.forEach(t=>!t.static&&(t.fill=m.r.WHITE)),this.showBlotsBar=!0,this._cdRef.detectChanges()}selectColor(t,e){!this.showBlotsBar||(t.stopPropagation(),this.selectedColor=e,this._cdRef.detectChanges())}applyColor(t,e){!this.showBlotsBar||e.static||(t.stopPropagation(),e.fill=this.selectedColor,(0,a.Q_)(this,bi,"m",hr).call(this))}}function Wd(i,t){if(1&i&&(n.O4$(),n._UZ(0,"path",4)),2&i){const e=t.$implicit,o=n.oxw(2);n.uIk("d",e.d)("fill",o.colors.WHITE)("stroke",o.colors.BLACK)}}function Zd(i,t){if(1&i&&(n.O4$(),n.TgZ(0,"svg",2),n.YNc(1,Wd,1,3,"path",3),n.qZA()),2&i){const e=t.$implicit;n.uIk("viewBox","0 0 400 400"),n.xp6(1),n.Q6J("ngForOf",e)}}Pt=new WeakMap,bi=new WeakSet,ur=function(){this.gameLoader=this._colorizeFromMemoryService.getAddItems().pipe((0,N.U)(t=>t[this._addStepService.chosenSetIndex]),(0,f.b)(t=>{(0,a.YH)(this,Pt,t.map(e=>({...e})),"f"),this.picture=t.map(e=>({...e})),this.blotsColors=(0,a.Q_)(this,Pt,"f").reduce((e,o)=>(o.static||o.fill===m.r.WHITE||e.some(s=>s===o.fill)||e.push(o.fill),e),[]),this.time=B.k.getAgesConfig()}))},hr=function(){for(let t=0;t<(0,a.Q_)(this,Pt,"f").length;t++)if((0,a.Q_)(this,Pt,"f")[t].fill!==this.picture[t].fill)return;R.A.gameCompleted()},vn.\u0275fac=function(t){return new(t||vn)(n.Y36(n.sBO),n.Y36(Be),n.Y36(Ce))},vn.\u0275cmp=n.Xpm({type:vn,selectors:[["ng-component"]],standalone:!0,features:[n._Bn([Be]),n.jDz],decls:7,vars:6,consts:[[3,"gameLoader","loadGame"],[1,"container","h--100"],[3,"time","timeIsOver",4,"ngIf"],[1,"brush-area","h--100","overflow--hidden",3,"cursorBrush"],[1,"h-max--100","m--auto"],["stroke-width","2",3,"click",4,"ngFor","ngForOf"],["gridSizer","","itemSize","100","rowsAmount","1",3,"columnsAmount",4,"ngIf"],[3,"time","timeIsOver"],["stroke-width","2",3,"click"],["gridSizer","","itemSize","100","rowsAmount","1",3,"columnsAmount"],[3,"fill","click",4,"ngFor","ngForOf"],[3,"fill","click"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0),n.NdJ("loadGame",function(){return e.gameLoaded=!0}),n.TgZ(1,"div",1),n.YNc(2,zd,1,1,"progress-bar",2),n.TgZ(3,"div",3),n.O4$(),n.TgZ(4,"svg",4),n.YNc(5,Hd,1,3,"path",5),n.qZA(),n.YNc(6,Ud,2,2,"div",6),n.qZA()()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(2),n.Q6J("ngIf",e.gameLoaded),n.xp6(1),n.Q6J("cursorBrush",e.selectedColor),n.xp6(1),n.uIk("viewBox","0 0 400 400"),n.xp6(1),n.Q6J("ngForOf",e.picture),n.xp6(1),n.Q6J("ngIf",e.showBlotsBar))},dependencies:[j,$e,h.O5,h.ax,Cn,ar,Me],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:min-content 1fr min-content}.brush-area[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content}"],changeDetection:0});const Yd={path:"colorize_from_memory",loadComponent:W,providers:[{provide:Ce,useClass:Be},{provide:$s,useValue:[1,2,3]},{provide:Rs,useValue:!0},{provide:$.s,useValue:[ve,J,(()=>{class i{constructor(){this.colors=m.r}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[n.jDz],decls:3,vars:1,consts:[[3,"customSetTmpl"],["pictureTmpl",""],[1,"cursor--pointer"],["stroke-width","1",4,"ngFor","ngForOf"],["stroke-width","1"]],template:function(e,o){if(1&e&&(n._UZ(0,"pictures-choice",0),n.YNc(1,Zd,2,2,"ng-template",null,1,n.W1O)),2&e){const s=n.MAs(2);n.Q6J("customSetTmpl",s)}},dependencies:[Ft,h.ax],encapsulation:2,changeDetection:0}),i})(),vn]},{provide:he,useValue:new Map([[0,12],[1,10],[2,8]])}]};class Ao{constructor(t){this._coords=t,this.style=null,this.style={top:this._getCoord(this._coords.top),left:this._getCoord(this._coords.left),bottom:this._getCoord(this._coords.bottom),right:this._getCoord(this._coords.right)}}_getCoord(t){return`${t||0}${this._coords.unit}`}}function jd(i,t){return(e,o)=>!i.call(t,e,o)}var Ye=c(2076);let _r=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.Qsj),n.Y36(n.SBq))},i.\u0275dir=n.lG2({type:i}),i})(),ft=(()=>{class i extends _r{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=n.n5z(i)))(o||i)}}(),i.\u0275dir=n.lG2({type:i,features:[n.qOj]}),i})();const ke=new n.OlP("NgValueAccessor"),iu={provide:ke,useExisting:(0,n.Gpc)(()=>Oo),multi:!0},su=new n.OlP("CompositionEventMode");let Oo=(()=>{class i extends _r{constructor(e,o,s){super(e,o),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ou(){const i=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(su,8))},i.\u0275dir=n.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&n.NdJ("input",function(r){return o._handleInput(r.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(r){return o._compositionEnd(r.target.value)})},features:[n._Bn([iu]),n.qOj]}),i})();const ce=new n.OlP("NgValidators"),Je=new n.OlP("NgAsyncValidators");function Dr(i){return null!=i}function xr(i){return(0,n.QGY)(i)?(0,Ye.D)(i):i}function Er(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Ar(i,t){return t.map(e=>e(i))}function Or(i){return i.map(t=>function lu(i){return!i.validate}(t)?t:e=>t.validate(e))}function Mo(i){return null!=i?function Mr(i){if(!i)return null;const t=i.filter(Dr);return 0==t.length?null:function(e){return Er(Ar(e,t))}}(Or(i)):null}function Fo(i){return null!=i?function Fr(i){if(!i)return null;const t=i.filter(Dr);return 0==t.length?null:function(e){const o=Ar(e,t).map(xr);return(0,ue.D)(o).pipe((0,N.U)(Er))}}(Or(i)):null}function Pr(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function Rr(i){return i._rawValidators}function kr(i){return i._rawAsyncValidators}function Po(i){return i?Array.isArray(i)?i:[i]:[]}function Ti(i,t){return Array.isArray(i)?i.includes(t):i===t}function Lr(i,t){const e=Po(t);return Po(i).forEach(s=>{Ti(e,s)||e.push(s)}),e}function Nr(i,t){return Po(t).filter(e=>!Ti(i,e))}class Vr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Mo(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Fo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class pe extends Vr{get formDirective(){return null}get path(){return null}}class Ke extends Vr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Br{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gr=(()=>{class i extends Br{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(Ke,2))},i.\u0275dir=n.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&n.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[n.qOj]}),i})(),zr=(()=>{class i extends Br{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(pe,10))},i.\u0275dir=n.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&n.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[n.qOj]}),i})();const yn="VALID",Ii="INVALID",Rt="PENDING",bn="DISABLED";function Qr(i){return Array.isArray(i)?Mo(i):i||null}function Ur(i){return Array.isArray(i)?Fo(i):i||null}function Di(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}function wn(i,t){(function Go(i,t){const e=Rr(i);null!==t.validator?i.setValidators(Pr(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const o=kr(i);null!==t.asyncValidator?i.setAsyncValidators(Pr(o,t.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const s=()=>i.updateValueAndValidity();Ai(t._rawValidators,s),Ai(t._rawAsyncValidators,s)})(i,t),t.valueAccessor.writeValue(i.value),i.disabled&&t.valueAccessor.setDisabledState?.(!0),function gu(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Yr(i,t)})}(i,t),function vu(i,t){const e=(o,s)=>{t.valueAccessor.writeValue(o),s&&t.viewToModelUpdate(o)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function Cu(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Yr(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function fu(i,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function Ei(i,t,e=!0){const o=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(o),t.valueAccessor.registerOnTouched(o)),function Oi(i,t){let e=!1;if(null!==i){if(null!==t.validator){const s=Rr(i);if(Array.isArray(s)&&s.length>0){const r=s.filter(l=>l!==t.validator);r.length!==s.length&&(e=!0,i.setValidators(r))}}if(null!==t.asyncValidator){const s=kr(i);if(Array.isArray(s)&&s.length>0){const r=s.filter(l=>l!==t.asyncValidator);r.length!==s.length&&(e=!0,i.setAsyncValidators(r))}}}const o=()=>{};return Ai(t._rawValidators,o),Ai(t._rawAsyncValidators,o),e}(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Ai(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Yr(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function qr(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function Xr(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}let oa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=n.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),ra=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({}),i})();const Wo=new n.OlP("NgModelWithFormControlWarning"),Fu={provide:Ke,useExisting:(0,n.Gpc)(()=>Zo)};let Zo=(()=>{class i extends Ke{constructor(e,o,s,r){super(),this._ngModelWarningConfig=r,this.update=new n.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(o),this.valueAccessor=function Ho(i,t){if(!t)return null;let e,o,s;return Array.isArray(t),t.forEach(r=>{r.constructor===Oo?e=r:function wu(i){return Object.getPrototypeOf(i.constructor)===ft}(r)?o=r:s=r}),s||o||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const o=e.form.previousValue;o&&Ei(o,this,!1),wn(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}(function zo(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)})(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ei(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return i._ngModelWarningSentOnce=!1,i.\u0275fac=function(e){return new(e||i)(n.Y36(ce,10),n.Y36(Je,10),n.Y36(ke,10),n.Y36(Wo,8))},i.\u0275dir=n.lG2({type:i,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[n._Bn([Fu]),n.qOj,n.TTD]}),i})();const Nu={provide:ke,useExisting:(0,n.Gpc)(()=>Mi),multi:!0};function ua(i,t){return null==i?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${i}: ${t}`.slice(0,50))}let Mi=(()=>{class i extends ft{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const s=ua(this._getOptionId(e),e);this.setProperty("value",s)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function Vu(i){return i.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=n.n5z(i)))(o||i)}}(),i.\u0275dir=n.lG2({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&n.NdJ("change",function(r){return o.onChange(r.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[n._Bn([Nu]),n.qOj]}),i})(),ha=(()=>{class i{constructor(e,o,s){this._element=e,this._renderer=o,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ua(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(Mi,9))},i.\u0275dir=n.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const Bu={provide:ke,useExisting:(0,n.Gpc)(()=>Jo),multi:!0};function ma(i,t){return null==i?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${i}: ${t}`.slice(0,50))}let Jo=(()=>{class i extends ft{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const s=e.map(r=>this._getOptionId(r));o=(r,l)=>{r._setSelected(s.indexOf(l.toString())>-1)}}else o=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const s=[],r=o.selectedOptions;if(void 0!==r){const l=r;for(let d=0;d<l.length;d++){const w=this._getOptionValue(l[d].value);s.push(w)}}else{const l=o.options;for(let d=0;d<l.length;d++){const p=l[d];if(p.selected){const w=this._getOptionValue(p.value);s.push(w)}}}this.value=s,e(s)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function Gu(i){return i.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=n.n5z(i)))(o||i)}}(),i.\u0275dir=n.lG2({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&n.NdJ("change",function(r){return o.onChange(r.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[n._Bn([Bu]),n.qOj]}),i})(),pa=(()=>{class i{constructor(e,o,s){this._element=e,this._renderer=o,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(ma(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ma(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(Jo,9))},i.\u0275dir=n.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})(),ju=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[ra]}),i})(),Ju=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Wo,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[ju]}),i})();const qu=[{value:"how_much",color:m.r.DARK_GREY,hidden:!0},{value:"1",color:m.r.PINK},{value:"2",color:m.r.ORANGE},{value:"3",color:m.r.GREEN},{value:"4",color:m.r.BLUE},{value:"5",color:m.r.PURPLE}];var qo,Fi,Sa,kt,Lt,Ia,Da,xa,Ea;function Xu(i,t){if(1&i&&(n.ynx(0),n._uU(1),n.BQk()),2&i){const e=n.oxw().$implicit;n.xp6(1),n.hij("",e.value," (")}}function eh(i,t){1&i&&(n.ynx(0),n._uU(1,")"),n.BQk())}function th(i,t){if(1&i&&(n.TgZ(0,"option",7),n.YNc(1,Xu,2,1,"ng-container",8),n._uU(2),n.YNc(3,eh,2,0,"ng-container",8),n.qZA()),2&i){const e=t.$implicit;n.Udp("color",e.color),n.Q6J("ngValue",e),n.uIk("hidden",e.hidden),n.xp6(1),n.Q6J("ngIf",!e.hidden),n.xp6(1),n.hij(" ",e.text,""),n.xp6(1),n.Q6J("ngIf",!e.hidden)}}function nh(i,t){if(1&i&&(n.TgZ(0,"figure",1),n._UZ(1,"img",2),n.TgZ(2,"div",3),n._uU(3,"="),n.qZA(),n.TgZ(4,"form",4)(5,"select",5),n.YNc(6,th,4,7,"option",6),n.qZA()()()),2&i){const e=t.ngIf,o=n.oxw();n.xp6(1),n.Q6J("src",o.data.img,n.LSH),n.xp6(4),n.Udp("color",o.selection.value.color),n.Q6J("formControl",o.selection),n.xp6(1),n.Q6J("ngForOf",e)}}class Sn extends Ne{constructor(t){super(),this._translationsService=t,qo.add(this),this.selection=null,this.selections$=null,Fi.set(this,null)}ngOnInit(){this.selections$=this._translationsService.loadTranslation("games/count_how_much").pipe((0,V.z)(t=>(0,re.of)(qu).pipe((0,oe.J)(),(0,N.U)(e=>({...e,text:t[e.value]})),(0,Q.q)())),(0,f.b)(t=>{this.selection=new class extends class $r{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Qr(this._rawValidators),this._composedAsyncValidatorFn=Ur(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===yn}get invalid(){return this.status===Ii}get pending(){return this.status==Rt}get disabled(){return this.status===bn}get enabled(){return this.status!==bn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Qr(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ur(t)}addValidators(t){this.setValidators(Lr(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Lr(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Nr(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Nr(t,this._rawAsyncValidators))}hasValidator(t){return Ti(this._rawValidators,t)}hasAsyncValidator(t){return Ti(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Rt,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bn,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=yn,this._forEachChild(o=>{o.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yn||this.status===Rt)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bn:yn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Rt,this._hasOwnPendingAsyncValidator=!0;const e=xr(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((o,s)=>o&&o._find(s),this)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new n.vpe,this.statusChanges=new n.vpe}_calculateStatus(){return this._allControlsDisabled()?bn:this.errors?Ii:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rt)?Rt:this._anyControlsHaveStatus(Ii)?Ii:yn}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Di(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}{constructor(t=null,e,o){super(function No(i){return(Di(i)?i.validators:i)||null}(e),function Vo(i,t){return(Di(t)?t.asyncValidators:i)||null}(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Di(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Xr(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){qr(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){qr(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Xr(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}(t[0]),(0,a.Q_)(this,qo,"m",Sa).call(this),this.onDataLoad(this.data)}))}ngOnDestroy(){(0,a.Q_)(this,Fi,"f")?.unsubscribe()}}Fi=new WeakMap,qo=new WeakSet,Sa=function(){(0,a.YH)(this,Fi,this.selection.valueChanges.pipe((0,Te.q)(1),(0,f.b)(t=>this.emitData({id:this.data.id,count:+t.value}))).subscribe(),"f")},Sn.\u0275fac=function(t){return new(t||Sn)(n.Y36(g.f))},Sn.\u0275cmp=n.Xpm({type:Sn,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!0,features:[n.qOj,n.jDz],decls:2,vars:3,consts:[["class","item-to-count",4,"ngIf"],[1,"item-to-count"],[1,"item-to-find__img",3,"src"],[1,"item-to-count__equal"],[1,"d--i-block"],[1,"item-to-count__answer",3,"formControl"],[3,"ngValue","color",4,"ngFor","ngForOf"],[3,"ngValue"],[4,"ngIf"]],template:function(t,e){1&t&&(n.YNc(0,nh,7,5,"figure",0),n.ALo(1,"async")),2&t&&n.Q6J("ngIf",n.lcZ(1,1,e.selections$))},dependencies:[h.O5,h.Ov,h.ax,Ju,oa,ha,pa,Mi,Gr,zr,Zo],styles:[".item-to-count[_ngcontent-%COMP%]{display:flex;width:100%;max-width:300px;margin:auto;align-items:center;justify-content:space-between}.item-to-count__img[_ngcontent-%COMP%]{max-height:100%}.item-to-count__equal[_ngcontent-%COMP%], .item-to-count__answer[_ngcontent-%COMP%]{padding:5px;font-size:2rem;cursor:pointer}.item-to-count__answer[_ngcontent-%COMP%]{border:3px solid #ff2480;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:40px 5px/10px 20px}.item-to-count__answer[_ngcontent-%COMP%]:focus{border:3px solid #5c74d7;outline:none;box-shadow:0 0 10px 4px #ffffffbf}"],changeDetection:0});const ih=["itemsToCountCarousel"];function oh(i,t){if(1&i&&n._UZ(0,"img",8),2&i){const e=n.oxw().$implicit;n.Q6J("src",e.item.img,n.LSH)("ngClass",e.animationClass)("ngStyle",e.coords.style)}}function sh(i,t){if(1&i&&(n.ynx(0),n.YNc(1,oh,1,3,"img",7),n.BQk()),2&i){const e=t.$implicit;n.xp6(1),n.Q6J("ngIf",e.item)}}function rh(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"div",9)(1,"carousel",10,11),n.NdJ("emitDataFromItem",function(s){n.CHM(e);const r=n.oxw();return n.KtG(r.answer$.next(s))}),n.qZA()()}if(2&i){const e=n.oxw();n.xp6(1),n.Q6J("slides",e.itemsToCount)("height","auto")("blockManualSwiping",!0)("itemComponent",e.itemToCountComponent)}}class In{constructor(t,e){this._cdRef=t,this._themeItemsService=e,kt.add(this),this.gameLoader=null,this.bg=null,this.itemsToFind=null,this.itemsToCount=null,this.answers=[],this.itemToCountComponent=Sn,this.answer$=new O.x,Lt.set(this,new O.x)}ngOnInit(){(0,a.Q_)(this,kt,"m",Ia).call(this)}ngOnDestroy(){(0,a.Q_)(this,Lt,"f").next(),(0,a.Q_)(this,Lt,"f").unsubscribe()}}Lt=new WeakMap,kt=new WeakSet,Ia=function(){const[t,e]=function Jd(i,t,e){return[(0,M.h)(t,e)((0,Tt.Xf)(i)),(0,M.h)(jd(t,e))((0,Tt.Xf)(i))]}(this._themeItemsService.getItems().pipe((0,oe.J)()),o=>"bg"===o.id);t.pipe((0,f.b)(o=>this.bg=o),(0,te.R)((0,a.Q_)(this,Lt,"f"))).subscribe(),this.gameLoader=e.pipe((0,Q.q)(),(0,f.b)(o=>{this.itemsToCount=D.getRandItems(o,B.k.getAgesConfig()),this.itemsToFind=(0,a.Q_)(this,kt,"m",xa).call(this,o),(0,a.Q_)(this,kt,"m",Ea).call(this)}),(0,V.z)(o=>S.preloadThemeItemsImgs(o)))},Da=function(t){return t.reduce((e,o)=>{const s=D.getRndInteger(0,4);for(let r=0;r<5;r++)e.push(r<=s?o:null);return e},[])},xa=function(t){const e=D.getRandItems((0,a.Q_)(this,kt,"m",Da).call(this,t));let o=0,s=0,r=0,l=!0;return e.map((d,p)=>{const w=l?7:8;return s=r%w*12.5+(l?8.25:2),p>0&&r%w==0&&(o+=16.666666666666668),r>0&&r%(w-1)==0?(r=0,l=!l):r++,{item:d,coords:new Ao({top:o,left:s,unit:P.PERCENTAGE}),animationClass:null}})},Ea=function(){var t=this;this.answer$.pipe((0,N.U)(e=>{const o=this.itemsToFind.filter(s=>s.item?.id===e.id);return{itemsToFind:o,isCorrect:o.length===e.count}}),(0,K.w)(function(){var e=(0,Y.Z)(function*(o){return o.itemsToFind.forEach(s=>s.animationClass=o.isCorrect?me.PULSATE_FWD:me.SHAKE_HORIZONTAL),t.answers.push(o.isCorrect),t._cdRef.markForCheck(),o.isCorrect?yield k.d.playRightSound():yield k.d.playErrorSound(),o.itemsToFind});return function(o){return e.apply(this,arguments)}}()),Ve(1e3),(0,f.b)(e=>{e.forEach(o=>o.animationClass=null),this.itemsToCountCarouselVCh.slideToRight()}),Oe(this.itemsToCount.length),(0,f.b)(()=>this.answers.some(e=>!e)?R.A.gameFailed():R.A.gameCompleted()),(0,te.R)((0,a.Q_)(this,Lt,"f"))).subscribe()},In.\u0275fac=function(t){return new(t||In)(n.Y36(n.sBO),n.Y36(S))},In.\u0275cmp=n.Xpm({type:In,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(ih,5),2&t){let o;n.iGM(o=n.CRH())&&(e.itemsToCountCarouselVCh=o.first)}},standalone:!0,features:[n._Bn([S]),n.jDz],decls:7,vars:5,consts:[[3,"gameLoader"],[1,"container"],[1,"items"],[1,"d--block","w--100",3,"src"],[4,"ngFor","ngForOf"],["class","overflow-x--hidden w--100",4,"ngIf"],[3,"answers"],["class","items__item",3,"src","ngClass","ngStyle",4,"ngIf"],[1,"items__item",3,"src","ngClass","ngStyle"],[1,"overflow-x--hidden","w--100"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem"],["itemsToCountCarousel",""]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),n._UZ(3,"img",3),n.YNc(4,sh,2,1,"ng-container",4),n.qZA(),n.YNc(5,rh,3,4,"div",5),n._UZ(6,"answers-bar",6),n.qZA()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(3),n.Q6J("src",null==e.bg?null:e.bg.img,n.LSH),n.xp6(1),n.Q6J("ngForOf",e.itemsToFind),n.xp6(1),n.Q6J("ngIf",null==e.itemsToCount?null:e.itemsToCount.length),n.xp6(1),n.Q6J("answers",e.answers))},dependencies:[j,le,h.O5,h.ax,h.mk,h.PC,Mt],styles:[".shake-horizontal[_ngcontent-%COMP%]{animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.pulsate-fwd[_ngcontent-%COMP%]{animation:pulsate-fwd .5s ease-in-out infinite both}@keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-rows:1fr min-content min-content;place-items:center}.items[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:auto;position:relative}.items__item[_ngcontent-%COMP%]{max-height:16.6666666667%;position:absolute}"],changeDetection:0});const ah={path:"count_how_much",loadComponent:W,providers:[{provide:$.s,useValue:[ve,J,In]},{provide:he,useValue:new Map([[1,6],[2,8]])}]};class lh{constructor(t){this.id="",this.img="",this.id=t.id,this.img=`${L.J.getCustomGameThemeFolder()}img/${t.id}.${t.ext}`}}class qe{constructor(t){this._http=t}getAccordances(){const t=`${L.J.getCustomGameThemeFolder()}accordances.${we.D.JSON}`;return this._fetchAccordances(t).pipe((0,oe.J)(),(0,N.U)(e=>new lh(e)),(0,Q.q)())}_fetchAccordances(t){return this._http.get(t)}}qe.\u0275fac=function(t){return new(t||qe)(n.LFG(Re.eN))},qe.\u0275prov=n.Yz7({token:qe,factory:qe.\u0275fac}),(0,a.gn)([(0,Le.q)()],qe.prototype,"_fetchAccordances",null);let ch=(()=>{class i extends Ne{constructor(){super()}ngOnInit(){super.onDataLoad(this.data)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["item"]],inputs:{data:"data"},standalone:!0,features:[n.qOj,n.jDz],decls:2,vars:1,consts:[[1,"img","d--block","w-max--100","m--auto",3,"src"]],template:function(e,o){1&e&&(n.TgZ(0,"figure"),n._UZ(1,"img",0),n.qZA()),2&e&&(n.xp6(1),n.Q6J("src",o.data.img,n.LSH))},styles:[".img[_ngcontent-%COMP%]{max-height:400px}"],changeDetection:0}),i})();var Pi,Dn,Ri,Aa,Oa;const dh=["itemsCarousel"];function uh(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"carousel",6,7),n.NdJ("transitionEnd",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.unblock())}),n.qZA()}if(2&i){const e=n.oxw();n.Q6J("slides",e.items)("blockManualSwiping",!0)("itemComponent",e.itemComponent)}}class xn{constructor(t,e){this._themeItemsService=t,this._findAccordanceService=e,Pi.add(this),this.gameLoader=null,this.accordances=null,this.items=null,this.itemComponent=ch,this.answers=[],this.accordance$=new O.x,Dn.set(this,!1),Ri.set(this,null)}ngOnInit(){(0,a.Q_)(this,Pi,"m",Aa).call(this)}ngOnDestroy(){(0,a.Q_)(this,Ri,"f")?.unsubscribe()}unblock(){(0,a.YH)(this,Dn,!1,"f")}}Dn=new WeakMap,Ri=new WeakMap,Pi=new WeakSet,Aa=function(){this.gameLoader=this._findAccordanceService.getAccordances().pipe((0,f.b)(t=>this.accordances=D.shuffle(t)),(0,oe.J)(),_t("id"),(0,Q.q)(),(0,K.w)(t=>this._themeItemsService.getItems(e=>t.includes(e.id))),(0,f.b)(t=>this.items=D.shuffle(t)),(0,V.z)(()=>S.preloadThemeItemsImgs([].concat(this.accordances,this.items))),(0,f.b)(()=>(0,a.Q_)(this,Pi,"m",Oa).call(this)))},Oa=function(){var t=this;(0,a.YH)(this,Ri,this.accordance$.pipe((0,M.h)(()=>!(0,a.Q_)(this,Dn,"f")),(0,f.b)(()=>(0,a.YH)(this,Dn,!0,"f")),(0,N.U)(e=>e.id===this.itemsCarouselVCh.currentItem.id),(0,K.w)(function(){var e=(0,Y.Z)(function*(o){t.answers.push(o),o?yield k.d.playRightSound():yield k.d.playErrorSound(),t.itemsCarouselVCh.slideToRight()});return function(o){return e.apply(this,arguments)}}()),Oe(this.items.length),(0,f.b)(()=>this.answers.some(e=>!e)?R.A.gameFailed():R.A.gameCompleted())).subscribe(),"f")},xn.\u0275fac=function(t){return new(t||xn)(n.Y36(S),n.Y36(qe))},xn.\u0275cmp=n.Xpm({type:xn,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(dh,5),2&t){let o;n.iGM(o=n.CRH())&&(e.itemsCarouselVCh=o.first)}},standalone:!0,features:[n._Bn([S,qe]),n.jDz],decls:6,vars:5,consts:[[3,"gameLoader"],[1,"container","h--100"],[1,"carousel-container","overflow--hidden"],[3,"slides","blockManualSwiping","itemComponent","transitionEnd",4,"ngIf"],[3,"isVisible","items","itemClick"],[3,"answers"],[3,"slides","blockManualSwiping","itemComponent","transitionEnd"],["itemsCarousel",""]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),n.YNc(3,uh,2,3,"carousel",3),n.qZA(),n.TgZ(4,"theme-items-bar",4),n.NdJ("itemClick",function(s){return e.accordance$.next(s)}),n.qZA(),n._UZ(5,"answers-bar",5),n.qZA()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(3),n.Q6J("ngIf",null==e.items?null:e.items.length),n.xp6(1),n.Q6J("isVisible",(null==e.accordances?null:e.accordances.length)>0)("items",e.accordances),n.xp6(1),n.Q6J("answers",e.answers))},dependencies:[j,le,pt,Mt,h.O5,sn],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content min-content}.carousel-container[_ngcontent-%COMP%]{align-self:center}"],changeDetection:0});const hh={path:"find_accordance",loadComponent:W,providers:[{provide:$.s,useValue:[J,xn]}]};function Ma(i,t,e){const o="index"===e;return(s,r)=>{let l=0;s.subscribe((0,Qe.x)(r,d=>{const p=l++;i.call(t,d,p,s)&&(r.next(o?p:d),r.complete())},()=>{r.next(o?-1:void 0),r.complete()}))}}let Fa=(()=>{class i{constructor(e,o){this._elRef=e,this._renderer=o}drawEllipse(e,o){const s=e.right-e.left,r=e.bottom-e.top,l=this._renderer.createElement("DIV");this._renderer.setStyle(l,I.L.POSITION,"absolute"),this._renderer.setStyle(l,I.L.WIDTH,`${100*s/o}${P.PERCENTAGE}`),this._renderer.setStyle(l,I.L.HEIGHT,`${100*r/o}${P.PERCENTAGE}`),this._renderer.setStyle(l,I.L.LEFT,`${100*e.left/o}${P.PERCENTAGE}`),this._renderer.setStyle(l,I.L.TOP,`${100*e.top/o}${P.PERCENTAGE}`),this._renderer.setStyle(l,I.L.BORDER,`3px solid ${m.r.PINK}`),this._renderer.setStyle(l,I.L.BORDER_RADIUS,`50${P.PERCENTAGE}`),this._renderer.appendChild(this._elRef.nativeElement,l)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.Qsj))},i.\u0275dir=n.lG2({type:i,selectors:[["","drawEllipse",""]],standalone:!0}),i})();class Xe{constructor(t,e){this._http=t,this._addStepsService=e}getCoords(){const t=`${L.J.getCustomGameThemeFolder()}${L.J.getChosenSetSegment(this._addStepsService.chosenSetIndex)}/coords.${we.D.JSON}`;return this._fetchCoords(t)}_fetchCoords(t){return this._http.get(t)}}var et,tt,ki,Li,Pa,Ra,Xo,es;function _h(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"div",4)(1,"img",5),n.NdJ("click",function(s){n.CHM(e);const r=n.oxw();return n.KtG(r.coords$.next(s))}),n.qZA()()}if(2&i){const e=t.$implicit,o=n.oxw();n.Udp("max-width",o.maxImgWidth+o.px),n.xp6(1),n.Q6J("src",e.img,n.LSH)}}Xe.\u0275fac=function(t){return new(t||Xe)(n.LFG(Re.eN),n.LFG(Ce))},Xe.\u0275prov=n.Yz7({token:Xe,factory:Xe.\u0275fac}),(0,a.gn)([(0,Le.q)()],Xe.prototype,"_fetchCoords",null);class En{constructor(t,e){this._findDifferencesService=t,this._themeItemsService=e,et.add(this),this.px=P.PX,this.gameLoader=null,this.items=null,this.maxImgWidth=400,this.coords$=new O.x,tt.set(this,[]),ki.set(this,0),Li.set(this,null)}ngOnInit(){(0,a.Q_)(this,et,"m",Pa).call(this)}ngOnDestroy(){(0,a.Q_)(this,Li,"f")?.unsubscribe()}}tt=new WeakMap,ki=new WeakMap,Li=new WeakMap,et=new WeakSet,Pa=function(){this.gameLoader=(0,ue.D)({items:this._themeItemsService.getItems(),coords:this._findDifferencesService.getCoords()}).pipe((0,f.b)(t=>{this.items=t.items,(0,a.YH)(this,tt,[...t.coords],"f")}),(0,f.b)(()=>(0,a.Q_)(this,et,"m",Ra).call(this)),(0,V.z)(()=>S.preloadThemeItemsImgs(this.items)))},Ra=function(){var t=this;(0,a.YH)(this,Li,this.coords$.pipe((0,M.h)(()=>(0,a.Q_)(this,tt,"f").length>0),(0,N.U)(e=>{const o=e.target.getBoundingClientRect();return{x:e.clientX-o.left,y:e.clientY-o.top,rect:o}}),(0,K.w)(e=>(0,Ye.D)((0,a.Q_)(this,tt,"f")).pipe(function ph(i,t){return(0,lt.e)(Ma(i,t,"index"))}(o=>e.x>=(0,a.Q_)(this,et,"m",Xo).call(this,o.left,e.rect)&&e.x<=(0,a.Q_)(this,et,"m",Xo).call(this,o.right,e.rect)&&e.y>=(0,a.Q_)(this,et,"m",es).call(this,o.top,e.rect)&&e.y<=(0,a.Q_)(this,et,"m",es).call(this,o.bottom,e.rect)),(0,K.w)(function(){var o=(0,Y.Z)(function*(s){var r;s>-1?(t.drawEllipseD.forEach(l=>l.drawEllipse((0,a.Q_)(t,tt,"f")[s],t.maxImgWidth)),(0,a.Q_)(t,tt,"f").splice(s,1),yield k.d.playRightSound()):(0,a.YH)(t,ki,(r=(0,a.Q_)(t,ki,"f"),++r),"f")>2?R.A.gameFailed():yield k.d.playErrorSound()});return function(s){return o.apply(this,arguments)}}()),(0,M.h)(()=>0===(0,a.Q_)(this,tt,"f").length),(0,f.b)(()=>R.A.gameCompleted())))).subscribe(),"f")},Xo=function(t,e){return t*e.width/this.maxImgWidth},es=function(t,e){return t*e.height/this.maxImgWidth},En.\u0275fac=function(t){return new(t||En)(n.Y36(Xe),n.Y36(S))},En.\u0275cmp=n.Xpm({type:En,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(Fa,5),2&t){let o;n.iGM(o=n.CRH())&&(e.drawEllipseD=o)}},standalone:!0,features:[n._Bn([Xe,S]),n.jDz],decls:4,vars:2,consts:[[3,"gameLoader"],[1,"container","h--100"],[1,"w--100","text--center"],["class","d--i-block w--100 p--relative cursor--pointer","drawEllipse","",3,"maxWidth",4,"ngFor","ngForOf"],["drawEllipse","",1,"d--i-block","w--100","p--relative","cursor--pointer"],[1,"w--100",3,"src","click"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),n.YNc(3,_h,2,3,"div",3),n.qZA()()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(3),n.Q6J("ngForOf",e.items))},dependencies:[j,Fa,h.ax],styles:[".container[_ngcontent-%COMP%]{display:grid;place-items:center}"],changeDetection:0});const fh={path:"find_differences",loadComponent:W,providers:[{provide:Ce,useClass:Fe},{provide:$.s,useValue:[J,Ft,En]}]};let gh=(()=>{class i extends Ne{constructor(){super()}ngOnInit(){super.onDataLoad(this.data)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!0,features:[n.qOj,n.jDz],decls:2,vars:1,consts:[[1,"img","d--block","m--auto",3,"src"]],template:function(e,o){1&e&&(n.TgZ(0,"figure"),n._UZ(1,"img",0),n.qZA()),2&e&&(n.xp6(1),n.Q6J("src",o.data.img,n.LSH))},styles:[".img[_ngcontent-%COMP%]{max-width:100%;max-height:400px}"],changeDetection:0}),i})();var Ct,An,Ni,ka,La,ts,Na;const Ch=["itemsCarousel"];function vh(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"carousel",6,7),n.NdJ("transitionEnd",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.unblock())}),n.qZA()}if(2&i){const e=n.oxw();n.Q6J("slides",e.items)("blockManualSwiping",!0)("itemComponent",e.itemComponent)}}class On{constructor(t){this._themeItemsService=t,Ct.add(this),this.gameLoader=null,this.items=null,this.shadowedItems=null,this.itemComponent=gh,this.item$=new O.x,An.set(this,!1),Ni.set(this,null)}ngOnInit(){(0,a.Q_)(this,Ct,"m",ka).call(this)}ngOnDestroy(){(0,a.Q_)(this,Ni,"f")?.unsubscribe()}unblock(){(0,a.YH)(this,An,!1,"f")}}An=new WeakMap,Ni=new WeakMap,Ct=new WeakSet,ka=function(){this.gameLoader=(0,ue.D)({items:this._themeItemsService.getItems(),sounds:k.d.getAllBaseSounds()}).pipe((0,f.b)(t=>{this.shadowedItems=D.getRandItems(t.items,B.k.getAgesConfig()),this.items=D.getRandItems(this.shadowedItems),this.shadowedItems.forEach(e=>(0,a.Q_)(this,Ct,"m",ts).call(this,e,0)),(0,a.Q_)(this,Ct,"m",La).call(this)}),(0,V.z)(()=>(0,ue.D)([S.preloadThemeItemsImgs(this.shadowedItems),k.d.preloadThemeItemsTitleSounds(this.shadowedItems)])))},La=function(){var t=this;(0,a.YH)(this,Ni,this.item$.pipe((0,M.h)(()=>!(0,a.Q_)(this,An,"f")),(0,f.b)(function(){var e=(0,Y.Z)(function*(o){(0,a.YH)(t,An,!0,"f"),o.id===t.itemsCarouselVCh.currentItem.id?((0,a.Q_)(t,Ct,"m",ts).call(t,o,1),yield o.playTitle(),(0,a.Q_)(t,Ct,"m",Na).call(t)):(yield k.d.playErrorSound(),t.unblock())});return function(o){return e.apply(this,arguments)}}())).subscribe(),"f")},ts=function(t,e){t.imgStyle={[I.L.FILTER]:`brightness(${e})`}},Na=function(){this.itemsCarouselVCh.activeSlideIndex===this.items.length?R.A.gameCompleted():this.itemsCarouselVCh.slideToRight()},On.\u0275fac=function(t){return new(t||On)(n.Y36(S))},On.\u0275cmp=n.Xpm({type:On,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(Ch,5),2&t){let o;n.iGM(o=n.CRH())&&(e.itemsCarouselVCh=o.first)}},standalone:!0,features:[n._Bn([S]),n.jDz],decls:6,vars:3,consts:[[3,"gameLoader"],[1,"container","h--100"],[1,"carousel-container","overflow--hidden"],[3,"slides","blockManualSwiping","itemComponent","transitionEnd",4,"ngIf"],[1,"items-container"],[3,"items","itemClick"],[3,"slides","blockManualSwiping","itemComponent","transitionEnd"],["itemsCarousel",""]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),n.YNc(3,vh,2,3,"carousel",3),n.qZA(),n.TgZ(4,"div",4)(5,"theme-items-bar",5),n.NdJ("itemClick",function(s){return e.item$.next(s)}),n.qZA()()()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(3),n.Q6J("ngIf",e.items&&e.items.length),n.xp6(2),n.Q6J("items",e.shadowedItems))},dependencies:[j,le,pt,h.O5],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content}.carousel-container[_ngcontent-%COMP%]{align-self:center}"],changeDetection:0});const yh={path:"find_shadow",loadComponent:W,providers:[{provide:$.s,useValue:[ve,J,On]},{provide:he,useValue:new Map([[0,4],[1,6],[2,8]])}]};var Mn,Ae,Vi,Nt,Bi,Va,ns,Ba;class Fn extends Se{constructor(t,e,o,s){super(o,s),this._elementRef=t,this._renderer=e,Mn.add(this),this.coeff=.5,Ae.set(this,null)}ngOnInit(){super.ngOnInit(),(0,a.YH)(this,Ae,this._elementRef.nativeElement,"f"),this._renderer.setStyle((0,a.Q_)(this,Ae,"f"),I.L.DISPLAY,"block"),this._renderer.setStyle((0,a.Q_)(this,Ae,"f"),I.L.MARGIN,"auto")}ngOnChanges(t){t.coeff.firstChange||(0,a.Q_)(this,Mn,"m",Vi).call(this)}setGameSizes(){requestAnimationFrame(()=>{const t=(0,a.Q_)(this,Ae,"f").parentElement.getBoundingClientRect().height;this._renderer.setStyle((0,a.Q_)(this,Ae,"f"),I.L.MAX_WIDTH,`${t}${P.PX}`),this._renderer.setStyle((0,a.Q_)(this,Ae,"f"),I.L.MAX_HEIGHT,`${t}${P.PX}`),(0,a.Q_)(this,Ae,"f").complete?(0,a.Q_)(this,Mn,"m",Vi).call(this):(0,a.Q_)(this,Ae,"f").onload=()=>(0,a.Q_)(this,Mn,"m",Vi).call(this)})}}function bh(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"figure",4)(1,"div",5)(2,"img",6),n.NdJ("click",function(){const r=n.CHM(e).$implicit,l=n.oxw();return n.KtG(l.item$.next(r))}),n.qZA()()()}if(2&i){const e=t.$implicit;n.ekj("border--dotted",!e.checked)("border-width--1",!e.checked)("border--solid",e.checked)("border-width--3",e.checked),n.s9C("id",e.item.id),n.xp6(1),n.Q6J("isCorrect",e.isCorrect),n.xp6(1),n.Udp("transform",e.shifted&&!e.found?"translateX(-50%)":"translateX(0)"),n.ekj("cursor--pointer",!e.found),n.Q6J("src",e.item.img,n.LSH)("halfImg",e.found?1:.5)}}Ae=new WeakMap,Mn=new WeakSet,Vi=function(){const t=(0,a.Q_)(this,Ae,"f").getBoundingClientRect().width;this._renderer.setStyle((0,a.Q_)(this,Ae,"f").parentElement,I.L.WIDTH,`${t*this.coeff}${P.PX}`)},Fn.\u0275fac=function(t){return new(t||Fn)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.R0b),n.Y36(h.K0))},Fn.\u0275dir=n.lG2({type:Fn,selectors:[["","halfImg",""]],inputs:{coeff:["halfImg","coeff"]},standalone:!0,features:[n.qOj,n.TTD]});class Pn{constructor(t,e){this._cdRef=t,this._themeItemsService=e,Nt.add(this),this.gameLoader=null,this.items=null,this.rowsAmount=B.k.getAgesConfig().amount/2,this.item$=new O.x,Bi.set(this,null)}ngOnInit(){(0,a.Q_)(this,Nt,"m",Va).call(this)}ngOnDestroy(){(0,a.Q_)(this,Bi,"f")?.unsubscribe()}}Bi=new WeakMap,Nt=new WeakSet,Va=function(){this.gameLoader=this._themeItemsService.getItems().pipe((0,V.z)(t=>D.getRandItems(t,B.k.getAgesConfig().amount)),(0,N.U)(t=>[{item:t,shifted:!0,angle:(0,a.Q_)(this,Nt,"m",ns).call(this),checked:!1,found:!1},{item:t,shifted:!1,angle:(0,a.Q_)(this,Nt,"m",ns).call(this),checked:!1,found:!1}]),(0,oe.J)(),(0,Q.q)(),(0,f.b)(t=>this.items=D.shuffle(t)),(0,oe.J)(),_t("item"),(0,Q.q)(),(0,V.z)(t=>(0,ue.D)([S.preloadThemeItemsImgs(t),k.d.preloadThemeItemsTitleSounds(t)])),(0,f.b)(()=>(0,a.Q_)(this,Nt,"m",Ba).call(this)))},ns=function(){return B.k.getAgesConfig().rotated?D.getRndInteger(0,360):0},Ba=function(){var t=this;(0,a.YH)(this,Bi,this.item$.pipe((0,M.h)(e=>!e.found),(0,f.b)(e=>e.checked=!e.checked),Oe(2),(0,M.h)(e=>e[0].item.id!==e[1].item.id||e[0].item.id===e[1].item.id&&e[0].shifted!==e[1].shifted),(0,K.w)(function(){var e=(0,Y.Z)(function*(o){o[0].item.id===o[1].item.id?(o.forEach(s=>{s.found=!0,s.isCorrect=!0}),yield o[0].item.playTitle()):(o.forEach(s=>s.isCorrect=!1),yield k.d.playErrorSound()),o.forEach(s=>{s.checked=!1,s.isCorrect=null}),t._cdRef.markForCheck()});return function(o){return e.apply(this,arguments)}}()),(0,M.h)(()=>!this.items.some(e=>!e.found)),Ve(100),(0,f.b)(()=>R.A.gameCompleted())).subscribe(),"f")},Pn.\u0275fac=function(t){return new(t||Pn)(n.Y36(n.sBO),n.Y36(S))},Pn.\u0275cmp=n.Xpm({type:Pn,selectors:[["ng-component"]],standalone:!0,features:[n._Bn([S]),n.jDz],decls:4,vars:3,consts:[[3,"gameLoader"],[1,"container","h--100"],["gridSizer","","columnsAmount","4",3,"rowsAmount"],["class","figure d--flex curve-border border--orange radial-gradient--soft-grey",3,"id","border--dotted","border-width--1","border--solid","border-width--3",4,"ngFor","ngForOf"],[1,"figure","d--flex","curve-border","border--orange","radial-gradient--soft-grey",3,"id"],[1,"item","d--flex","m--auto","p--relative","overflow--hidden",3,"isCorrect"],[3,"src","halfImg","click"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),n.YNc(3,bh,3,16,"figure",3),n.qZA()()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(2),n.s9C("rowsAmount",e.rowsAmount),n.xp6(1),n.Q6J("ngForOf",e.items))},dependencies:[j,Me,fi,h.ax,Fn],styles:[".curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.pulsate-fwd[_ngcontent-%COMP%]{animation:pulsate-fwd .5s ease-in-out infinite both}@keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.shake-horizontal[_ngcontent-%COMP%]{animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.container[_ngcontent-%COMP%]{display:grid;place-items:center}.item[_ngcontent-%COMP%]{width:80%;height:80%}"],changeDetection:0});const wh={path:"find_the_half",loadComponent:W,providers:[{provide:$.s,useValue:[ve,J,Pn]},{provide:he,useValue:new Map([[0,{amount:4,rotated:!1}],[1,{amount:6,rotated:!1}],[2,{amount:8,rotated:!0}]])}]};var Th=c(515);function Ga(i,t,e){if(null==t&&(t=i,i=0),t<=0)return Th.E;const o=t+i;return new St.y(e?s=>{let r=i;return e.schedule(function(){r<o?(s.next(r++),this.schedule()):s.complete()})}:s=>{let r=i;for(;r<o&&!s.closed;)s.next(r++);s.complete()})}let Sh=(()=>{class i{constructor(e,o){this._elementRef=e,this._renderer=o,this.isActive=!1,this.borderStyle="solid",this.borderWidth=`1${P.PX}`}ngOnChanges(){this._renderer.setStyle(this._elementRef.nativeElement,I.L.BORDER_STYLE,this.isActive?"solid":this.borderStyle),this._renderer.setStyle(this._elementRef.nativeElement,I.L.BORDER_WIDTH,this.isActive?`2${P.PX}`:this.borderWidth)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.Qsj))},i.\u0275dir=n.lG2({type:i,selectors:[["","isActiveCell",""]],inputs:{isActive:["isActiveCell","isActive"],borderStyle:"borderStyle",borderWidth:"borderWidth"},standalone:!0,features:[n.TTD]}),i})();var is,Gi,Ha;function Ih(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"figure",2),n.NdJ("click",function(){const r=n.CHM(e).$implicit,l=n.oxw();return n.KtG(l.img$.next(r))}),n._UZ(1,"img",3),n.qZA()}if(2&i){const e=t.$implicit;n.Q6J("isActiveCell",e.isActive)("borderStyle","dotted"),n.xp6(1),n.Q6J("src",e.item.img,n.LSH)("isCorrect",e.isCorrect)}}class Vt extends Ne{constructor(){super(...arguments),is.add(this),this.data=null,this.rowsAmount=B.k.getAgesConfig().rowsAmount,this.columnsAmount=B.k.getAgesConfig().columnsAmount,this.items=null,this.img$=new O.x,Gi.set(this,null)}ngOnInit(){this.items=this.data.map(t=>({item:t,isActive:!1,isCorrect:null})),this.onDataLoad(this.data),(0,a.Q_)(this,is,"m",Ha).call(this)}ngOnDestroy(){(0,a.Q_)(this,Gi,"f")?.unsubscribe()}}Gi=new WeakMap,is=new WeakSet,Ha=function(){var t=this;(0,a.YH)(this,Gi,this.img$.pipe((0,f.b)(e=>e.isActive=!e.isActive),Oe(2),(0,M.h)(e=>e.every(o=>o.isActive)),(0,K.w)(function(){var e=(0,Y.Z)(function*(o){const s=o[0].item.img===o[1].item.img;o.forEach(r=>r.isCorrect=s),s?yield k.d.playRightSound():yield k.d.playErrorSound(),t.emitData(s)});return function(o){return e.apply(this,arguments)}}())).subscribe(),"f")},Vt.\u0275fac=function(){let i;return function(e){return(i||(i=n.n5z(Vt)))(e||Vt)}}(),Vt.\u0275cmp=n.Xpm({type:Vt,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!0,features:[n.qOj,n.jDz],decls:2,vars:3,consts:[["gridSizer","",3,"rowsAmount","columnsAmount"],["class","figure curve-border border--blue radial-gradient--soft-grey cursor--pointer",3,"isActiveCell","borderStyle","click",4,"ngFor","ngForOf"],[1,"figure","curve-border","border--blue","radial-gradient--soft-grey","cursor--pointer",3,"isActiveCell","borderStyle","click"],[1,"figure__img",3,"src","isCorrect"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.YNc(1,Ih,2,4,"figure",1),n.qZA()),2&t&&(n.s9C("rowsAmount",e.rowsAmount),n.s9C("columnsAmount",e.columnsAmount),n.xp6(1),n.Q6J("ngForOf",e.items))},dependencies:[h.ax,Sh,fi,Me],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.shake-horizontal[_ngcontent-%COMP%]{animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.pulsate-fwd[_ngcontent-%COMP%]{animation:pulsate-fwd .5s ease-in-out infinite both}@keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}"],changeDetection:0});let Dh=(()=>{class i{constructor(e){this._elementRef=e}ngAfterViewInit(){be.B.gridContainer=this._elementRef.nativeElement}ngOnDestroy(){be.B.gridContainer=null}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq))},i.\u0275dir=n.lG2({type:i,selectors:[["","gridContainer",""]],standalone:!0}),i})();var zi,Hi,Qa,Ua;function xh(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"carousel",5),n.NdJ("emitDataFromItem",function(s){n.CHM(e);const r=n.oxw();return n.KtG(r.answer$.next(s))}),n.qZA()}if(2&i){const e=n.oxw();n.Q6J("slides",e.items)("height","100%")("blockManualSwiping",!0)("itemComponent",e.itemComponent)}}class Rn{constructor(t){this._themeItemsService=t,zi.add(this),this.gameLoader=null,this.imgs=null,this.items=null,this.answers=[],this.itemComponent=Vt,this.answer$=new O.x,Hi.set(this,null)}ngOnInit(){(0,a.Q_)(this,zi,"m",Qa).call(this)}ngOnDestroy(){(0,a.Q_)(this,Hi,"f")?.unsubscribe()}}Hi=new WeakMap,zi=new WeakSet,Qa=function(){this.gameLoader=this._themeItemsService.getItems().pipe((0,K.w)(t=>Ga(1,5).pipe((0,N.U)(()=>{const e=D.getRandItems(t,B.k.getAgesConfig().amount);return e.push(D.getRndArrElem(e)),D.shuffle(e)}))),(0,Q.q)(),(0,f.b)(t=>{this.items=t,(0,a.Q_)(this,zi,"m",Ua).call(this)}),(0,oe.J)(),(0,V.z)(t=>S.preloadThemeItemsImgs(t)))},Ua=function(){(0,a.YH)(this,Hi,this.answer$.pipe((0,f.b)(t=>{this.answers.push(t),this.itemsCarouselVCh.slideToRight()}),Oe(5),(0,f.b)(t=>{t.some(e=>!e)?R.A.gameFailed():R.A.gameCompleted()})).subscribe(),"f")},Rn.\u0275fac=function(t){return new(t||Rn)(n.Y36(S))},Rn.\u0275cmp=n.Xpm({type:Rn,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(le,5),2&t){let o;n.iGM(o=n.CRH())&&(e.itemsCarouselVCh=o.first)}},standalone:!0,features:[n._Bn([S]),n.jDz],decls:5,vars:3,consts:[[3,"gameLoader"],[1,"container"],["gridContainer","",1,"w--100","h--100","overflow-x--hidden"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem",4,"ngIf"],[3,"answers"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),n.YNc(3,xh,1,4,"carousel",3),n.qZA(),n._UZ(4,"answers-bar",4),n.qZA()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(3),n.Q6J("ngIf",null==e.items?null:e.items.length),n.xp6(1),n.Q6J("answers",e.answers))},dependencies:[j,Dh,le,Mt,h.O5],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-rows:1fr min-content;place-items:center}"],changeDetection:0});const Eh={path:"find_the_same",loadComponent:W,providers:[{provide:$.s,useValue:[ve,J,Ft,Rn]},{provide:Ce,useClass:Fe},{provide:he,useValue:new Map([[0,{amount:3,rowsAmount:2,columnsAmount:2}],[1,{amount:5,rowsAmount:2,columnsAmount:3}],[2,{amount:8,rowsAmount:3,columnsAmount:3}]])}]};var Bt,Qi,Za,$a,Ya,ja,Ah=c(207);function Oh(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"td",7),n.NdJ("click",function(){const r=n.CHM(e).$implicit,l=n.oxw().$implicit,d=n.oxw();return n.KtG(d.letter$.next({letter:r,word:l}))}),n._uU(1),n.qZA()}if(2&i){const e=t.$implicit,o=n.oxw().$implicit,s=n.oxw();n.Udp("opacity",o.completed&&!e.checked?.5:1)("color",e.checked?s.colors.BLUE:s.colors.DARK_GREY),n.xp6(1),n.hij(" ",e.letter," ")}}function Mh(i,t){if(1&i&&(n.TgZ(0,"tr",5),n.YNc(1,Oh,2,5,"td",6),n.qZA()),2&i){const e=t.$implicit;n.xp6(1),n.Q6J("ngForOf",e.word)}}class kn{constructor(t,e){this._themeItemsService=t,this._translationsService=e,Bt.add(this),this.gameLoader=null,this.items=null,this.matrix=null,this.colors=m.r,this.letter$=new O.x,Qi.set(this,null)}ngOnInit(){(0,a.Q_)(this,Bt,"m",Za).call(this)}ngOnDestroy(){(0,a.Q_)(this,Qi,"f")?.unsubscribe()}}Qi=new WeakMap,Bt=new WeakSet,Za=function(){this.gameLoader=this._themeItemsService.getItems().pipe((0,oe.J)(),(0,M.h)(t=>t.title.length<=12&&1===t.title.split(" ").length),(0,Q.q)(),(0,f.b)(t=>this.items=D.getRandItems(t,8)),(0,V.z)(()=>(0,a.Q_)(this,Bt,"m",$a).call(this,this.items)),(0,f.b)(()=>(0,a.Q_)(this,Bt,"m",ja).call(this)),(0,V.z)(()=>(0,ue.D)([k.d.preloadThemeItemsTitleSounds(this.items),S.preloadThemeItemsImgs(this.items)])))},$a=function(t){return this._translationsService.loadTranslation("games/find_words_in_table").pipe((0,V.z)(e=>(0,Ye.D)(D.shuffle(t)).pipe(_t("title"),(0,N.U)(o=>o.toUpperCase()),(0,V.z)(o=>{const s=[o];for(let r=0;r<12-o.length;r++)s.push(D.getRndArrElem((0,a.Q_)(this,Bt,"m",Ya).call(this,o,e)));return(0,Ye.D)(D.shuffle(s).join("")).pipe((0,N.U)(r=>({letter:r,checked:!1})),(0,Q.q)())}),(0,N.U)(o=>({word:o,completed:!1})),(0,Q.q)(),(0,f.b)(o=>this.matrix=o))))},Ya=function(t,e){const o=[];for(let s=e.first_letter.charCodeAt(0);s<=e.last_letter.charCodeAt(0);s++)`${e.forbidden_letters}${t[0]}${t.slice(-1)}`.includes(String.fromCharCode(s))||o.push(String.fromCharCode(s));return o},ja=function(){(0,a.YH)(this,Qi,this.letter$.pipe((0,M.h)(t=>!t.word.completed),(0,N.U)(t=>(t.letter.checked=!t.letter.checked,t.word)),(0,K.w)(t=>(0,Ye.D)(t.word).pipe((0,M.h)(e=>e.checked),_t("letter"),(0,Ah.u)((e,o)=>e+o,""),(0,N.U)(e=>this.items.find(o=>o.title.toLowerCase()===e.toLowerCase())),(0,M.h)(Boolean),(0,f.b)(()=>t.completed=!0))),(0,f.b)(t=>t.titleStyle={[I.L.OPACITY]:.5,[I.L.TEXT_DECORATION]:"line-through"}),(0,K.w)(function(){var t=(0,Y.Z)(function*(e){return yield e.playTitle()});return function(e){return t.apply(this,arguments)}}()),(0,M.h)(()=>!this.matrix.some(t=>!t.completed)),Ve(200),(0,f.b)(()=>R.A.gameCompleted())).subscribe(),"f")},kn.\u0275fac=function(t){return new(t||kn)(n.Y36(S),n.Y36(g.f))},kn.\u0275cmp=n.Xpm({type:kn,selectors:[["ng-component"]],standalone:!0,features:[n._Bn([S]),n.jDz],decls:6,vars:4,consts:[[3,"gameLoader"],[1,"container"],[1,"table"],["class","table__row",4,"ngFor","ngForOf"],[3,"items","showTitle"],[1,"table__row"],["class","table__cell radial-gradient--soft-grey","align","center",3,"opacity","color","click",4,"ngFor","ngForOf"],["align","center",1,"table__cell","radial-gradient--soft-grey",3,"click"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"table",2)(3,"tbody"),n.YNc(4,Mh,2,1,"tr",3),n.qZA()(),n._UZ(5,"theme-items-bar",4),n.qZA()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(4),n.Q6J("ngForOf",e.matrix),n.xp6(1),n.Q6J("items",e.items)("showTitle",!0))},dependencies:[j,h.ax,pt],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:1fr min-content}.table[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:auto;border-spacing:.5rem}.table__cell[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #9e9e9e;border-radius:5px;font-size:2rem;cursor:pointer}.table__cell[_ngcontent-%COMP%]:hover{font-weight:700}@media screen and (max-width: 1024px){.table__cell[_ngcontent-%COMP%]{font-size:1.5rem}}@media screen and (max-width: 767px){.table__cell[_ngcontent-%COMP%]{padding:0;font-size:1rem}}"],changeDetection:0});const Fh={path:"find_words_in_table",loadComponent:W,providers:[{provide:$.s,useValue:[J,kn]}]};class Ph{constructor(t,e=!1){this.id=t,this.found=e,this.img=L.J.getItemCustomImg(t)}}var Ui,Wi,Zi,Ja,Ka;function Rh(i,t){if(1&i&&n._UZ(0,"img",6),2&i){const e=t.$implicit;n.ekj("semi-transparent",e.found),n.Q6J("src",e.img,n.LSH)}}class Ln{constructor(t){this._themeItemsService=t,Ui.add(this),this.gameLoader=null,this.items=null,this.contourItems=null,this.item$=new O.x,Wi.set(this,0),Zi.set(this,null)}ngOnInit(){(0,a.Q_)(this,Ui,"m",Ja).call(this)}ngOnDestroy(){(0,a.Q_)(this,Zi,"f")?.unsubscribe()}}Wi=new WeakMap,Zi=new WeakMap,Ui=new WeakSet,Ja=function(){const t=B.k.getAgesConfig();this.gameLoader=this._themeItemsService.getItems().pipe((0,f.b)(e=>this.items=D.getRandItems(e,2*t)),(0,K.w)(()=>(0,Ye.D)(this.items).pipe((0,Te.q)(t),(0,N.U)(e=>new Ph(e.id)),(0,Q.q)())),(0,f.b)(e=>{this.contourItems=e,this.items=D.shuffle(this.items),(0,a.Q_)(this,Ui,"m",Ka).call(this)}),(0,K.w)(()=>S.preloadThemeItemsImgs([].concat(this.items,this.contourItems))))},Ka=function(){var t=this;(0,a.YH)(this,Zi,this.item$.pipe((0,K.w)(e=>(0,Ye.D)(this.contourItems).pipe(function mh(i,t){return(0,lt.e)(Ma(i,t,"value"))}(o=>o.id===e.id),(0,f.b)(function(){var o=(0,Y.Z)(function*(s){var r;if(s&&!s.found){s.found=!0;const l=t.items.find(d=>d.id===s.id);l.titleStyle={[I.L.OPACITY]:.5,[I.L.TEXT_DECORATION]:"line-through"},yield l.playTitle(),t.contourItems.every(d=>d.found)&&R.A.gameCompleted()}else(0,a.YH)(t,Wi,(r=(0,a.Q_)(t,Wi,"f"),++r),"f")<3?yield k.d.playErrorSound():R.A.gameFailed()});return function(s){return o.apply(this,arguments)}}())))).subscribe(),"f")},Ln.\u0275fac=function(t){return new(t||Ln)(n.Y36(S))},Ln.\u0275cmp=n.Xpm({type:Ln,selectors:[["ng-component"]],standalone:!0,features:[n._Bn([S]),n.jDz],decls:6,vars:3,consts:[[3,"gameLoader"],[1,"container","h--100"],[1,"h--100"],[1,"p--relative","h--100"],["class","p--absolute w--100 h--100",3,"src","semi-transparent",4,"ngFor","ngForOf"],[3,"items","itemClick"],[1,"p--absolute","w--100","h--100",3,"src"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2)(3,"div",3),n.YNc(4,Rh,1,3,"img",4),n.qZA()(),n.TgZ(5,"theme-items-bar",5),n.NdJ("itemClick",function(s){return e.item$.next(s)}),n.qZA()()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(4),n.Q6J("ngForOf",e.contourItems),n.xp6(1),n.Q6J("items",e.items))},dependencies:[j,pt,h.ax],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content}.semi-transparent[_ngcontent-%COMP%]{opacity:.15}"],changeDetection:0});const kh={path:"noised_pictures",loadComponent:W,providers:[{provide:$.s,useValue:[ve,J,Ln]},{provide:he,useValue:new Map([[0,2],[1,3],[2,4]])}]};var $i,nt,Gt,zt,os;class Ht extends Se{constructor(t,e,o,s){super(o,s),this._elementRef=t,this._renderer=e,$i.add(this),this.y=0,this.cellClick=new n.vpe,nt.set(this,B.k.getAgesConfig()),Gt.set(this,-D.getRndInteger(0,(0,a.Q_)(this,nt,"f"))),zt.set(this,0)}onCellClick(){const t=(0,a.Q_)(this,Gt,"f")-1;(0,a.YH)(this,Gt,t===-(0,a.Q_)(this,nt,"f")?0:t,"f"),(0,a.Q_)(this,$i,"m",os).call(this),this.cellClick.emit()}setGameSizes(){requestAnimationFrame(()=>{const t=this._elementRef.nativeElement.parentElement.getBoundingClientRect();(0,a.YH)(this,zt,t.width/(0,a.Q_)(this,nt,"f"),"f"),this._renderer.setStyle(this._elementRef.nativeElement,I.L.WIDTH,`${(0,a.Q_)(this,zt,"f")}${P.PX}`),this._renderer.setStyle(this._elementRef.nativeElement,I.L.HEIGHT,`${t.height/(0,a.Q_)(this,nt,"f")}${P.PX}`),this._renderer.setStyle(this._elementRef.nativeElement,I.L.BACKGROUND_SIZE,`${t.width}${P.PX}`),(0,a.Q_)(this,$i,"m",os).call(this)})}isCorrect(t){return Math.abs((0,a.Q_)(this,Gt,"f"))===(t+(0,a.Q_)(this,nt,"f"))%(0,a.Q_)(this,nt,"f")}}nt=new WeakMap,Gt=new WeakMap,zt=new WeakMap,$i=new WeakSet,os=function(){this._renderer.setStyle(this._elementRef.nativeElement,I.L.BACKGROUND_POSITION,`${(0,a.Q_)(this,Gt,"f")*(0,a.Q_)(this,zt,"f")}${P.PX} ${-this.y*(0,a.Q_)(this,zt,"f")}${P.PX}`)},Ht.\u0275fac=function(t){return new(t||Ht)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.R0b),n.Y36(h.K0))},Ht.\u0275dir=n.lG2({type:Ht,selectors:[["","cellSizer",""]],hostBindings:function(t,e){1&t&&n.NdJ("click",function(){return e.onCellClick()})},inputs:{y:"y"},outputs:{cellClick:"cellClick"},standalone:!0,features:[n.qOj]});let Lh=(()=>{class i extends Se{constructor(e,o,s,r){super(s,r),this._elementRef=e,this._renderer=o,this.size=300}setGameSizes(){const e=Math.min(this.size,be.B.getGridContainerMinDimension()-16);this._renderer.setStyle(this._elementRef.nativeElement,I.L.WIDTH,`${e}${P.PX}`),this._renderer.setStyle(this._elementRef.nativeElement,I.L.HEIGHT,`${e}${P.PX}`)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.R0b),n.Y36(h.K0))},i.\u0275dir=n.lG2({type:i,selectors:[["","squireSizer",""]],inputs:{size:["squireSizer","size"]},standalone:!0,features:[n.qOj]}),i})();var ss,qa;function Nh(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"span",8),n.NdJ("cellClick",function(){n.CHM(e);const s=n.oxw(3);return n.KtG(s.onCellClick())}),n.qZA()}if(2&i){const e=t.$implicit,o=n.oxw(3);n.Udp("background-image","url("+o.img+")"),n.s9C("y",e)}}function Vh(i,t){if(1&i&&(n.ynx(0),n.YNc(1,Nh,1,3,"span",7),n.BQk()),2&i){const e=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",e.yPositions)}}function Bh(i,t){if(1&i&&(n.ynx(0),n.TgZ(1,"div",6),n.YNc(2,Vh,2,1,"ng-container",3),n.qZA(),n.BQk()),2&i){const e=n.oxw();n.xp6(1),n.Q6J("squireSizer",e.imgSize),n.xp6(1),n.Q6J("ngIf",e.img)}}function Gh(i,t){1&i&&n.GkF(0)}function zh(i,t){if(1&i&&(n.ynx(0),n.YNc(1,Gh,1,0,"ng-container",4),n.BQk()),2&i){n.oxw();const e=n.MAs(7);n.xp6(1),n.Q6J("ngTemplateOutlet",e)}}function Hh(i,t){1&i&&n.GkF(0)}function Qh(i,t){if(1&i&&n._UZ(0,"div",6),2&i){const e=n.oxw(2);n.Udp("background-image","url("+e.img+")"),n.Q6J("squireSizer",e.imgSize)}}function Uh(i,t){if(1&i&&n.YNc(0,Qh,1,3,"div",9),2&i){const e=n.oxw();n.Q6J("ngIf",e.img)}}class Nn{constructor(t){this._themeItemsService=t,ss.add(this),this.gameLoader=null,this.items=null,this.img=null,this.imgSize=500,this.isFinished=!1,this.yPositions=[]}ngOnInit(){(0,a.Q_)(this,ss,"m",qa).call(this)}onCellClick(){var t=this;return(0,Y.Z)(function*(){t.isFinished=!t.cellsD.toArray().some((e,o)=>!e.isCorrect(o)),t.isFinished&&(yield k.d.playWinSound())})()}}ss=new WeakSet,qa=function(){this.gameLoader=this._themeItemsService.getItems().pipe((0,N.U)(t=>(this.items=t,this.img=t[0].img,B.k.getAgesConfig())),(0,f.b)(t=>{let e=0;for(let o=0;o<Math.pow(t,2);o++)this.yPositions.push(e),(o+1)%t==0&&e++}),(0,K.w)(()=>S.preloadThemeItemsImgs([this.items[0]])))},Nn.\u0275fac=function(t){return new(t||Nn)(n.Y36(S))},Nn.\u0275cmp=n.Xpm({type:Nn,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(Ht,5),2&t){let o;n.iGM(o=n.CRH())&&(e.cellsD=o)}},standalone:!0,features:[n._Bn([S]),n.jDz],decls:8,vars:4,consts:[[3,"gameLoader"],[1,"h--100"],[1,"h--100","text--center"],[4,"ngIf"],[4,"ngTemplateOutlet"],["imgTmpl",""],[1,"img","d--i-block",3,"squireSizer"],["class","cell d--i-block cursor--pointer","cellSizer","",3,"y","backgroundImage","cellClick",4,"ngFor","ngForOf"],["cellSizer","",1,"cell","d--i-block","cursor--pointer",3,"y","cellClick"],["class","img d--i-block",3,"backgroundImage","squireSizer",4,"ngIf"]],template:function(t,e){if(1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),n.YNc(3,Bh,3,2,"ng-container",3),n.YNc(4,zh,2,1,"ng-container",3),n.YNc(5,Hh,1,0,"ng-container",4),n.YNc(6,Uh,1,1,"ng-template",null,5,n.W1O),n.qZA()()()),2&t){const o=n.MAs(7);n.Q6J("gameLoader",e.gameLoader),n.xp6(3),n.Q6J("ngIf",!e.isFinished),n.xp6(1),n.Q6J("ngIf",e.isFinished),n.xp6(1),n.Q6J("ngTemplateOutlet",o)}},dependencies:[j,h.O5,Lh,h.ax,Ht,h.tP],styles:[".img[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:contain;vertical-align:bottom;margin:0 .5rem}@media screen and (max-width: 1024px){.img[_ngcontent-%COMP%]{margin:.5rem 0}}.cell[_ngcontent-%COMP%]{vertical-align:bottom;outline:#333333 solid 2px}"],changeDetection:0});const Wh={path:"puzzle",loadComponent:W,providers:[{provide:$.s,useValue:[ve,J,Ft,Nn]},{provide:Ce,useClass:Fe},{provide:he,useValue:new Map([[0,3],[1,4],[2,5]])}]};var Yi,Vn,ji,rs,_e,Ji,Xa,el,tl,as,nl,il,ls,Bn;class Qt{constructor(t,e){this._elementRef=t,this._renderer=e,Yi.add(this),this.rotated=new n.vpe,this.angle=180*D.getRndInteger(0,2),Vn.set(this,!1),ji.set(this,!1)}ngOnInit(){(0,a.Q_)(this,Yi,"m",rs).call(this)}onClick(){(0,a.Q_)(this,Vn,"f")||(0,a.Q_)(this,ji,"f")||((0,a.YH)(this,Vn,!0,"f"),this.rotate(),this.rotated.emit())}onTransitionend(){(0,a.YH)(this,Vn,!1,"f")}rotate(){this.angle+=180,(0,a.Q_)(this,Yi,"m",rs).call(this)}finish(){(0,a.YH)(this,ji,!0,"f")}}function Zh(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"figure",3)(1,"img",4),n.NdJ("rotated",function(){const r=n.CHM(e).index,l=n.oxw();return n.KtG(l.onRotate$.next(r))}),n.qZA()()}if(2&i){const e=t.$implicit;n.xp6(1),n.Q6J("src",e.img,n.LSH)}}Vn=new WeakMap,ji=new WeakMap,Yi=new WeakSet,rs=function(){const t=this._elementRef.nativeElement;this._renderer.setStyle(t,I.L.TRANSFORM,`rotate(${this.angle}${P.DEG})`),this._renderer.setStyle(t,I.L.TRANSITION,"transform 0.5s ease-in-out")},Qt.\u0275fac=function(t){return new(t||Qt)(n.Y36(n.SBq),n.Y36(n.Qsj))},Qt.\u0275dir=n.lG2({type:Qt,selectors:[["","itemRotate",""]],hostBindings:function(t,e){1&t&&n.NdJ("click",function(){return e.onClick()})("transitionend",function(){return e.onTransitionend()})},outputs:{rotated:"rotated"},standalone:!0});class Gn{constructor(t){this._themeItemsService=t,_e.add(this),this.gameLoader=null,this.items=null,this.onRotate$=new O.x,this.rowsAmount=4,this.columnsAmount=4,Ji.set(this,null)}ngOnInit(){(0,a.Q_)(this,_e,"m",Xa).call(this)}ngOnDestroy(){(0,a.Q_)(this,Ji,"f")?.unsubscribe()}}Ji=new WeakMap,_e=new WeakSet,Xa=function(){this.gameLoader=this._themeItemsService.getItems().pipe((0,f.b)(t=>{this.items=D.shuffle(t);const e=this.rowsAmount*this.columnsAmount;if(this.items.length<e)for(;this.items.length<e;){const o=D.getRndInteger(0,this.items.length);this.items.push(this.items[o])}else this.items.length=e;(0,a.Q_)(this,_e,"m",el).call(this)}),(0,V.z)(()=>S.preloadThemeItemsImgs(this.items)))},el=function(){const t=e=>e.angle%360>0;(0,a.YH)(this,Ji,this.onRotate$.pipe((0,f.b)(e=>(0,a.Q_)(this,_e,"m",tl).call(this,e)),(0,M.h)(()=>!this.itemsD.some(t)),(0,f.b)(()=>this.itemsD.forEach(e=>e.finish())),Ve(1e3),(0,f.b)(()=>R.A.gameCompleted())).subscribe(),"f")},tl=function(t){1===B.k.getAgeId()&&((0,a.Q_)(this,_e,"m",as).call(this,t),(0,a.Q_)(this,_e,"m",ls).call(this,t)),2===B.k.getAgeId()&&((0,a.Q_)(this,_e,"m",il).call(this,t),(0,a.Q_)(this,_e,"m",as).call(this,t),(0,a.Q_)(this,_e,"m",ls).call(this,t),(0,a.Q_)(this,_e,"m",nl).call(this,t))},as=function(t){(t+1)%this.columnsAmount!=0&&(0,a.Q_)(this,_e,"m",Bn).call(this,t+1)},nl=function(t){t%this.columnsAmount!=0&&(0,a.Q_)(this,_e,"m",Bn).call(this,t-1)},il=function(t){(0,a.Q_)(this,_e,"m",Bn).call(this,t-this.columnsAmount)},ls=function(t){(0,a.Q_)(this,_e,"m",Bn).call(this,t+this.columnsAmount)},Bn=function(t){this.itemsD.find((e,o)=>o===t)?.rotate()},Gn.\u0275fac=function(t){return new(t||Gn)(n.Y36(S))},Gn.\u0275cmp=n.Xpm({type:Gn,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(Qt,5),2&t){let o;n.iGM(o=n.CRH())&&(e.itemsD=o)}},standalone:!0,features:[n._Bn([S]),n.jDz],decls:3,vars:4,consts:[[3,"gameLoader"],["gridSizer","",3,"rowsAmount","columnsAmount"],["class","figure curve-border border-width--1 border--dashed border--purple radial-gradient--soft-grey",4,"ngFor","ngForOf"],[1,"figure","curve-border","border-width--1","border--dashed","border--purple","radial-gradient--soft-grey"],["itemRotate","",1,"figure__img","cursor--pointer",3,"src","rotated"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1),n.YNc(2,Zh,2,1,"figure",2),n.qZA()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(1),n.s9C("rowsAmount",e.rowsAmount),n.s9C("columnsAmount",e.columnsAmount),n.xp6(1),n.Q6J("ngForOf",e.items))},dependencies:[j,Me,h.ax,Qt],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}"],changeDetection:0});const $h={path:"rotate_item",loadComponent:W,providers:[{provide:$.s,useValue:[ve,J,Gn]},{provide:he,useValue:new Map([[0,null],[1,null],[2,null]])}]};var q,qi,Ki=c(4968),cs=c(7866);class Ut{constructor(t,e,o){this._elementRef=t,this._renderer=e,this._document=o,this.dragArea=null,this.propsToRestore=[],this.elFromPoint=new n.vpe,q.set(this,null),qi.set(this,{})}ngAfterViewInit(){(0,a.YH)(this,q,this._elementRef.nativeElement,"f");const t=(0,Ki.R)((0,a.Q_)(this,q,"f"),cs.m.MOUSEDOWN),e=(0,Ki.R)(this.dragArea,cs.m.MOUSEMOVE),o=(0,Ki.R)(this.dragArea,cs.m.MOUSEUP);t.pipe((0,N.U)(s=>{s.preventDefault(),this._renderer.setStyle(this.dragArea,I.L.POSITION,"relative"),this.propsToRestore.forEach(w=>(0,a.Q_)(this,qi,"f")[w]=(0,a.Q_)(this,q,"f").style[w]);const r=(0,a.Q_)(this,q,"f").getBoundingClientRect(),l=this.dragArea.getBoundingClientRect();this._renderer.setStyle((0,a.Q_)(this,q,"f"),I.L.WIDTH,`${r.width}${P.PX}`),this._renderer.setStyle((0,a.Q_)(this,q,"f"),I.L.HEIGHT,`${r.height}${P.PX}`),this._renderer.setStyle((0,a.Q_)(this,q,"f"),I.L.POSITION,"absolute"),this._renderer.setStyle((0,a.Q_)(this,q,"f"),I.L.Z_INDEX,100);const d=s.clientX-r.left+l.left,p=s.clientY-r.top+l.top;return this._renderer.setStyle((0,a.Q_)(this,q,"f"),I.L.LEFT,`${s.pageX-d}${P.PX}`),this._renderer.setStyle((0,a.Q_)(this,q,"f"),I.L.TOP,`${s.pageY-p}${P.PX}`),{x:d,y:p}}),(0,K.w)(s=>e.pipe((0,N.U)(r=>{r.preventDefault(),this._renderer.setStyle((0,a.Q_)(this,q,"f"),I.L.LEFT,`${r.pageX-s.x}${P.PX}`),this._renderer.setStyle((0,a.Q_)(this,q,"f"),I.L.TOP,`${r.pageY-s.y}${P.PX}`)}),(0,te.R)(o),(0,K.w)(()=>o.pipe((0,Te.q)(1),(0,f.b)(r=>{const l=(0,a.Q_)(this,q,"f").style.display;this._renderer.setStyle((0,a.Q_)(this,q,"f"),I.L.DISPLAY,"none"),this.elFromPoint.emit(this._document.elementFromPoint(r.clientX,r.clientY)),this._renderer.setStyle((0,a.Q_)(this,q,"f"),I.L.DISPLAY,l)})))))).subscribe()}backEl(){this._renderer.removeStyle((0,a.Q_)(this,q,"f"),I.L.POSITION),this._renderer.removeStyle((0,a.Q_)(this,q,"f"),I.L.TOP),this._renderer.removeStyle((0,a.Q_)(this,q,"f"),I.L.LEFT);for(const[t,e]of Object.entries((0,a.Q_)(this,qi,"f")))this._renderer.setStyle((0,a.Q_)(this,q,"f"),t,e)}destroyEl(){(0,a.Q_)(this,q,"f").remove()}}function ol(i,t,e,o){return(0,lt.e)((s,r)=>{let l;t&&"function"!=typeof t?({duration:e,element:l,connector:o}=t):l=t;const d=new Map,p=ie=>{d.forEach(ie),ie(r)},w=ie=>p(ae=>ae.error(ie));let E=0,U=!1;const ne=new Qe.Q(r,ie=>{try{const ae=i(ie);let X=d.get(ae);if(!X){d.set(ae,X=o?o():new O.x);const qt=function Ge(ie,ae){const X=new St.y(qt=>{E++;const ze=ae.subscribe(qt);return()=>{ze.unsubscribe(),0==--E&&U&&ne.unsubscribe()}});return X.key=ie,X}(ae,X);if(r.next(qt),e){const ze=(0,Qe.x)(X,()=>{X.complete(),ze?.unsubscribe()},void 0,void 0,()=>d.delete(ae));ne.add((0,Tt.Xf)(e(qt)).subscribe(ze))}}X.next(l?l(ie):ie)}catch(ae){w(ae)}},()=>p(ie=>ie.complete()),w,()=>d.clear(),()=>(U=!0,0===E));s.subscribe(ne)})}q=new WeakMap,qi=new WeakMap,Ut.\u0275fac=function(t){return new(t||Ut)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(h.K0))},Ut.\u0275dir=n.lG2({type:Ut,selectors:[["","drag",""]],inputs:{dragArea:"dragArea",propsToRestore:"propsToRestore"},outputs:{elFromPoint:"elFromPoint"},standalone:!0});class it{constructor(t){this._http=t}getCoords(){const t=`${L.J.getCustomGameThemeFolder()}coords.${we.D.JSON}`;return this._fetchCoords(t)}_fetchCoords(t){return this._http.get(t)}}it.\u0275fac=function(t){return new(t||it)(n.LFG(Re.eN))},it.\u0275prov=n.Yz7({token:it,factory:it.\u0275fac}),(0,a.gn)([(0,Le.q)()],it.prototype,"_fetchCoords",null);let Yh=(()=>{class i extends Se{constructor(e,o,s,r){super(s,r),this._elementRef=e,this._renderer=o}setGameSizes(){const e=Math.min(400,be.B.getMinDimension()/2-20);this._renderer.setStyle(this._elementRef.nativeElement,I.L.WIDTH,`${e}${P.PX}`),this._renderer.setStyle(this._elementRef.nativeElement,I.L.HEIGHT,`${1.25*e}${P.PX}`)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.R0b),n.Y36(h.K0))},i.\u0275dir=n.lG2({type:i,selectors:[["","areaBgSizer",""]],standalone:!0,features:[n.qOj]}),i})();var ds,sl;function jh(i,t){if(1&i&&n._UZ(0,"img",10),2&i){const e=t.$implicit,o=t.index,s=n.oxw().$implicit;n.Q6J("src",e.img,n.LSH)("ngStyle",s.coords[o].style)}}function Jh(i,t){if(1&i&&(n.TgZ(0,"div",7),n._UZ(1,"img",8),n.YNc(2,jh,1,2,"img",9),n.qZA()),2&i){const e=t.$implicit;n.xp6(1),n.s9C("id",e.id),n.Q6J("src",e.img,n.LSH),n.xp6(1),n.Q6J("ngForOf",e.items)}}const Kh=function(i,t){return[i,t]};function qh(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"figure",11)(1,"img",12),n.NdJ("elFromPoint",function(s){const l=n.CHM(e).index,d=n.oxw();return n.KtG(d.checkItem(s,l))}),n.qZA()()}if(2&i){const e=t.$implicit,o=n.oxw(),s=n.MAs(2);n.xp6(1),n.Q6J("src",e.img,n.LSH)("dragArea",s)("propsToRestore",n.WLB(3,Kh,o.styleProps.WIDTH,o.styleProps.HEIGHT))}}class zn{constructor(t,e){this._themeItemsService=t,this._sortItemsService=e,ds.add(this),this.gameLoader=null,this.items=null,this.areas=null,this.styleProps=I.L,this.itemsAmount=B.k.getAgesConfig()}ngOnInit(){(0,a.Q_)(this,ds,"m",sl).call(this)}checkItem(t,e){var o=this;return(0,Y.Z)(function*(){const s=o.dragD.toArray()[e];o.items[e].theme.id===t.getAttribute("id")?(o.areas.find(l=>l.id===t.getAttribute("id")).items.push(o.items[e]),s.destroyEl(),yield k.d.playRightSound(),o.areas.every(l=>l.items.length===o.items.length/2)&&R.A.gameCompleted()):(s.backEl(),yield k.d.playErrorSound())})()}}ds=new WeakSet,sl=function(){this.gameLoader=(0,ue.D)({items:this._themeItemsService.getItems(),coords:this._sortItemsService.getCoords()}).pipe((0,V.z)(t=>(this.areas=Object.keys(t.coords).map(e=>({id:e,img:`${L.J.getCustomGameThemeFolder()}${e}.${we.D.SVG}`,items:[],coords:t.coords[e].map(o=>new Ao(o))})),t.items)),ol(t=>t.theme.id),(0,V.z)(t=>t.pipe((0,Q.q)(),(0,N.U)(e=>D.getRandItems(e,this.itemsAmount)))),(0,oe.J)(),(0,Q.q)(),(0,f.b)(t=>this.items=D.shuffle(t)),(0,V.z)(()=>S.preloadThemeItemsImgs([].concat(this.items,this.areas))))},zn.\u0275fac=function(t){return new(t||zn)(n.Y36(S),n.Y36(it))},zn.\u0275cmp=n.Xpm({type:zn,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(Ut,5),2&t){let o;n.iGM(o=n.CRH())&&(e.dragD=o)}},standalone:!0,features:[n._Bn([it,S]),n.jDz],decls:7,vars:4,consts:[[3,"gameLoader"],[1,"container"],["container",""],[1,"text--center"],["class","area","areaBgSizer","",4,"ngFor","ngForOf"],["gridSizer","","itemSize","100","rowsAmount","2",3,"columnsAmount"],["class","figure",4,"ngFor","ngForOf"],["areaBgSizer","",1,"area"],[1,"area__bg",3,"id","src"],["class","area__item",3,"src","ngStyle",4,"ngFor","ngForOf"],[1,"area__item",3,"src","ngStyle"],[1,"figure"],["drag","",1,"figure__img","cursor--pointer",3,"src","dragArea","propsToRestore","elFromPoint"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1,2)(3,"div",3),n.YNc(4,Jh,3,3,"div",4),n.qZA(),n.TgZ(5,"div",5),n.YNc(6,qh,2,6,"figure",6),n.qZA()()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(4),n.Q6J("ngForOf",e.areas),n.xp6(1),n.s9C("columnsAmount",e.itemsAmount),n.xp6(1),n.Q6J("ngForOf",e.items))},dependencies:[j,h.ax,h.PC,Me,Yh,Ut],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:1fr min-content;place-items:center}.area[_ngcontent-%COMP%]{display:inline-block;position:relative}.area__bg[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;left:0}.area__item[_ngcontent-%COMP%]{max-width:18%;position:absolute}"],changeDetection:0});const Xh={path:"sort_items",loadComponent:W,providers:[{provide:$.s,useValue:[ve,J,zn]},{provide:he,useValue:new Map([[0,4],[1,6],[2,8]])}]};function Hn(i){return null!=i&&"false"!=`${i}`}function rl(i,t=0){return function em(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function ye(i){return i instanceof n.SBq?i.nativeElement:i}var al=c(4408),Wt=c(727);const Qn={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:o}=Qn;o&&(t=o.requestAnimationFrame,e=o.cancelAnimationFrame);const s=t(r=>{e=void 0,i(r)});return new Wt.w0(()=>e?.(s))},requestAnimationFrame(...i){const{delegate:t}=Qn;return(t?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=Qn;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};var ll=c(7565);const cl=new class im extends ll.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let s;t=t||o.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=o[0])&&t.id===e&&o.shift());if(this._active=!1,s){for(;(t=o[0])&&t.id===e&&o.shift();)t.unsubscribe();throw s}}}(class nm extends al.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,o=0){return null!==o&&o>0?super.requestAsyncId(t,e,o):(t.actions.push(this),t._scheduled||(t._scheduled=Qn.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,o=0){var s;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(t,e,o);const{actions:r}=t;null!=e&&(null===(s=r[r.length-1])||void 0===s?void 0:s.id)!==e&&(Qn.cancelAnimationFrame(e),t._scheduled=void 0)}});let us,om=1;const Xi={};function dl(i){return i in Xi&&(delete Xi[i],!0)}const sm={setImmediate(i){const t=om++;return Xi[t]=!0,us||(us=Promise.resolve()),us.then(()=>dl(t)&&i()),t},clearImmediate(i){dl(i)}},{setImmediate:rm,clearImmediate:am}=sm,eo={setImmediate(...i){const{delegate:t}=eo;return(t?.setImmediate||rm)(...i)},clearImmediate(i){const{delegate:t}=eo;return(t?.clearImmediate||am)(i)},delegate:void 0};new class cm extends ll.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let s;t=t||o.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=o[0])&&t.id===e&&o.shift());if(this._active=!1,s){for(;(t=o[0])&&t.id===e&&o.shift();)t.unsubscribe();throw s}}}(class lm extends al.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,o=0){return null!==o&&o>0?super.requestAsyncId(t,e,o):(t.actions.push(this),t._scheduled||(t._scheduled=eo.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,o=0){var s;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(t,e,o);const{actions:r}=t;null!=e&&(null===(s=r[r.length-1])||void 0===s?void 0:s.id)!==e&&(eo.clearImmediate(e),t._scheduled=void 0)}});function ul(i,t=ri.z){return function um(i){return(0,lt.e)((t,e)=>{let o=!1,s=null,r=null,l=!1;const d=()=>{if(r?.unsubscribe(),r=null,o){o=!1;const w=s;s=null,e.next(w)}l&&e.complete()},p=()=>{r=null,l&&e.complete()};t.subscribe((0,Qe.x)(e,w=>{o=!0,s=w,r||(0,Tt.Xf)(i(w)).subscribe(r=(0,Qe.x)(e,d,p))},()=>{l=!0,(!o||!r||r.closed)&&e.complete()}))})}(()=>vo(i,t))}let hs;try{hs=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hs=!1}let Un,ms,Pe,hl=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,h.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hs)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(n.LFG(n.Lbi))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Wn(i){return function hm(){if(null==Un&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Un=!0}))}finally{Un=Un||!1}return Un}()?i:!!i.capture}function pl(i){if(function mm(){if(null==ms){const i=typeof document<"u"?document.head:null;ms=!(!i||!i.createShadowRoot&&!i.attachShadow)}return ms}()){const t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Zn(i){return i.composedPath?i.composedPath()[0]:i.target}Pe=typeof global<"u"?global:typeof window<"u"?window:{};let _m=(()=>{class i{constructor(e,o,s){this._ngZone=e,this._platform=o,this._scrolled=new O.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const o=this.scrollContainers.get(e);o&&(o.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new St.y(o=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(ul(e)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,re.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(e,o){const s=this.getAncestorScrollContainers(e);return this.scrolled(o).pipe((0,M.h)(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const o=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&o.push(r)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,o){let s=ye(o),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const e=this._getWindow();return(0,Ki.R)(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(n.LFG(n.R0b),n.LFG(hl),n.LFG(h.K0,8))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),gm=(()=>{class i{constructor(e,o,s){this._platform=e,this._change=new O.x,this._changeListener=r=>{this._change.next(r)},this._document=s,o.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:o,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+o,height:s,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,o=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||o.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||o.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(ul(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(n.LFG(hl),n.LFG(n.R0b),n.LFG(h.K0,8))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Cm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({}),i})();var Cl=c(6451),ps=c(8675);const Rm=new n.OlP("cdk-dir-doc",{providedIn:"root",factory:function km(){return(0,n.f3M)(h.K0)}});let vl=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new n.vpe,e){const s=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||s;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(n.LFG(Rm,8))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function _s(i,t,e){for(let o in t)if(t.hasOwnProperty(o)){const s=t[o];s?i.setProperty(o,s,e?.has(o)?"important":""):i.removeProperty(o)}return i}function $t(i,t){const e=t?"":"none";_s(i.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function yl(i,t,e){_s(i.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function no(i,t){return t&&"none"!=t?i+" "+t:i}function bl(i){const t=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*t}function fs(i,t){return i.getPropertyValue(t).split(",").map(o=>o.trim())}function gs(i){const t=i.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function Cs(i,t,e){const{top:o,bottom:s,left:r,right:l}=i;return e>=o&&e<=s&&t>=r&&t<=l}function $n(i,t,e){i.top+=t,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function wl(i,t,e,o){const{top:s,right:r,bottom:l,left:d,width:p,height:w}=i,E=p*t,U=w*t;return o>s-U&&o<l+U&&e>d-E&&e<r+E}class Tl{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:gs(e)})})}handleScroll(t){const e=Zn(t),o=this.positions.get(e);if(!o)return null;const s=o.scrollPosition;let r,l;if(e===this._document){const w=this._viewportRuler.getViewportScrollPosition();r=w.top,l=w.left}else r=e.scrollTop,l=e.scrollLeft;const d=s.top-r,p=s.left-l;return this.positions.forEach((w,E)=>{w.clientRect&&e!==E&&e.contains(E)&&$n(w.clientRect,d,p)}),s.top=r,s.left=l,{top:d,left:p}}}function Sl(i){const t=i.cloneNode(!0),e=t.querySelectorAll("[id]"),o=i.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===o?xl(i,t):("input"===o||"select"===o||"textarea"===o)&&Dl(i,t),Il("canvas",i,t,xl),Il("input, textarea, select",i,t,Dl),t}function Il(i,t,e,o){const s=t.querySelectorAll(i);if(s.length){const r=e.querySelectorAll(i);for(let l=0;l<s.length;l++)o(s[l],r[l])}}let Nm=0;function Dl(i,t){"file"!==t.type&&(t.value=i.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${Nm++}`)}function xl(i,t){const e=t.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch{}}const El=Wn({passive:!0}),Al=Wn({passive:!1}),vs=new Set(["position"]);class Bm{constructor(t,e,o,s,r,l){this._config=e,this._document=o,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=l,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new O.x,this._pointerMoveSubscription=Wt.w0.EMPTY,this._pointerUpSubscription=Wt.w0.EMPTY,this._scrollSubscription=Wt.w0.EMPTY,this._resizeSubscription=Wt.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new O.x,this.started=new O.x,this.released=new O.x,this.ended=new O.x,this.entered=new O.x,this.exited=new O.x,this.dropped=new O.x,this.moved=this._moveEvents,this._pointerDown=d=>{if(this.beforeStarted.next(),this._handles.length){const p=this._handles.find(w=>{const E=Zn(d);return!!E&&(E===w||w.contains(E))});p&&!this._disabledHandles.has(p)&&!this.disabled&&this._initializeDragSequence(p,d)}else this.disabled||this._initializeDragSequence(this._rootElement,d)},this._pointerMove=d=>{const p=this._getPointerPositionOnPage(d);if(!this._hasStartedDragging){if(Math.abs(p.x-this._pickupPositionOnPage.x)+Math.abs(p.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Ge=Date.now()>=this._dragStartTime+this._getDragStartDelay(d),ie=this._dropContainer;if(!Ge)return void this._endDragSequence(d);(!ie||!ie.isDragging()&&!ie.isReceiving())&&(d.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(d)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),d.preventDefault();const w=this._getConstrainedPointerPosition(p);if(this._hasMoved=!0,this._lastKnownPointerPosition=p,this._updatePointerDirectionDelta(w),this._dropContainer)this._updateActiveDropContainer(w,p);else{const E=this._activeTransform;E.x=w.x-this._pickupPositionOnPage.x+this._passiveTransform.x,E.y=w.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(E.x,E.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:w,event:d,distance:this._getDragDistance(w),delta:this._pointerDirectionDelta})})},this._pointerUp=d=>{this._endDragSequence(d)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new Tl(o,r),l.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Hn(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(o=>$t(o,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(o=>ye(o)),this._handles.forEach(o=>$t(o,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(o=>{this._handles.indexOf(o)>-1&&e.add(o)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=ye(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Al),e.addEventListener("touchstart",this._pointerDown,El)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?ye(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),$t(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),$t(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Yn(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const o=this._rootElement,s=o.parentNode,r=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment(""),d=this._getShadowRoot();s.insertBefore(l,o),this._initialTransform=o.style.transform||"",this._preview=this._createPreviewElement(),yl(o,!1,vs),this._document.body.appendChild(s.replaceChild(r,o)),this._getPreviewInsertionPoint(s,d).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const o=this.isDragging(),s=Yn(e),r=!s&&0!==e.button,l=this._rootElement,d=Zn(e),p=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),w=s?function Fm(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function Mm(i){return 0===i.offsetX&&0===i.offsetY}(e);if(d&&d.draggable&&"mousedown"===e.type&&e.preventDefault(),o||r||p||w)return;if(this._handles.length){const ne=l.style;this._rootElementTapHighlight=ne.webkitTapHighlightColor||"",ne.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ne=>this._updateOnScroll(ne)),this._boundaryElement&&(this._boundaryRect=gs(this._boundaryElement));const E=this._previewTemplate;this._pickupPositionInElement=E&&E.template&&!E.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const U=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:U.x,y:U.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){yl(this._rootElement,!0,vs),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,o=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),l=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:o,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:l,distance:r,dropPoint:s}),e.drop(this,o,this._initialIndex,this._initialContainer,l,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:o,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(o,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,o=t?t.template:null;let s;if(o&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,l=t.viewContainer.createEmbeddedView(o,t.context);l.detectChanges(),s=Ml(l,this._document),this._previewRef=l,t.matchSize?Fl(s,r):s.style.transform=io(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=Sl(r),Fl(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return _s(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},vs),$t(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function Lm(i){const t=getComputedStyle(i),e=fs(t,"transition-property"),o=e.find(d=>"transform"===d||"all"===d);if(!o)return 0;const s=e.indexOf(o),r=fs(t,"transition-duration"),l=fs(t,"transition-delay");return bl(r[s])+bl(l[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(o=>{const s=l=>{(!l||Zn(l)===this._preview&&"transform"===l.propertyName)&&(this._preview?.removeEventListener("transitionend",s),o(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let o;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),o=Ml(this._placeholderRef,this._document)):o=Sl(this._rootElement),o.classList.add("cdk-drag-placeholder"),o}_getPointerPositionInElement(t,e){const o=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():o,l=Yn(e)?e.targetTouches[0]:e,d=this._getViewportScrollPosition();return{x:r.left-o.left+(l.pageX-r.left-d.left),y:r.top-o.top+(l.pageY-r.top-d.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),o=Yn(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=o.pageX-e.left,r=o.pageY-e.top;if(this._ownerSVGElement){const l=this._ownerSVGElement.getScreenCTM();if(l){const d=this._ownerSVGElement.createSVGPoint();return d.x=s,d.y=r,d.matrixTransform(l.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:o,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(o=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:l}=this._pickupPositionInElement,d=this._boundaryRect,p=this._previewRect,w=d.top+l,E=d.bottom-(p.height-l);o=Ol(o,d.left+r,d.right-(p.width-r)),s=Ol(s,w,E)}return{x:o,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:o}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,l=Math.abs(e-r.x),d=Math.abs(o-r.y);return l>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),d>this._config.pointerDirectionChangeThreshold&&(s.y=o>r.y?1:-1,r.y=o),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,$t(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Al),t.removeEventListener("touchstart",this._pointerDown,El)}_applyRootElementTransform(t,e){const o=io(t,e),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=no(o,this._initialTransform)}_applyPreviewTransform(t,e){const o=this._previewTemplate?.template?void 0:this._initialTransform,s=io(t,e);this._preview.style.transform=no(s,o)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const o=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===s.width&&0===s.height)return;const r=o.left-s.left,l=s.right-o.right,d=o.top-s.top,p=s.bottom-o.bottom;o.width>s.width?(r>0&&(t+=r),l>0&&(t-=l)):t=0,o.height>s.height?(d>0&&(e+=d),p>0&&(e-=p)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Yn(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const o=Zn(t);this._boundaryRect&&o!==this._boundaryElement&&o.contains(this._boundaryElement)&&$n(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=pl(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const o=this._previewContainer||"global";if("parent"===o)return t;if("global"===o){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return ye(o)}}function io(i,t){return`translate3d(${Math.round(i)}px, ${Math.round(t)}px, 0)`}function Ol(i,t,e){return Math.max(t,Math.min(e,i))}function Yn(i){return"t"===i.type[0]}function Ml(i,t){const e=i.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const o=t.createElement("div");return e.forEach(s=>o.appendChild(s)),o}function Fl(i,t){i.style.width=`${t.width}px`,i.style.height=`${t.height}px`,i.style.transform=io(t.left,t.top)}function Pl(i,t,e){const o=jn(t,i.length-1),s=jn(e,i.length-1);if(o===s)return;const r=i[o],l=s<o?-1:1;for(let d=o;d!==s;d+=l)i[d]=i[d+l];i[s]=r}function jn(i,t){return Math.max(0,Math.min(t,i))}class Gm{constructor(t,e,o,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new O.x,this.entered=new O.x,this.exited=new O.x,this.dropped=new O.x,this.sorted=new O.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Wt.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new O.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),or(0,cl).pipe((0,te.R)(this._stopScrollTimers)).subscribe(()=>{const l=this._scrollNode,d=this.autoScrollStep;1===this._verticalScrollDirection?l.scrollBy(0,-d):2===this._verticalScrollDirection&&l.scrollBy(0,d),1===this._horizontalScrollDirection?l.scrollBy(-d,0):2===this._horizontalScrollDirection&&l.scrollBy(d,0)})},this.element=ye(t),this._document=o,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Tl(o,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,o,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,o))):r=s;const l=this._activeDraggables,d=l.indexOf(t),p=t.getPlaceholderElement();let w=l[r];if(w===t&&(w=l[r+1]),d>-1&&l.splice(d,1),w&&!this._dragDropRegistry.isDragging(w)){const E=w.getRootElement();E.parentElement.insertBefore(p,E),l.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,o)){const E=l[0].getRootElement();E.parentNode.insertBefore(p,E),l.unshift(t)}else ye(this.element).appendChild(p),l.push(t);p.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,o,s,r,l,d){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:o,container:this,previousContainer:s,isPointerOverContainer:r,distance:l,dropPoint:d})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(o=>o._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=ye(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(o=>o.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,o,s){if(this.sortingDisabled||!this._clientRect||!wl(this._clientRect,.05,e,o))return;const r=this._itemPositions,l=this._getItemIndexFromPointerPosition(t,e,o,s);if(-1===l&&r.length>0)return;const d="horizontal"===this._orientation,p=r.findIndex(X=>X.drag===t),w=r[l],U=w.clientRect,ne=p>l?1:-1,Ge=this._getItemOffsetPx(r[p].clientRect,U,ne),ie=this._getSiblingOffsetPx(p,r,ne),ae=r.slice();Pl(r,p,l),this.sorted.next({previousIndex:p,currentIndex:l,container:this,item:t}),r.forEach((X,qt)=>{if(ae[qt]===X)return;const ze=X.drag===t,As=ze?Ge:ie,cc=ze?t.getPlaceholderElement():X.drag.getRootElement();X.offset+=As,d?(cc.style.transform=no(`translate3d(${Math.round(X.offset)}px, 0, 0)`,X.initialTransform),$n(X.clientRect,0,As)):(cc.style.transform=no(`translate3d(0, ${Math.round(X.offset)}px, 0)`,X.initialTransform),$n(X.clientRect,As,0))}),this._previousSwap.overlaps=Cs(U,e,o),this._previousSwap.drag=w.drag,this._previousSwap.delta=d?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let o,s=0,r=0;if(this._parentPositions.positions.forEach((l,d)=>{d===this._document||!l.clientRect||o||wl(l.clientRect,.05,t,e)&&([s,r]=function zm(i,t,e,o){const s=Ll(t,o),r=Nl(t,e);let l=0,d=0;if(s){const p=i.scrollTop;1===s?p>0&&(l=1):i.scrollHeight-p>i.clientHeight&&(l=2)}if(r){const p=i.scrollLeft;1===r?p>0&&(d=1):i.scrollWidth-p>i.clientWidth&&(d=2)}return[l,d]}(d,l.clientRect,t,e),(s||r)&&(o=d))}),!s&&!r){const{width:l,height:d}=this._viewportRuler.getViewportSize(),p={width:l,height:d,top:0,right:l,bottom:d,left:0};s=Ll(p,e),r=Nl(p,t),o=window}o&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||o!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=o,(s||r)&&o?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=ye(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=ye(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const o=e.getVisibleElement();return{drag:e,offset:0,initialTransform:o.style.transform||"",clientRect:gs(o)}}).sort((e,o)=>t?e.clientRect.left-o.clientRect.left:e.clientRect.top-o.clientRect.top)}_reset(){this._isDragging=!1;const t=ye(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{const o=e.getRootElement();if(o){const s=this._itemPositions.find(r=>r.drag===e)?.initialTransform;o.style.transform=s||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,o){const s="horizontal"===this._orientation,r=e[t].clientRect,l=e[t+-1*o];let d=r[s?"width":"height"]*o;if(l){const p=s?"left":"top",w=s?"right":"bottom";-1===o?d-=l.clientRect[p]-r[w]:d+=r[p]-l.clientRect[w]}return d}_getItemOffsetPx(t,e,o){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===o&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const o=this._itemPositions,s="horizontal"===this._orientation;if(o[0].drag!==this._activeDraggables[0]){const l=o[o.length-1].clientRect;return s?t>=l.right:e>=l.bottom}{const l=o[0].clientRect;return s?t<=l.left:e<=l.top}}_getItemIndexFromPointerPosition(t,e,o,s){const r="horizontal"===this._orientation,l=this._itemPositions.findIndex(({drag:d,clientRect:p})=>{if(d===t)return!1;if(s){const w=r?s.x:s.y;if(d===this._previousSwap.drag&&this._previousSwap.overlaps&&w===this._previousSwap.delta)return!1}return r?e>=Math.floor(p.left)&&e<Math.floor(p.right):o>=Math.floor(p.top)&&o<Math.floor(p.bottom)});return-1!==l&&this.sortPredicate(l,t,this)?l:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&Cs(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,o){return this._siblings.find(s=>s._canReceive(t,e,o))}_canReceive(t,e,o){if(!this._clientRect||!Cs(this._clientRect,e,o)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,o);if(!s)return!1;const r=ye(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const o=this._activeSiblings;!o.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(o.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:o})=>{$n(o,e.top,e.left)}),this._itemPositions.forEach(({drag:o})=>{this._dragDropRegistry.isDragging(o)&&o._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=pl(ye(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function Ll(i,t){const{top:e,bottom:o,height:s}=i,r=.05*s;return t>=e-r&&t<=e+r?1:t>=o-r&&t<=o+r?2:0}function Nl(i,t){const{left:e,right:o,width:s}=i,r=.05*s;return t>=e-r&&t<=e+r?1:t>=o-r&&t<=o+r?2:0}const oo=Wn({passive:!1,capture:!0});let Hm=(()=>{class i{constructor(e,o){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new O.x,this.pointerUp=new O.x,this.scroll=new O.x,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=o}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,oo)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,oo)}startDragging(e,o){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=o.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:oo}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:oo}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,l)=>{this._document.addEventListener(l,r.handler,r.options)})})}}stopDragging(e){const o=this._activeDragInstances.indexOf(e);o>-1&&(this._activeDragInstances.splice(o,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const o=[this.scroll];return e&&e!==this._document&&o.push(new St.y(s=>this._ngZone.runOutsideAngular(()=>{const l=d=>{this._activeDragInstances.length&&s.next(d)};return e.addEventListener("scroll",l,!0),()=>{e.removeEventListener("scroll",l,!0)}}))),(0,Cl.T)(...o)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,o)=>{this._document.removeEventListener(o,e.handler,e.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(e){return new(e||i)(n.LFG(n.R0b),n.LFG(h.K0))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Qm={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ys=(()=>{class i{constructor(e,o,s,r){this._document=e,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,o=Qm){return new Bm(e,o,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Gm(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(e){return new(e||i)(n.LFG(h.K0),n.LFG(n.R0b),n.LFG(gm),n.LFG(Hm))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Vl=new n.OlP("CDK_DRAG_PARENT"),Bl=new n.OlP("CdkDropListGroup"),Gl=new n.OlP("CDK_DRAG_CONFIG");let Um=0;const zl=new n.OlP("CdkDropList");let Wm=(()=>{class i{constructor(e,o,s,r,l,d,p){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=l,this._group=d,this._destroyed=new O.x,this.connectedTo=[],this.id="cdk-drop-list-"+Um++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new n.vpe,this.entered=new n.vpe,this.exited=new n.vpe,this.sorted=new n.vpe,this._unsortedItems=new Set,this._dropListRef=o.createDropList(e),this._dropListRef.data=this,p&&this._assignDefaults(p),this._dropListRef.enterPredicate=(w,E)=>this.enterPredicate(w.data,E.data),this._dropListRef.sortPredicate=(w,E,U)=>this.sortPredicate(w,E.data,U.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),d&&d._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=Hn(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,o)=>e._dragRef.getVisibleElement().compareDocumentPosition(o._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=i._dropLists.indexOf(this);e>-1&&i._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe((0,ps.O)(this._dir.value),(0,te.R)(this._destroyed)).subscribe(o=>e.withDirection(o)),e.beforeStarted.subscribe(()=>{const o=function tm(i){return Array.isArray(i)?i:[i]}(this.connectedTo).map(s=>"string"==typeof s?i._dropLists.find(l=>l.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===o.indexOf(s)&&o.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Hn(this.sortingDisabled),e.autoScrollDisabled=Hn(this.autoScrollDisabled),e.autoScrollStep=rl(this.autoScrollStep,2),e.connectedTo(o.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(o=>{this.entered.emit({container:this,item:o.item.data,currentIndex:o.currentIndex})}),e.exited.subscribe(o=>{this.exited.emit({container:this,item:o.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(o=>{this.sorted.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:o.item.data})}),e.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,item:o.item.data,isPointerOverContainer:o.isPointerOverContainer,distance:o.distance,dropPoint:o.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:o,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:l,listOrientation:d}=e;this.disabled=s??!1,this.sortingDisabled=r??!1,this.autoScrollDisabled=l??!1,this.orientation=d||"vertical",o&&(this.lockAxis=o)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return i._dropLists=[],i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(ys),n.Y36(n.sBO),n.Y36(_m),n.Y36(vl,8),n.Y36(Bl,12),n.Y36(Gl,8))},i.\u0275dir=n.lG2({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,o){2&e&&(n.uIk("id",o.id),n.ekj("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[n._Bn([{provide:Bl,useValue:void 0},{provide:zl,useExisting:i}])]}),i})();const Hl=new n.OlP("CdkDragHandle"),Zm=new n.OlP("CdkDragPlaceholder"),$m=new n.OlP("CdkDragPreview");let jm=(()=>{class i{constructor(e,o,s,r,l,d,p,w,E,U,ne){this.element=e,this.dropContainer=o,this._ngZone=r,this._viewContainerRef=l,this._dir=p,this._changeDetectorRef=E,this._selfHandle=U,this._parentDrag=ne,this._destroyed=new O.x,this.started=new n.vpe,this.released=new n.vpe,this.ended=new n.vpe,this.entered=new n.vpe,this.exited=new n.vpe,this.dropped=new n.vpe,this.moved=new St.y(Ge=>{const ie=this._dragRef.moved.pipe((0,N.U)(ae=>({source:this,pointerPosition:ae.pointerPosition,event:ae.event,delta:ae.delta,distance:ae.distance}))).subscribe(Ge);return()=>{ie.unsubscribe()}}),this._dragRef=w.createDrag(e,{dragStartThreshold:d&&null!=d.dragStartThreshold?d.dragStartThreshold:5,pointerDirectionChangeThreshold:d&&null!=d.pointerDirectionChangeThreshold?d.pointerDirectionChangeThreshold:5,zIndex:d?.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),d&&this._assignDefaults(d),o&&(this._dragRef._withDropContainer(o._dropListRef),o.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=Hn(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Te.q)(1),(0,te.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const o=e.rootElementSelector,s=e.freeDragPosition;o&&!o.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=i._dragInstances.indexOf(this);e>-1&&i._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let o=e;this.rootElementSelector&&(o=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(o||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):ye(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const o=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,l=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:rl(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(l).withPreviewContainer(this.previewContainer||"global"),o&&e.withDirection(o.value)}}),e.beforeStarted.pipe((0,Te.q)(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let o=this.element.nativeElement.parentElement;for(;o;){if(o.classList.contains("cdk-drag")){e.withParent(i._dragInstances.find(s=>s.element.nativeElement===o)?._dragRef||null);break}o=o.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(o=>{this.ended.emit({source:this,distance:o.distance,dropPoint:o.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(o=>{this.entered.emit({container:o.container.data,item:this,currentIndex:o.currentIndex})}),e.exited.subscribe(o=>{this.exited.emit({container:o.container.data,item:this})}),e.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,isPointerOverContainer:o.isPointerOverContainer,item:this,distance:o.distance,dropPoint:o.dropPoint})})}_assignDefaults(e){const{lockAxis:o,dragStartDelay:s,constrainPosition:r,previewClass:l,boundaryElement:d,draggingDisabled:p,rootElementSelector:w,previewContainer:E}=e;this.disabled=p??!1,this.dragStartDelay=s||0,o&&(this.lockAxis=o),r&&(this.constrainPosition=r),l&&(this.previewClass=l),d&&(this.boundaryElement=d),w&&(this.rootElementSelector=w),E&&(this.previewContainer=E)}_setupHandlesListener(){this._handles.changes.pipe((0,ps.O)(this._handles),(0,f.b)(e=>{const o=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&o.push(this.element),this._dragRef.withHandles(o)}),(0,K.w)(e=>(0,Cl.T)(...e.map(o=>o._stateChanges.pipe((0,ps.O)(o))))),(0,te.R)(this._destroyed)).subscribe(e=>{const o=this._dragRef,s=e.element.nativeElement;e.disabled?o.disableHandle(s):o.enableHandle(s)})}}return i._dragInstances=[],i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(zl,12),n.Y36(h.K0),n.Y36(n.R0b),n.Y36(n.s_b),n.Y36(Gl,8),n.Y36(vl,8),n.Y36(ys),n.Y36(n.sBO),n.Y36(Hl,10),n.Y36(Vl,12))},i.\u0275dir=n.lG2({type:i,selectors:[["","cdkDrag",""]],contentQueries:function(e,o,s){if(1&e&&(n.Suo(s,$m,5),n.Suo(s,Zm,5),n.Suo(s,Hl,5)),2&e){let r;n.iGM(r=n.CRH())&&(o._previewTemplate=r.first),n.iGM(r=n.CRH())&&(o._placeholderTemplate=r.first),n.iGM(r=n.CRH())&&(o._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,o){2&e&&n.ekj("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[n._Bn([{provide:Vl,useExisting:i}]),n.TTD]}),i})(),Jm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({providers:[ys],imports:[Cm]}),i})();var Yt,so,Ul,Wl,bs;function qm(i,t){if(1&i&&(n.O4$(),n.TgZ(0,"svg",6),n._UZ(1,"path",7),n.qZA()),2&i){const e=n.oxw(2);n.xp6(1),n.uIk("fill",e.colors.GREEN)}}function Xm(i,t){if(1&i&&(n.ynx(0),n.TgZ(1,"figure",3),n._UZ(2,"img",4),n.qZA(),n.YNc(3,qm,2,1,"svg",5),n.BQk()),2&i){const e=t.$implicit,o=t.last,s=n.oxw();n.xp6(1),n.Q6J("cdkDragDisabled",s.isFinished)("cdkDragLockAxis","x"),n.xp6(1),n.Q6J("src",e.img,n.LSH),n.xp6(1),n.Q6J("ngIf",!o)}}class Jn{constructor(t){this._themeItemsService=t,Yt.add(this),this.gameLoader=null,this.items=null,this.isFinished=!1,this.colors=m.r,this.onDrop$=new O.x,so.set(this,null)}ngOnInit(){(0,a.Q_)(this,Yt,"m",Ul).call(this)}ngOnDestroy(){(0,a.Q_)(this,so,"f")?.unsubscribe()}}so=new WeakMap,Yt=new WeakSet,Ul=function(){this.gameLoader=this._themeItemsService.getItems().pipe((0,f.b)(t=>{(0,a.Q_)(this,Yt,"m",Wl).call(this,t),this.items=D.shuffle(t)}),(0,V.z)(()=>S.preloadThemeItemsImgs(this.items)))},Wl=function(t){(0,a.YH)(this,so,this.onDrop$.pipe((0,f.b)(e=>Pl(this.items,e.previousIndex,e.currentIndex)),(0,K.w)(()=>(0,a.Q_)(this,Yt,"m",bs).call(this,this.items).pipe(function Km(i,t=((e,o)=>e===o)){return(0,lt.e)((e,o)=>{const s={buffer:[],complete:!1},r={buffer:[],complete:!1},l=p=>{o.next(p),o.complete()},d=(p,w)=>{const E=(0,Qe.x)(o,U=>{const{buffer:ne,complete:Ge}=w;0===ne.length?Ge?l(!1):p.buffer.push(U):!t(U,ne.shift())&&l(!1)},()=>{p.complete=!0;const{complete:U,buffer:ne}=w;U&&l(0===ne.length),E?.unsubscribe()});return E};e.subscribe(d(s,r)),(0,Tt.Xf)(i).subscribe(d(r,s))})}((0,a.Q_)(this,Yt,"m",bs).call(this,t)))),(0,M.h)(Boolean),(0,f.b)(()=>this.isFinished=!0),Ve(300),(0,f.b)(()=>R.A.gameCompleted())).subscribe(),"f")},bs=function(t){return(0,Ye.D)(t).pipe(_t("id"))},Jn.\u0275fac=function(t){return new(t||Jn)(n.Y36(S))},Jn.\u0275cmp=n.Xpm({type:Jn,selectors:[["ng-component"]],standalone:!0,features:[n._Bn([S]),n.jDz],decls:3,vars:2,consts:[[3,"gameLoader"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"list",3,"cdkDropListDropped"],[4,"ngFor","ngForOf"],["cdkDrag","",1,"img-container",3,"cdkDragDisabled","cdkDragLockAxis"],["alt","",1,"img",3,"src"],["aria-hidden","true","focusable","false","width","50px","height","50px","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",4,"ngIf"],["aria-hidden","true","focusable","false","width","50px","height","50px","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["d","M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1),n.NdJ("cdkDropListDropped",function(s){return e.onDrop$.next(s)}),n.YNc(2,Xm,4,4,"ng-container",2),n.qZA()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(2),n.Q6J("ngForOf",e.items))},dependencies:[j,h.O5,h.ax,Jm,Wm,jm],styles:[".list[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:400px;margin:auto}.img-container[_ngcontent-%COMP%]{display:flex;width:25%;padding:1rem;cursor:pointer}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.1}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"],changeDetection:0});const ep={path:"what_before",loadComponent:W,providers:[{provide:$.s,useValue:[J,Jn]}]};class tp{constructor(t,e){this.themeItem=t,this.style=null;const o=new Ao(e.coords);this.style={...e.style,...o.style}}}class ot{constructor(t,e){this._http=t,this._addStepsService=e}getItemsProps(){const t=`${L.J.getCustomGameThemeFolder()}${L.J.getChosenSetSegment(this._addStepsService.chosenSetIndex)}/items-props.${we.D.JSON}`;return this._fetchProps(t)}_fetchProps(t){return this._http.get(t)}}var jt,ro,Zl,$l,ws;function np(i,t){if(1&i&&n._UZ(0,"img",6),2&i){const e=t.$implicit;n.Q6J("src",e.themeItem.img,n.LSH)("ngStyle",e.style)}}function ip(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"theme-items-bar",7),n.NdJ("itemClick",function(s){n.CHM(e);const r=n.oxw();return n.KtG(r.item$.next(s))}),n.ALo(1,"async"),n.qZA()}if(2&i){const e=n.oxw();n.Q6J("items",e.itemsToChoose)("header",n.lcZ(1,2,e.itemsHeader$))}}ot.\u0275fac=function(t){return new(t||ot)(n.LFG(Re.eN),n.LFG(Ce))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),(0,a.gn)([(0,Le.q)()],ot.prototype,"_fetchProps",null);class Kn{constructor(t,e,o,s){this._themeItemsService=t,this._whatIsForgotService=e,this._translationService=o,this._cdRef=s,jt.add(this),this.gameLoader=null,this.bg=null,this.items=null,this.itemsToChoose=null,this.props=null,this.item$=new O.x,this.itemsHeader$=this._translationService.loadTranslation("chapters/games/intellect").pipe((0,N.U)(r=>r.what_is_forgot)),ro.set(this,null)}ngOnInit(){(0,a.Q_)(this,jt,"m",Zl).call(this)}ngOnDestroy(){(0,a.Q_)(this,ro,"f")?.unsubscribe()}}ro=new WeakMap,jt=new WeakSet,Zl=function(){this.gameLoader=(0,ue.D)({items:this._themeItemsService.getItems(),props:this._whatIsForgotService.getItemsProps()}).pipe((0,N.U)(t=>{this.bg=t.items.find(s=>"bg"===s.id),this.itemsToChoose=t.items.filter(s=>"bg"!==s.id),this.props=t.props;const o=D.getRndInteger(0,this.itemsToChoose.length-1);return this.items=this.itemsToChoose.reduce((s,r,l)=>(l!==o&&s.push((0,a.Q_)(this,jt,"m",ws).call(this,r)),s),[]),t.items}),(0,V.z)(t=>S.preloadThemeItemsImgs(t)),(0,f.b)(()=>(0,a.Q_)(this,jt,"m",$l).call(this)))},$l=function(){var t=this;(0,a.YH)(this,ro,this.item$.pipe((0,M.h)(()=>this.items.length!==this.itemsToChoose.length),(0,K.w)(function(){var e=(0,Y.Z)(function*(o){t.items.some(s=>s.themeItem.id===o.id)?yield k.d.playErrorSound():(t.items.push((0,a.Q_)(t,jt,"m",ws).call(t,o)),t._cdRef.markForCheck(),yield k.d.playWinSound())});return function(o){return e.apply(this,arguments)}}())).subscribe(),"f")},ws=function(t){const e=this.props.find(o=>o.id===t.id);return new tp(t,e)},Kn.\u0275fac=function(t){return new(t||Kn)(n.Y36(S),n.Y36(ot),n.Y36(g.f),n.Y36(n.sBO))},Kn.\u0275cmp=n.Xpm({type:Kn,selectors:[["ng-component"]],standalone:!0,features:[n._Bn([ot,S]),n.jDz],decls:6,vars:4,consts:[[3,"gameLoader"],[1,"container"],[1,"items"],[1,"d--block","w--100",3,"src"],["class","d--block p--absolute",3,"src","ngStyle",4,"ngFor","ngForOf"],[3,"items","header","itemClick",4,"ngIf"],[1,"d--block","p--absolute",3,"src","ngStyle"],[3,"items","header","itemClick"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"figure",2),n._UZ(3,"img",3),n.YNc(4,np,1,2,"img",4),n.qZA(),n.YNc(5,ip,2,4,"theme-items-bar",5),n.qZA()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(3),n.Q6J("src",null==e.bg?null:e.bg.img,n.LSH),n.xp6(1),n.Q6J("ngForOf",e.items),n.xp6(1),n.Q6J("ngIf",e.itemsToChoose))},dependencies:[j,h.ax,h.O5,pt,h.PC,h.Ov],styles:[".pulsate-fwd[_ngcontent-%COMP%]{animation:pulsate-fwd .5s ease-in-out infinite both}@keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content;height:100%}.items[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto;position:relative}"],changeDetection:0});const op={path:"what_is_forgot",loadComponent:W,providers:[{provide:Ce,useClass:Fe},{provide:$.s,useValue:[J,Ft,Kn]}]};class sp{constructor(t,e=null){this.item=t,this.isCorrect=e}}var Ts,ao,jl,Xn,Ss,Jl,Kl,ql;function rp(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"figure",2),n.NdJ("click",function(){const r=n.CHM(e).$implicit,l=n.oxw();return n.KtG(l.item$.next(r))}),n._UZ(1,"img",3),n.qZA()}if(2&i){const e=t.$implicit;n.xp6(1),n.Q6J("isCorrect",e.isCorrect)("src",e.item.img,n.LSH)}}class qn extends Ne{constructor(){super(),Ts.add(this),this.data=null,this.columnsAmount=(B.k.getAgesConfig()+1)/2,this.item$=new O.x,ao.set(this,null)}ngOnInit(){this.onDataLoad(this.data),(0,a.Q_)(this,Ts,"m",jl).call(this)}ngOnDestroy(){(0,a.Q_)(this,ao,"f")?.unsubscribe()}}function ap(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"carousel",5),n.NdJ("emitDataFromItem",function(s){n.CHM(e);const r=n.oxw();return n.KtG(r.answer$.next(s))}),n.qZA()}if(2&i){const e=n.oxw();n.Q6J("slides",e.variants)("height","100%")("blockManualSwiping",!0)("itemComponent",e.questionComponent)}}ao=new WeakMap,Ts=new WeakSet,jl=function(){(0,a.YH)(this,ao,this.item$.pipe((0,Te.q)(1),(0,f.b)(t=>{t.isCorrect=1===this.data.filter(e=>e.item.theme.id===t.item.theme.id)?.length,t.isCorrect||(this.data.find(o=>o.item.theme.id!==t.item.theme.id).isCorrect=!0),this.emitData(t.isCorrect)})).subscribe(),"f")},qn.\u0275fac=function(t){return new(t||qn)},qn.\u0275cmp=n.Xpm({type:qn,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!0,features:[n.qOj,n.jDz],decls:2,vars:2,consts:[["gridSizer","","rowsAmount","2",1,"container",3,"columnsAmount"],["class","figure curve-border border-width--1 border--dotted border--green radial-gradient--soft-grey cursor--pointer",3,"click",4,"ngFor","ngForOf"],[1,"figure","curve-border","border-width--1","border--dotted","border--green","radial-gradient--soft-grey","cursor--pointer",3,"click"],[1,"figure__img",3,"isCorrect","src"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.YNc(1,rp,2,2,"figure",1),n.qZA()),2&t&&(n.s9C("columnsAmount",e.columnsAmount),n.xp6(1),n.Q6J("ngForOf",e.data))},dependencies:[h.ax,Me,fi],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.pulsate-fwd[_ngcontent-%COMP%]{animation:pulsate-fwd .5s ease-in-out infinite both}@keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.shake-horizontal[_ngcontent-%COMP%]{animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}"],changeDetection:0});class ei{constructor(t,e){this._cdRef=t,this._themesItemsService=e,Xn.add(this),this.gameLoader=null,this.variants=null,this.answers=[],this.questionComponent=qn,this.answer$=new O.x,Ss.set(this,null)}ngOnInit(){(0,a.Q_)(this,Xn,"m",Jl).call(this)}ngOnDestroy(){(0,a.Q_)(this,Ss,"f")?.unsubscribe()}}Ss=new WeakMap,Xn=new WeakSet,Jl=function(){this.gameLoader=this._themesItemsService.getItems().pipe((0,oe.J)(),ol(t=>t.theme.id),(0,V.z)(t=>t.pipe((0,Q.q)())),(0,Q.q)(),(0,K.w)(t=>Ga(1,5).pipe((0,N.U)(()=>(0,a.Q_)(this,Xn,"m",ql).call(this,t)),(0,Q.q)(),(0,f.b)(e=>this.variants=e),(0,oe.J)())),(0,oe.J)(),_t("item","img"),(0,Q.q)(),(0,f.b)(()=>(0,a.Q_)(this,Xn,"m",Kl).call(this)),(0,V.z)(t=>at.O.getImages(t)))},Kl=function(){var t=this;this.answer$.pipe((0,K.w)(function(){var e=(0,Y.Z)(function*(o){return yield o?k.d.playRightSound():k.d.playErrorSound(),t.answers.push(o),t.questionsCarousel.slideToRight(),t._cdRef.detectChanges(),o});return function(o){return e.apply(this,arguments)}}()),Oe(5),(0,f.b)(e=>e.some(o=>!o)?R.A.gameFailed():R.A.gameCompleted())).subscribe()},ql=function(t){const e=Math.random()<.5?[...t].reverse():t,o=D.getRandItems(e[0],B.k.getAgesConfig());return o.push(D.getRndArrElem(e[1])),D.shuffle(o.map(s=>new sp(s)))},ei.\u0275fac=function(t){return new(t||ei)(n.Y36(n.sBO),n.Y36(S))},ei.\u0275cmp=n.Xpm({type:ei,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(le,5),2&t){let o;n.iGM(o=n.CRH())&&(e.questionsCarousel=o.first)}},standalone:!0,features:[n._Bn([S]),n.jDz],decls:5,vars:3,consts:[[3,"gameLoader"],[1,"container"],[1,"w--100","overflow-x--hidden"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem",4,"ngIf"],[3,"answers"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),n.YNc(3,ap,1,4,"carousel",3),n.qZA(),n._UZ(4,"answers-bar",4),n.qZA()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(3),n.Q6J("ngIf",e.variants&&e.variants.length),n.xp6(1),n.Q6J("answers",e.answers))},dependencies:[j,le,Mt,h.O5],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content;height:100%;place-items:center}"],changeDetection:0});const lp={path:"what_is_unwanted",loadComponent:W,providers:[{provide:$.s,useValue:[ve,J,ei]},{provide:he,useValue:new Map([[0,3],[1,5],[2,7]])}]};var cp=c(631);class yt{static getHourHandAngle(t){return 30*t.hours+30*t.minutes/60}static getMinuteHandAngle(t){return 360*t.minutes/60}}yt.answer$=new O.x,yt.variants=[];let tc=(()=>{class i extends Se{constructor(e,o,s,r){super(s,r),this._elementRef=e,this._renderer=o}setGameSizes(){const e=this._elementRef.nativeElement.getBoundingClientRect().width;this._renderer.setStyle(this._elementRef.nativeElement,I.L.FONT_SIZE,`${e/50}${P.REM}`)}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.R0b),n.Y36(h.K0))},i.\u0275dir=n.lG2({type:i,selectors:[["","adaptiveFontSizer",""]],standalone:!0,features:[n.qOj]}),i})(),up=(()=>{class i{transform(e){return e<10?`0${e}`:`${e}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=n.Yjl({name:"time",type:i,pure:!0,standalone:!0}),i})();var lo,bt,co,nc,ic,Is,uo,oc;function hp(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"span",3),n.NdJ("click",function(){const r=n.CHM(e).$implicit,l=n.oxw(2);return n.KtG(l.onVariantClick(r))}),n._uU(1),n.ALo(2,"time"),n.ALo(3,"time"),n.qZA()}if(2&i){const e=t.$implicit;n.xp6(1),n.AsE(" ",n.lcZ(2,2,e.hours),":",n.lcZ(3,4,e.minutes)," ")}}function mp(i,t){if(1&i&&(n.TgZ(0,"div",1),n.YNc(1,hp,4,6,"span",2),n.qZA()),2&i){const e=n.oxw();n.s9C("columnsAmount",e.variants.length),n.xp6(1),n.Q6J("ngForOf",e.variants)}}class Jt extends Ne{constructor(){super(...arguments),lo.add(this),this.variants=null,bt.set(this,null),co.set(this,!1)}ngOnInit(){(0,a.Q_)(this,lo,"m",nc).call(this),this.onDataLoad(this.data)}ngAfterViewInit(){this.adaptiveFontSizerD.forEach(t=>t.setGameSizes())}onVariantClick(t){var e=this;return(0,Y.Z)(function*(){if((0,a.Q_)(e,co,"f"))return;(0,a.YH)(e,co,!0,"f");const o=(0,a.Q_)(e,bt,"f").hours===t.hours&&(0,a.Q_)(e,bt,"f").minutes===t.minutes;yield o?k.d.playRightSound():k.d.playErrorSound(),yt.answer$.next(o)})()}}function pp(i,t){1&i&&n.GkF(0)}function _p(i,t){1&i&&n.GkF(0)}function fp(i,t){if(1&i&&n._UZ(0,"img",10),2&i){const e=t.$implicit;n.Gre("hand d--block p--absolute hand--",e.modifier,""),n.Udp("transform","rotate("+e.hand.angle+"deg)"),n.Q6J("src",e.hand.img,n.LSH)}}bt=new WeakMap,co=new WeakMap,lo=new WeakSet,nc=function(){const t=D.getRandItems(D.getSequence(13));t.length=B.k.getAgesConfig().variantsAmount,this.variants=t.map(e=>({hours:e,minutes:D.getRndArrElem(B.k.getAgesConfig().minutes)})),(0,a.Q_)(this,lo,"m",ic).call(this),this.emitData((0,a.Q_)(this,bt,"f"))},ic=function(){(0,a.YH)(this,bt,D.getRndArrElem(this.variants),"f"),yt.variants.push((0,a.Q_)(this,bt,"f"))},Jt.\u0275fac=function(){let i;return function(e){return(i||(i=n.n5z(Jt)))(e||Jt)}}(),Jt.\u0275cmp=n.Xpm({type:Jt,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(tc,5),2&t){let o;n.iGM(o=n.CRH())&&(e.adaptiveFontSizerD=o)}},inputs:{data:"data"},standalone:!0,features:[n.qOj,n.jDz],decls:1,vars:1,consts:[["class","variants","gridSizer","","rowsAmount","1","itemSize","200","coeff","0.5",3,"columnsAmount",4,"ngIf"],["gridSizer","","rowsAmount","1","itemSize","200","coeff","0.5",1,"variants",3,"columnsAmount"],["adaptiveFontSizer","","class","variants__item",3,"click",4,"ngFor","ngForOf"],["adaptiveFontSizer","",1,"variants__item",3,"click"]],template:function(t,e){1&t&&n.YNc(0,mp,2,2,"div",0),2&t&&n.Q6J("ngIf",e.variants)},dependencies:[h.O5,Me,h.ax,tc,up],styles:["@font-face{font-family:digital;src:url(digital.1859dc19b93399cb.ttf)}.variants[_ngcontent-%COMP%]{font-family:digital;cursor:pointer;font-size:3.5rem}.variants__item[_ngcontent-%COMP%]{padding:5px;background-color:#333;color:#0f0;border-radius:5px;border:8px solid #1a1a1a;display:flex;align-items:center;justify-content:center}"],changeDetection:0});const gp=function(i){return{hand:i,modifier:"hour"}},sc=function(i){return{$implicit:i}},Cp=function(i){return{hand:i,modifier:"minute"}};class ti{constructor(){Is.add(this),this.slides=D.getSequence(B.k.getAgesConfig().variantsAmount),this.clockwise=`${be.B.getGameFolder()}img/clockwise.${we.D.PNG}`,this.hourHand={img:`${be.B.getGameFolder()}img/hour_hand.${we.D.PNG}`,angle:0},this.minuteHand={img:`${be.B.getGameFolder()}img/minute_hand.${we.D.PNG}`,angle:0},this.gameLoader=null,this.answers=[],this.itemComponent=Jt,uo.set(this,null)}ngOnInit(){L.J.setChosenTheme(new si({id:cp.v.CLOCKS},{})),(0,a.Q_)(this,Is,"m",oc).call(this)}ngOnDestroy(){(0,a.Q_)(this,uo,"f")?.unsubscribe()}setTime(t){this.hourHand.angle=yt.getHourHandAngle(t),this.minuteHand.angle=yt.getMinuteHandAngle(t)}onLoadGame(){requestAnimationFrame(()=>this.imgWrapperVCh.setGameSizes())}}uo=new WeakMap,Is=new WeakSet,oc=function(){this.gameLoader=at.O.getImages([this.clockwise,this.hourHand.img,this.minuteHand.img]).pipe((0,f.b)(()=>(0,a.YH)(this,uo,yt.answer$.pipe((0,f.b)(t=>{this.answers.push(t),this.itemsCarouselVCh.slideToRight()}),Oe(this.slides.length),(0,f.b)(t=>t.some(e=>!e)?R.A.gameFailed():R.A.gameCompleted())).subscribe(),"f")))},ti.\u0275fac=function(t){return new(t||ti)},ti.\u0275cmp=n.Xpm({type:ti,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(n.Gf(le,5),n.Gf(pn,5)),2&t){let o;n.iGM(o=n.CRH())&&(e.itemsCarouselVCh=o.first),n.iGM(o=n.CRH())&&(e.imgWrapperVCh=o.first)}},standalone:!0,features:[n.jDz],decls:12,vars:20,consts:[[3,"gameLoader","loadGame"],[1,"container","h-max--100"],["imgWrapper","",1,"h--100","overflow--hidden","p--relative",3,"img"],[1,"d--block","w-max--100","h-max--100",3,"src"],["clockwiseBg",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["clockHandTmpl",""],[1,"overflow-x--hidden","w--100"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem"],[3,"answers"],[3,"src"]],template:function(t,e){if(1&t&&(n.TgZ(0,"game-spinner-wrapper",0),n.NdJ("loadGame",function(){return e.onLoadGame()}),n.TgZ(1,"div",1)(2,"figure",2),n._UZ(3,"img",3,4),n.YNc(5,pp,1,0,"ng-container",5),n.YNc(6,_p,1,0,"ng-container",5),n.YNc(7,fp,1,6,"ng-template",null,6,n.W1O),n.qZA(),n.TgZ(9,"div",7)(10,"carousel",8),n.NdJ("emitDataFromItem",function(s){return e.setTime(s)}),n.qZA()(),n._UZ(11,"answers-bar",9),n.qZA()()),2&t){const o=n.MAs(4),s=n.MAs(8);n.Q6J("gameLoader",e.gameLoader),n.xp6(2),n.Q6J("img",o),n.xp6(1),n.Q6J("src",e.clockwise,n.LSH),n.xp6(2),n.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",n.VKq(14,sc,n.VKq(12,gp,e.hourHand))),n.xp6(1),n.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",n.VKq(18,sc,n.VKq(16,Cp,e.minuteHand))),n.xp6(4),n.Q6J("slides",e.slides)("height","100%")("blockManualSwiping",!0)("itemComponent",e.itemComponent),n.xp6(1),n.Q6J("answers",e.answers)}},dependencies:[j,pn,h.tP,le,Mt],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content min-content;place-items:center;grid-gap:1rem}.hand[_ngcontent-%COMP%]{transform-origin:bottom;transition:transform 1s;transition-timing-function:ease-in-out}.hand--hour[_ngcontent-%COMP%]{max-height:15%;top:47%;left:47%}.hand--minute[_ngcontent-%COMP%]{max-height:20%;top:41%;left:48%}"],changeDetection:0});const vp={path:"what_time_is_it",loadComponent:W,providers:[{provide:$.s,useValue:[ve,ti]},{provide:he,useValue:new Map([[0,{variantsAmount:3,minutes:[0]}],[1,{variantsAmount:4,minutes:[0,30]}],[2,{variantsAmount:5,minutes:[0,15,30,45]}]])}]};let xs=(()=>{class i{}return i.itemsSet=null,i})();var ho,mo,Es;const yp=["btn"];class Kt{constructor(t){this._renderer=t,ho.add(this),this.item=null,this.colors=m.r,mo.set(this,null)}ngAfterViewInit(){this.addPulsate()}ngOnDestroy(){(0,a.Q_)(this,ho,"m",Es).call(this)}play(){var t=this;return(0,Y.Z)(function*(){(0,a.Q_)(t,ho,"m",Es).call(t),yield t.item.playOwnSound(),(0,a.YH)(t,mo,setTimeout(()=>t.addPulsate(),3e3),"f")})()}addPulsate(){this._renderer.addClass(this.btnEl.nativeElement,me.PULSATE_FWD)}}var ni,po,rc,ac,lc;function bp(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"figure",6),n.NdJ("click",function(){const r=n.CHM(e).$implicit,l=n.MAs(3),d=n.MAs(5),p=n.oxw();return n.KtG(p.answer$.next({id:r.id,el:l,titleEl:d}))}),n.TgZ(1,"div",7),n._UZ(2,"img",8,9),n.qZA(),n.TgZ(4,"figcaption",10,11),n._uU(6),n.qZA()()}if(2&i){const e=t.$implicit;n.xp6(2),n.Q6J("src",e.img,n.LSH),n.xp6(4),n.hij(" ",e.title," ")}}function wp(i,t){if(1&i&&n._UZ(0,"play-button",12),2&i){const e=n.oxw();n.Q6J("item",e.itemsCopy[e.index])}}mo=new WeakMap,ho=new WeakSet,Es=function(){clearTimeout((0,a.Q_)(this,mo,"f")),this._renderer.removeClass(this.btnEl.nativeElement,me.PULSATE_FWD)},Kt.\u0275fac=function(t){return new(t||Kt)(n.Y36(n.Qsj))},Kt.\u0275cmp=n.Xpm({type:Kt,selectors:[["play-button"]],viewQuery:function(t,e){if(1&t&&n.Gf(yp,7),2&t){let o;n.iGM(o=n.CRH())&&(e.btnEl=o.first)}},inputs:{item:"item"},standalone:!0,features:[n.jDz],decls:3,vars:4,consts:[[1,"btn-container",3,"click"],["btn",""],[1,"btn"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0,1),n.NdJ("click",function(){return e.play()}),n._UZ(2,"div",2),n.qZA()),2&t&&(n.Udp("border-color",e.colors.BLUE),n.xp6(2),n.Udp("border-left-color",e.colors.BLUE))},styles:[".pulsate-fwd[_ngcontent-%COMP%]{animation:pulsate-fwd .5s ease-in-out infinite both}@keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.btn[_ngcontent-%COMP%]{width:0;height:0;margin-left:32px;border-top:30px solid transparent;border-left:45px solid;border-bottom:30px solid transparent;cursor:pointer}.btn-container[_ngcontent-%COMP%]{display:flex;width:100px;height:100px;align-items:center;border:2px solid;border-radius:50px}"],changeDetection:0});class ii{constructor(t){this._renderer=t,ni.add(this),this.gameLoader=null,this.items=xs.itemsSet,this.itemsCopy=D.shuffle([...xs.itemsSet]),this.index=0,this.answer$=new O.x,po.set(this,null)}ngOnInit(){(0,a.Q_)(this,ni,"m",rc).call(this)}ngOnDestroy(){(0,a.Q_)(this,po,"f")?.unsubscribe()}}function Tp(i,t){if(1&i){const e=n.EpF();n.TgZ(0,"div",5),n.NdJ("click",function(){const r=n.CHM(e).$implicit,l=n.oxw().ngIf,d=n.oxw();return n.KtG(d.chooseSet(l.sets.get(r),{title:l.stepInfoTitle,style:{color:d.colors.PINK}}))}),n._uU(1),n.qZA()}if(2&i){const e=t.$implicit;n.xp6(1),n.hij(" ",e+1," ")}}function Sp(i,t){if(1&i&&(n.ynx(0),n.TgZ(1,"header")(2,"h1",2),n._uU(3),n.ALo(4,"capitalizeFirstLetter"),n.qZA()(),n.TgZ(5,"div",3),n.YNc(6,Tp,2,1,"div",4),n.qZA(),n.BQk()),2&i){const e=t.ngIf;n.xp6(3),n.hij("",n.lcZ(4,2,e.title),":"),n.xp6(3),n.Q6J("ngForOf",e.sets.keys())}}function Ip(i,t){1&i&&n._UZ(0,"spinner")}po=new WeakMap,ni=new WeakSet,rc=function(){this.gameLoader=(0,ue.D)([k.d.preloadThemeItemsOwnSounds(this.items)]).pipe((0,f.b)(()=>(0,a.Q_)(this,ni,"m",ac).call(this)))},ac=function(){var t=this;(0,a.YH)(this,po,this.answer$.pipe((0,f.b)(function(){var e=(0,Y.Z)(function*({id:o,el:s,titleEl:r}){t.itemsCopy[t.index].id===o?(t._renderer.setStyle(s,I.L.OPACITY,.3),t._renderer.setStyle(r,I.L.TEXT_DECORATION,"line-through"),yield(0,a.Q_)(t,ni,"m",lc).call(t)):yield k.d.playErrorSound()});return function(o){return e.apply(this,arguments)}}())).subscribe(),"f")},lc=function(){var i=(0,Y.Z)(function*(){this.index===Math.min(this.items.length,8)-1?R.A.gameCompleted():(this.index++,yield k.d.playRightSound(),this.playButton.addPulsate())});return function t(){return i.apply(this,arguments)}}(),ii.\u0275fac=function(t){return new(t||ii)(n.Y36(n.Qsj))},ii.\u0275cmp=n.Xpm({type:ii,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(Kt,5),2&t){let o;n.iGM(o=n.CRH())&&(e.playButton=o.first)}},standalone:!0,features:[n.jDz],decls:6,vars:3,consts:[[3,"gameLoader"],[1,"container"],["gridSizer","","rowsAmount","2","columnsAmount","4"],["class","curve-border border-width--1 border--dotted border--grey radial-gradient--soft-grey cursor--pointer",3,"click",4,"ngFor","ngForOf"],[1,"play-btn-container"],[3,"item",4,"ngIf"],[1,"curve-border","border-width--1","border--dotted","border--grey","radial-gradient--soft-grey","cursor--pointer",3,"click"],[1,"img-container"],[1,"img",3,"src"],["itemImgEl",""],[1,"title","text--center"],["titleEl",""],[3,"item"]],template:function(t,e){1&t&&(n.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),n.YNc(3,bp,7,2,"figure",3),n.qZA(),n.TgZ(4,"div",4),n.YNc(5,wp,1,1,"play-button",5),n.qZA()()()),2&t&&(n.Q6J("gameLoader",e.gameLoader),n.xp6(3),n.Q6J("ngForOf",e.items),n.xp6(2),n.Q6J("ngIf",e.itemsCopy))},dependencies:[j,Me,h.ax,h.O5,Kt],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:1fr min-content;place-items:center}.img[_ngcontent-%COMP%]{display:block;margin:auto;max-width:80%;max-height:80%}.img-container[_ngcontent-%COMP%]{display:flex;height:80%;margin:auto}@media screen and (max-width: 600px){.img-container[_ngcontent-%COMP%]{height:100%}}@media screen and (max-width: 600px){.title[_ngcontent-%COMP%]{display:none}}.play-btn-container[_ngcontent-%COMP%]{display:flex;margin-top:1rem;justify-content:center}"],changeDetection:0});const Ep=[{path:"",redirectTo:"main",pathMatch:"full"},{path:"main",component:pc,children:[{path:"",redirectTo:"games",pathMatch:"full"},{path:"games",loadChildren:()=>c.e(683).then(c.bind(c,6683)).then(i=>i.GAMES_CHAPTER_ROUTES)},{path:"about",loadComponent:()=>c.e(946).then(c.bind(c,1946)).then(i=>i.AboutComponent)},{path:"acknowledgment",loadComponent:()=>c.e(345).then(c.bind(c,4345)).then(i=>i.AcknowledgmentComponent)},{path:"contacts",loadComponent:()=>c.e(142).then(c.bind(c,7142)).then(i=>i.ContactsComponent)}]},jc,Kc,rd,gd,wd,Vd,Yd,ah,hh,fh,yh,wh,Eh,Fh,kh,Wh,$h,Xh,ep,op,lp,vp,{path:"whose_sound",loadComponent:W,providers:[{provide:$.s,useValue:[J,(()=>{class i{constructor(e,o){this._themeItemsService=e,this._translationsService=o,this.content$=null,this.colors=m.r}ngOnInit(){this.content$=this._themeItemsService.getItems(o=>o.hasOwnSound).pipe((0,V.z)(o=>o.length<=8?(this.chooseSet(o),(0,re.of)(null)):this._translationsService.loadTranslation("add_steps").pipe((0,N.U)(s=>({sets:D.groupArrByLength(o,8),title:s.choose_set,stepInfoTitle:s.to_choose_set})))))}chooseSet(e,o=null){xs.itemsSet=e,R.A.updateStepInfo(o),R.A.goToNext()}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(S),n.Y36(g.f))},i.\u0275cmp=n.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[n._Bn([S]),n.jDz],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["spinnerTmpl",""],[1,"text--center"],[1,"container"],["class","set radial-gradient--soft-grey",3,"click",4,"ngFor","ngForOf"],[1,"set","radial-gradient--soft-grey",3,"click"]],template:function(e,o){if(1&e&&(n.YNc(0,Sp,7,4,"ng-container",0),n.ALo(1,"async"),n.YNc(2,Ip,1,0,"ng-template",null,1,n.W1O)),2&e){const s=n.MAs(3);n.Q6J("ngIf",n.lcZ(1,2,o.content$))("ngIfElse",s)}},dependencies:[h.O5,h.Ov,h.ax,Us.O,b.G],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,200px));grid-gap:1rem}.set[_ngcontent-%COMP%]{padding:1rem;font-size:3rem;cursor:pointer;border:1px solid #9e9e9e;box-shadow:0 0 10px 18px #ffffffbf;text-align:center;border-radius:5px;font-weight:700}.set[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0}),i})(),ii]}]}]},4375:(z,x,c)=>{c.d(x,{Q:()=>u});var m=c(4650);let u=(()=>{class v{constructor(C){this.cdRef=C,this.searchStr="",this.loaded=!1}ngOnInit(){this.buildList()}showList(){setTimeout(()=>{this.loaded=!0,this.cdRef.markForCheck()},300)}}return v.\u0275fac=function(C){return new(C||v)(m.Y36(m.sBO))},v.\u0275dir=m.lG2({type:v}),v})()},5316:(z,x,c)=>{c.d(x,{a:()=>v});var m=c(829),u=c(4650);let v=(()=>{class T{constructor(){this.title="",this.category=null}}return T.\u0275fac=function(y){return new(y||T)},T.\u0275cmp=u.Xpm({type:T,selectors:[["category-title"]],inputs:{title:"title",category:"category"},standalone:!0,features:[u.jDz],decls:3,vars:5,consts:[[1,"title"]],template:function(y,g){1&y&&(u.TgZ(0,"div",0),u._uU(1),u.ALo(2,"capitalizeFirstLetter"),u.qZA()),2&y&&(u.Udp("color",null==g.category?null:g.category.color),u.xp6(1),u.hij(" ",u.lcZ(2,3,g.title),"\n"))},dependencies:[m.G],styles:[".title[_ngcontent-%COMP%]{font-size:2rem;text-shadow:0 1px 0 #fff,0 2px 0 #fff,0 3px 0 #fff,0 4px 2px #fff,1px 0 0 #fff,2px 0 0 #fff,3px 0 0 #fff,4px 0 2px #fff,0 -1px 0 #fff,0 -2px 0 #fff,0 -3px 0 #fff,0 -4px 2px #fff,-1px 0 0 #fff,-2px 0 0 #fff,-3px 0 0 #fff,-4px 0 2px #fff}"],changeDetection:0}),T})()},1739:(z,x,c)=>{c.d(x,{d:()=>T});var m=c(6895),u=c(4650);const v=["*"];let T=(()=>{class C{constructor(g){this._cdRef=g,this.appearanceFrom="right",this.isActive=!1}toggleMenu(){this.isActive=!this.isActive}closeMenu(){this.isActive=!1,this._cdRef.markForCheck()}}return C.\u0275fac=function(g){return new(g||C)(u.Y36(u.sBO))},C.\u0275cmp=u.Xpm({type:C,selectors:[["menu-toggle"]],inputs:{appearanceFrom:"appearanceFrom"},standalone:!0,features:[u.jDz],ngContentSelectors:v,decls:4,vars:2,consts:[[1,"toggle","smooth-bg",3,"click"],[1,"toggle__line",3,"ngClass"],[1,"nav-container",3,"ngClass"]],template:function(g,_){1&g&&(u.F$t(),u.TgZ(0,"div",0),u.NdJ("click",function(){return _.toggleMenu()}),u._UZ(1,"div",1),u.qZA(),u.TgZ(2,"nav",2),u.Hsn(3),u.qZA()),2&g&&(u.xp6(1),u.Q6J("ngClass",_.isActive?"toggle__line--crossed":""),u.xp6(1),u.Q6J("ngClass",_.isActive?"nav-container--"+_.appearanceFrom+"-active":"nav-container--"+_.appearanceFrom))},dependencies:[m.mk],styles:['.toggle[_ngcontent-%COMP%]{display:grid;height:40px;place-items:center;position:relative;cursor:pointer;z-index:10}.toggle__line[_ngcontent-%COMP%]{width:60px;height:10px;border-radius:5px;background-color:#00d36f;position:relative}.toggle__line[_ngcontent-%COMP%]:before, .toggle__line[_ngcontent-%COMP%]:after{content:"";width:60px;height:10px;border-radius:5px;background-color:#00d36f;position:absolute;left:0;transition:transform .25s,top .25s,bottom .25s;transition-timing-function:ease-in-out}.toggle__line[_ngcontent-%COMP%]:before{top:15px}.toggle__line[_ngcontent-%COMP%]:after{top:-15px}.toggle__line--crossed[_ngcontent-%COMP%]{background-color:transparent}.toggle__line--crossed[_ngcontent-%COMP%]:before, .toggle__line--crossed[_ngcontent-%COMP%]:after{background-color:#ff2480;top:0}.toggle__line--crossed[_ngcontent-%COMP%]:before{transform:rotate(45deg)}.toggle__line--crossed[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}.nav-container[_ngcontent-%COMP%]{width:100%;max-width:480px;height:100vh;padding:4rem 1rem;position:fixed;top:0;background-color:#f3f3f3;z-index:1;overflow-y:auto;transform:translateZ(0);transition:.2s;transition-timing-function:ease-in-out}.nav-container--left[_ngcontent-%COMP%]{left:-480px}.nav-container--left-active[_ngcontent-%COMP%]{border-right:1px solid rgba(158,158,158,.25);left:0}.nav-container--right[_ngcontent-%COMP%]{right:-480px}.nav-container--right-active[_ngcontent-%COMP%]{border-left:1px solid rgba(158,158,158,.25);right:0}'],changeDetection:0}),C})()},2700:(z,x,c)=>{c.d(x,{J:()=>se});var m=c(655),u=c(4650),v=c(9771),T=c(7579),C=c(4986),y=c(4482),g=c(5403),b=c(4671);function F(H,G){return H===G}var M,a=c(8505),h=c(829),ee=c(6895);const f=function(H,G){return{color:H,"border-color":G}};class se{constructor(){this.placeHolder="",this.searchStrInput=new u.vpe,this.colors=v.r,this.searchSubject$=new T.x,M.set(this,null)}ngOnInit(){(0,m.YH)(this,M,this.searchSubject$.pipe(function _(H,G=C.z){return(0,y.e)((fe,ge)=>{let de=null,xe=null,st=null;const rt=()=>{if(de){de.unsubscribe(),de=null;const Ee=xe;xe=null,ge.next(Ee)}};function _o(){const Ee=st+H,oi=G.now();if(oi<Ee)return de=this.schedule(void 0,Ee-oi),void ge.add(de);rt()}fe.subscribe((0,g.x)(ge,Ee=>{xe=Ee,st=G.now(),de||(de=G.schedule(_o,H),ge.add(de))},()=>{rt(),ge.complete()},void 0,()=>{xe=de=null}))})}(500),function n(H,G=b.y){return H=H??F,(0,y.e)((fe,ge)=>{let de,xe=!0;fe.subscribe((0,g.x)(ge,st=>{const rt=G(st);(xe||!H(de,rt))&&(xe=!1,de=rt,ge.next(st))}))})}(),(0,a.b)(G=>this.searchStrInput.emit(G))).subscribe(),"f")}ngOnDestroy(){(0,m.Q_)(this,M,"f")?.unsubscribe()}}M=new WeakMap,se.\u0275fac=function(G){return new(G||se)},se.\u0275cmp=u.Xpm({type:se,selectors:[["search-input"]],inputs:{placeHolder:"placeHolder"},outputs:{searchStrInput:"searchStrInput"},standalone:!0,features:[u.jDz],decls:3,vars:7,consts:[["type","text",1,"search",3,"placeholder","ngStyle","input"],["search",""]],template:function(G,fe){if(1&G){const ge=u.EpF();u.TgZ(0,"input",0,1),u.NdJ("input",function(){u.CHM(ge);const xe=u.MAs(1);return u.KtG(fe.searchSubject$.next(xe.value))}),u.ALo(2,"capitalizeFirstLetter"),u.qZA()}2&G&&(u.s9C("placeholder",u.lcZ(2,2,fe.placeHolder)),u.Q6J("ngStyle",u.WLB(4,f,fe.colors.DARK_GREY,fe.colors.LIGHT_GREY)))},dependencies:[h.G,ee.PC],styles:[".search[_ngcontent-%COMP%]{width:100%;height:3rem;margin-bottom:3rem;font-family:coquettec,sans-serif;font-size:1.5rem;border-radius:12px;outline:none;border:2px solid;padding:6px 12px}"],changeDetection:0})},965:(z,x,c)=>{c.d(x,{C:()=>g});var m=c(2925),u=c(6895),v=c(4650);function T(_,b){1&_&&v._UZ(0,"spinner")}function C(_,b){1&_&&v.Hsn(0,0,["*ngIf","loaded"])}const y=["*"];let g=(()=>{class _{constructor(){this.loaded=!1}}return _.\u0275fac=function(n){return new(n||_)},_.\u0275cmp=v.Xpm({type:_,selectors:[["spinner-wrapper"]],inputs:{loaded:"loaded"},standalone:!0,features:[v.jDz],ngContentSelectors:y,decls:2,vars:2,consts:[[4,"ngIf"]],template:function(n,F){1&n&&(v.F$t(),v.YNc(0,T,1,0,"spinner",0),v.YNc(1,C,1,0,"ng-content",0)),2&n&&(v.Q6J("ngIf",!F.loaded),v.xp6(1),v.Q6J("ngIf",F.loaded))},dependencies:[m.O,u.O5],encapsulation:2,changeDetection:0}),_})()},2925:(z,x,c)=>{c.d(x,{O:()=>C});var m=c(6895),u=c(4650);function v(y,g){1&y&&u._UZ(0,"div"),2&y&&u.Gre("spinner__item spinner__item--",g.$implicit,"")}const T=function(){return["first","second","third"]};let C=(()=>{class y{}return y.\u0275fac=function(_){return new(_||y)},y.\u0275cmp=u.Xpm({type:y,selectors:[["spinner"]],standalone:!0,features:[u.jDz],decls:2,vars:2,consts:[[1,"spinner"],[3,"class",4,"ngFor","ngForOf"]],template:function(_,b){1&_&&(u.TgZ(0,"div",0),u.YNc(1,v,1,3,"div",1),u.qZA()),2&_&&(u.xp6(1),u.Q6J("ngForOf",u.DdM(1,T)))},dependencies:[m.ax],styles:[".spinner[_ngcontent-%COMP%]{width:100px;margin:auto;text-align:center}.spinner__item[_ngcontent-%COMP%]{display:inline-block;width:25px;height:25px;background-color:#5c74d7;border-radius:100%;animation:spinner 1.4s ease-in-out 0s infinite both}.spinner__item--first[_ngcontent-%COMP%]{animation-delay:-.32s}.spinner__item--second[_ngcontent-%COMP%]{animation-delay:-.16s}@keyframes spinner{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}"],changeDetection:0}),y})()},500:(z,x,c)=>{c.d(x,{u:()=>n});var g,_,b,m=c(655),u=c(294),v=c(7579),T=c(8505),C=c(2722),y=c(4650);class n{constructor(a,h,ee){this._vcRef=a,this._tRef=h,this._cdRef=ee,g.add(this),_.set(this,new v.x)}ngOnInit(){(0,m.Q_)(this,g,"m",b).call(this),u.u.isMobile$.pipe((0,T.b)(a=>{this.showIfMobile&&a||!this.showIfMobile&&!a?this._vcRef.createEmbeddedView(this._tRef):this._vcRef.clear(),this._cdRef.detectChanges()}),(0,C.R)((0,m.Q_)(this,_,"f"))).subscribe()}ngOnDestroy(){(0,m.Q_)(this,_,"f").next(),(0,m.Q_)(this,_,"f").unsubscribe()}}_=new WeakMap,g=new WeakSet,b=function(){u.u.observeWindowToMobileResize().subscribe()},n.\u0275fac=function(a){return new(a||n)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.sBO))},n.\u0275dir=y.lG2({type:n,selectors:[["","ifMobile",""]],inputs:{showIfMobile:["ifMobile","showIfMobile"]},standalone:!0})},9513:(z,x,c)=>{c.d(x,{n:()=>g});var y,m=c(655),u=c(7926),v=c(5698),T=c(8505),C=c(4650);class g{constructor(b,n){this._elementRef=b,this._renderer=n,y.set(this,null)}ngOnInit(){if("IMG"!==this._elementRef.nativeElement.tagName)throw new Error("Element should be an image");(0,m.YH)(this,y,u.O.getImage(this.src).pipe((0,v.q)(1),(0,T.b)(b=>this._renderer.setAttribute(this._elementRef.nativeElement,"src",b.src))).subscribe(),"f")}ngOnDestroy(){(0,m.Q_)(this,y,"f")?.unsubscribe()}}y=new WeakMap,g.\u0275fac=function(b){return new(b||g)(C.Y36(C.SBq),C.Y36(C.Qsj))},g.\u0275dir=C.lG2({type:g,selectors:[["","preloadImg",""]],inputs:{src:["preloadImg","src"]},standalone:!0})},9771:(z,x,c)=>{c.d(x,{r:()=>m});var m=(()=>{return(u=m||(m={})).BLACK="#000000",u.BLUE="#5C74D7",u.PURPLE="#7700BB",u.GREEN="#00D36F",u.ORANGE="#FF9D2A",u.PINK="#FF2480",u.WHITE="#FFFFFF",u.LIGHT_GREY="#CCCCCC",u.MEDIUM_GREY="#9E9E9E",u.DARK_GREY="#333333",m;var u})()},6871:(z,x,c)=>{c.d(x,{s:()=>u});const u=new(c(4650).OlP)("GAME_STEPS_TOKEN")},6849:(z,x,c)=>{c.d(x,{A:()=>b});var v,T,C,y,g,_,m=c(655),u=c(7579);class b{static get goToNext$(){return(0,m.Q_)(b,v,"f",T).asObservable()}static goToNext(){(0,m.Q_)(b,v,"f",T).next()}static get updateStepInfo$(){return(0,m.Q_)(b,v,"f",C).asObservable()}static updateStepInfo(F){return(0,m.Q_)(b,v,"f",C).next(F)}static get gameCompleted$(){return(0,m.Q_)(b,v,"f",y).asObservable()}static gameCompleted(){return(0,m.Q_)(b,v,"f",y).next()}static get gameFailed$(){return(0,m.Q_)(b,v,"f",g).asObservable()}static gameFailed(){(0,m.Q_)(b,v,"f",g).next()}static get stepsToReset$(){return(0,m.Q_)(b,v,"f",_).asObservable()}static resetSteps(F){(0,m.Q_)(b,v,"f",_).next(F)}}v=b,T={value:new u.x},C={value:new u.x},y={value:new u.x},g={value:new u.x},_={value:new u.x}},9117:(z,x,c)=>{c.d(x,{W:()=>u});var m=c(2273);class u{constructor(T){this.id=null,this.title="",this.color="",this.route="",this.id=T.id,this.title=m.f.getTranslation(T.id),this.color=T.color,this.route=`${this.id}`}}},829:(z,x,c)=>{c.d(x,{G:()=>u});var m=c(4650);let u=(()=>{class v{transform(C){return C&&`${C.charAt(0).toLocaleUpperCase()}${C.substring(1)}`}}return v.\u0275fac=function(C){return new(C||v)},v.\u0275pipe=m.Yjl({name:"capitalizeFirstLetter",type:v,pure:!0,standalone:!0}),v})()},8550:(z,x,c)=>{c.d(x,{V:()=>u});var m=c(4650);let u=(()=>{class v{transform(C,y){return C?.length?y?C.filter(g=>this._searchPredicate(g,y)):C:[]}_searchPredicate(C,y){return C.title.toLowerCase().includes(y.toLowerCase())}}return v.\u0275fac=function(C){return new(C||v)},v.\u0275pipe=m.Yjl({name:"filterIcons",type:v,pure:!0,standalone:!0}),v})()},7926:(z,x,c)=>{c.d(x,{O:()=>a});var m=c(655),u=c(9751),v=c(2076),T=c(4482),C=c(5403),y=c(5032),g=c(8421),b=c(5577),n=c(2518),F=c(9551);class a{static getImage(ee){return new u.y(M=>{const f=new Image;f.src=ee,f.onload=()=>{M.next(f),M.complete()},f.onerror=()=>M.error(`image ${ee} not found`)})}static getImages(ee){return(0,v.D)(ee).pipe(function _(h,ee){return(0,T.e)((M,f)=>{const se=new Set;M.subscribe((0,C.x)(f,H=>{const G=h?h(H):H;se.has(G)||(se.add(G),f.next(H))})),ee&&(0,g.Xf)(ee).subscribe((0,C.x)(f,()=>se.clear(),y.Z))})}(),(0,b.z)(M=>a.getImage(M)),(0,n.q)())}}(0,m.gn)([(0,F.q)()],a,"getImage",null)},9417:(z,x,c)=>{c.d(x,{d:()=>_});var C,y,g,m=c(5861),u=c(655),v=c(1995),T=(()=>{return(b=T||(T={})).ERROR="error",b.GAME_FAILED="game-failed",b.RIGHT="right",b.WIN="win",T;var b})();class _{static getSound(n){return(0,m.Z)(function*(){return yield new Promise((F,a)=>{const h=new Audio;h.oncanplaythrough=()=>F(h),h.onerror=()=>a(`sound ${n} not found`),h.src=n})})()}static getSounds(n){return Promise.all(n.map(F=>_.getSound(F)))}static preloadThemeItemsTitleSounds(n){return _.getSounds(n.map(F=>F.titleSoundUrl))}static preloadThemeItemsOwnSounds(n){return _.getSounds(n.map(F=>F.ownSoundUrl))}static getBaseSounds(n){return _.getSounds(n.map(F=>`${(0,u.Q_)(_,C,"f",y)}${F}.${v.D.MP3}`))}static getAllBaseSounds(){return(0,m.Z)(function*(){return yield _.getBaseSounds(Object.values(T))})()}static playRightSound(){return(0,m.Z)(function*(){yield _.playSound(`${(0,u.Q_)(_,C,"f",y)}${T.RIGHT}.${v.D.MP3}`,.4)})()}static playErrorSound(){return(0,m.Z)(function*(){yield _.playSound(`${(0,u.Q_)(_,C,"f",y)}${T.ERROR}.${v.D.MP3}`,.4)})()}static playWinSound(){return(0,m.Z)(function*(){yield _.playSound(`${(0,u.Q_)(_,C,"f",y)}${T.WIN}.${v.D.MP3}`,.4)})()}static playGameFailedSound(){return(0,m.Z)(function*(){yield _.playSound(`${(0,u.Q_)(_,C,"f",y)}${T.GAME_FAILED}.${v.D.MP3}`,.4)})()}static playSound(n,F=1){return(0,m.Z)(function*(){return yield new Promise(function(){var a=(0,m.Z)(function*(h,ee){const M=yield _.getSound(n);M.currentTime=0,M.volume=F,(0,u.Q_)(_,C,"f",g).pause(),(0,u.YH)(_,C,M,"f",g),yield M.play(),M.onended=()=>h(),M.onerror=f=>ee(`Error has been occured on sound play ${f}`)});return function(h,ee){return a.apply(this,arguments)}}())})()}static stopSound(){(0,u.Q_)(_,C,"f",g).pause()}}C=_,y={value:"../../../../../../assets/sounds/"},g={value:new Audio}},4128:(z,x,c)=>{c.d(x,{D:()=>_});var m=c(9751),u=c(4742),v=c(8421),T=c(3269),C=c(5403),y=c(3268),g=c(1810);function _(...b){const n=(0,T.jO)(b),{args:F,keys:a}=(0,u.D)(b),h=new m.y(ee=>{const{length:M}=F;if(!M)return void ee.complete();const f=new Array(M);let se=M,H=M;for(let G=0;G<M;G++){let fe=!1;(0,v.Xf)(F[G]).subscribe((0,C.x)(ee,ge=>{fe||(fe=!0,H--),f[G]=ge},()=>se--,void 0,()=>{(!se||!fe)&&(H||ee.next(a?(0,g.n)(a,f):f),ee.complete())}))}});return n?h.pipe((0,y.Z)(n)):h}},207:(z,x,c)=>{c.d(x,{u:()=>v});var m=c(7359),u=c(4482);function v(T,C){return(0,u.e)((0,m.U)(T,C,arguments.length>=2,!1,!0))}},2518:(z,x,c)=>{c.d(x,{q:()=>T});var m=c(207),u=c(4482);const v=(C,y)=>(C.push(y),C);function T(){return(0,u.e)((C,y)=>{(0,m.u)(v,[])(C).subscribe(y)})}},4408:(z,x,c)=>{c.d(x,{o:()=>C});var m=c(727);class u extends m.w0{constructor(g,_){super()}schedule(g,_=0){return this}}const v={setInterval(y,g,..._){const{delegate:b}=v;return b?.setInterval?b.setInterval(y,g,..._):setInterval(y,g,..._)},clearInterval(y){const{delegate:g}=v;return(g?.clearInterval||clearInterval)(y)},delegate:void 0};var T=c(8737);class C extends u{constructor(g,_){super(g,_),this.scheduler=g,this.work=_,this.pending=!1}schedule(g,_=0){var b;if(this.closed)return this;this.state=g;const n=this.id,F=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(F,n,_)),this.pending=!0,this.delay=_,this.id=null!==(b=this.id)&&void 0!==b?b:this.requestAsyncId(F,this.id,_),this}requestAsyncId(g,_,b=0){return v.setInterval(g.flush.bind(g,this),b)}recycleAsyncId(g,_,b=0){if(null!=b&&this.delay===b&&!1===this.pending)return _;null!=_&&v.clearInterval(_)}execute(g,_){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const b=this._execute(g,_);if(b)return b;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(g,_){let n,b=!1;try{this.work(g)}catch(F){b=!0,n=F||new Error("Scheduled action threw falsy error")}if(b)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:g,scheduler:_}=this,{actions:b}=_;this.work=this.state=this.scheduler=null,this.pending=!1,(0,T.P)(b,this),null!=g&&(this.id=this.recycleAsyncId(_,g,null)),this.delay=null,super.unsubscribe()}}}},7565:(z,x,c)=>{c.d(x,{v:()=>v});var m=c(6063);class u{constructor(C,y=u.now){this.schedulerActionCtor=C,this.now=y}schedule(C,y=0,g){return new this.schedulerActionCtor(this,C).schedule(g,y)}}u.now=m.l.now;class v extends u{constructor(C,y=u.now){super(C,y),this.actions=[],this._active=!1}flush(C){const{actions:y}=this;if(this._active)return void y.push(C);let g;this._active=!0;do{if(g=C.execute(C.state,C.delay))break}while(C=y.shift());if(this._active=!1,g){for(;C=y.shift();)C.unsubscribe();throw g}}}},4986:(z,x,c)=>{c.d(x,{P:()=>T,z:()=>v});var m=c(4408);const v=new(c(7565).v)(m.o),T=v},5861:(z,x,c)=>{function m(v,T,C,y,g,_,b){try{var n=v[_](b),F=n.value}catch(a){return void C(a)}n.done?T(F):Promise.resolve(F).then(y,g)}function u(v){return function(){var T=this,C=arguments;return new Promise(function(y,g){var _=v.apply(T,C);function b(F){m(_,y,g,b,n,"next",F)}function n(F){m(_,y,g,b,n,"throw",F)}b(void 0)})}}c.d(x,{Z:()=>u})}}]);