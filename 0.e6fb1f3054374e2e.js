"use strict";(self.webpackChunkrazvivator=self.webpackChunkrazvivator||[]).push([[0],{6330:(ee,N,u)=>{u.d(N,{a:()=>b});var v=u(9771);const b=[{id:"themes",color:v.r.BLUE},{id:"memory",color:v.r.GREEN},{id:"attention",color:v.r.ORANGE},{id:"intellect",color:v.r.PINK}]},9424:(ee,N,u)=>{u.d(N,{G:()=>C});var v=u(6330),b=u(9117);class C{static getCategoryById(I){return C.categories.find(w=>w.id===I)}}C.categories=v.a.map(P=>new b.W(P))},5e3:(ee,N,u)=>{u.r(N),u.d(N,{MAIN_ROUTES:()=>Vu});var v=u(9771),b=u(6330);const C=[{id:"games",color:v.r.BLUE,chapters:b.a},{id:"contacts",color:v.r.GREEN},{id:"acknowledgment",color:v.r.ORANGE},{id:"about",color:v.r.PINK}];var P=u(9117);class I extends P.W{constructor(n){super(n),this.chapters=null,this.absoluteRoute="",this.parentRoute="",this.isExpanded=!1,this.parentRoute=n.parentRoute||"",this.absoluteRoute=this.parentRoute?`${this.parentRoute}/${this.route}`:this.route,this.chapters=n.chapters?n.chapters.map(t=>new I({...t,parentRoute:this.route})):[]}toggleExpanded(){this.chapters?.length&&(this.isExpanded=!this.isExpanded)}}class w{static getDesktopChapters(){return C.map(n=>new P.W(n))}static getMobileChapters(){return C.map(n=>new I(n))}}var S=u(2273),O=u(4774),F=u(829),e=u(4650);let U=(()=>{class i{constructor(){this.chapter=null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["chapter"]],inputs:{chapter:"chapter"},standalone:!0,features:[e.jDz],decls:6,vars:5,consts:[[1,"chapter",3,"routerLink"],["width","200","height","50","routerLinkActive","chapter__img--active",1,"chapter__img"],["d","m 197.03362,37.791399 c 5.63757,3.866462 3.62414,12.20988 -6.44295,12.108132 C 132.30221,49.696033 73.510371,50.204777 15.523913,45.829571 12.101102,45.524323 11.195062,43.082347 12.805798,41.657861 11.094392,41.454363 9.2823156,41.250865 7.5709095,41.047367 -4.8116155,39.419383 -0.38209431,27.107754 10.289024,26.497259 c 0.704698,0 1.308722,-0.101748 2.013419,-0.101748 C 2.3360208,24.055284 3.8460849,13.473386 14.315863,12.964642 9.0809737,8.6911837 11.396405,0.44951471 21.765511,0.44951471 75.725132,0.95825974 130.79213,-1.5854654 184.44975,3.2984868 c 7.65099,0.712243 9.76506,6.613685 5.73824,9.6661552 7.14765,2.848972 6.44294,10.683645 -1.00671,12.413378 1.30873,0.101749 2.61745,0.305247 3.8255,0.406996 7.65098,1.017491 9.06037,8.852164 4.02684,12.006383 z",1,"chapter__path"],["routerLinkActive","chapter__title--active",1,"chapter__title"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"path",2),e.qZA(),e.kcU(),e.TgZ(3,"div",3),e._uU(4),e.ALo(5,"capitalizeFirstLetter"),e.qZA()()),2&t&&(e.Q6J("routerLink",o.chapter.route),e.xp6(2),e.uIk("fill",o.chapter.color),e.xp6(2),e.hij(" ",e.lcZ(5,3,o.chapter.title)," "))},dependencies:[O.Bz,O.rH,O.Od,F.G],styles:[".chapter[_ngcontent-%COMP%]{width:200px;height:50px;margin:auto;position:relative;cursor:pointer}.chapter[_ngcontent-%COMP%]:hover{transform:rotate(3deg)}.chapter__img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:0}.chapter__img--active[_ngcontent-%COMP%]{transform:scale(1.1)}.chapter__title[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center;color:#fff;position:absolute;font-size:1.5rem;z-index:1}.chapter__title--active[_ngcontent-%COMP%]{font-weight:bolder}"],changeDetection:0}),i})();var x=u(2346),m=u(8916),_=u(2793),f=u(6895),le=u(1739),H=u(9300),T=u(8505);function q(i,n){1&i&&e.GkF(0)}function ce(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("click",function(r){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onItemClick(r,s))}),e.TgZ(1,"span",10),e._uU(2),e.ALo(3,"capitalizeFirstLetter"),e.qZA(),e._UZ(4,"span",11),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,5,t.title)),e.xp6(2),e.Udp("border-left-color",t.color),e.ekj("items-header__triangle--expanded",t.isExpanded)}}function Le(i,n){if(1&i&&(e.TgZ(0,"span",12),e._uU(1),e.ALo(2,"capitalizeFirstLetter"),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("routerLink",t.absoluteRoute),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.title)," ")}}function ge(i,n){1&i&&e.GkF(0)}const he=function(i){return{$implicit:i}};function Ae(i,n){if(1&i&&(e.ynx(0),e.YNc(1,ge,1,0,"ng-container",1),e.BQk()),2&i){const t=e.oxw().$implicit;e.oxw(2);const o=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,he,t.chapters))}}function He(i,n){if(1&i&&(e.TgZ(0,"li",5),e.YNc(1,ce,5,7,"span",6),e.YNc(2,Le,3,4,"span",7),e.YNc(3,Ae,2,4,"ng-container",8),e.qZA()),2&i){const t=n.$implicit;e.Udp("color",t.color),e.xp6(1),e.Q6J("ngIf",t.chapters.length),e.xp6(1),e.Q6J("ngIf",!t.chapters.length),e.xp6(1),e.Q6J("ngIf",t.chapters.length&&t.isExpanded)}}function Be(i,n){if(1&i&&(e.TgZ(0,"ul",3),e.YNc(1,He,4,5,"li",4),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}let cn=(()=>{var i=new WeakMap;class n{constructor(o){(0,x.Z)(this,i,{writable:!0,value:void 0}),this._router=o,this.appearanceFrom="right",this.chapters=w.getMobileChapters()}ngOnInit(){(0,_.Z)(this,i,this._router.events.pipe((0,H.h)(o=>o instanceof O.m2),(0,T.b)(()=>this.menuToggle.closeMenu())).subscribe())}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}onItemClick(o,r){o.stopPropagation(),r.toggleExpanded()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(O.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["nav-mobile"]],viewQuery:function(o,r){if(1&o&&e.Gf(le.d,7),2&o){let s;e.iGM(s=e.CRH())&&(r.menuToggle=s.first)}},standalone:!0,features:[e.jDz],decls:4,vars:5,consts:[[3,"appearanceFrom"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["navItems",""],[1,"nav"],["class","nav__item",3,"color",4,"ngFor","ngForOf"],[1,"nav__item"],["class","items-header",3,"click",4,"ngIf"],["routerLinkActive","nav__item--active",3,"routerLink",4,"ngIf"],[4,"ngIf"],[1,"items-header",3,"click"],[1,"items-header__title"],[1,"items-header__triangle"],["routerLinkActive","nav__item--active",3,"routerLink"]],template:function(o,r){if(1&o&&(e.TgZ(0,"menu-toggle",0),e.YNc(1,q,1,0,"ng-container",1),e.qZA(),e.YNc(2,Be,2,1,"ng-template",null,2,e.W1O)),2&o){const s=e.MAs(3);e.Q6J("appearanceFrom",r.appearanceFrom),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(3,he,r.chapters))}},dependencies:[f.O5,f.ax,f.tP,O.Bz,O.rH,O.Od,le.d,F.G],styles:[".nav[_ngcontent-%COMP%]{padding-left:1rem}.nav__item[_ngcontent-%COMP%]{font-size:2rem;cursor:pointer}.nav__item--active[_ngcontent-%COMP%]{font-weight:700}.items-header[_ngcontent-%COMP%]{display:flex;align-items:center}.items-header__triangle[_ngcontent-%COMP%]{width:0;height:0;margin-left:10px;border-style:solid;border-width:6px 0 6px 12px;border-color:transparent;transition:.25s}.items-header__triangle--expanded[_ngcontent-%COMP%]{transform:rotate(90deg)}.translations[_ngcontent-%COMP%]{margin-top:1rem;margin-left:1rem}"],changeDetection:0}),n})();var $e=u(500),je=u(9513);function Pr(i,n){1&i&&(e.TgZ(0,"div",6),e._UZ(1,"img",7),e.qZA()),2&i&&(e.xp6(1),e.Q6J("preloadImg","../../assets/img/logo.png"))}function Fr(i,n){1&i&&e._UZ(0,"nav-mobile",8)}function Rr(i,n){1&i&&e._UZ(0,"chapter",11),2&i&&e.Q6J("chapter",n.$implicit)}function kr(i,n){if(1&i&&(e.TgZ(0,"div",9),e.YNc(1,Rr,1,1,"chapter",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.chapters)}}let Zr=(()=>{class i{constructor(){this.chapters=w.getDesktopChapters(),this.colors=v.r,this.title=S.f.getTranslation("title")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["main"]],standalone:!0,features:[e.jDz],decls:9,vars:8,consts:[[1,"main"],["class","main__logo","routerLink","/",4,"ifMobile"],[1,"main__title"],["class","main__nav-mobile",4,"ifMobile"],["class","main__chapters",4,"ifMobile"],[1,"main__container"],["routerLink","/",1,"main__logo"],[3,"preloadImg"],[1,"main__nav-mobile"],[1,"main__chapters"],[3,"chapter",4,"ngFor","ngForOf"],[3,"chapter"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Pr,2,1,"div",1),e.TgZ(2,"div",2),e._uU(3),e.ALo(4,"capitalizeFirstLetter"),e.qZA(),e.YNc(5,Fr,1,0,"nav-mobile",3),e.YNc(6,kr,2,1,"div",4),e.TgZ(7,"div",5),e._UZ(8,"router-outlet"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ifMobile",!1),e.xp6(1),e.Udp("color",o.colors.BLUE),e.xp6(1),e.hij(" ",e.lcZ(4,6,o.title)," "),e.xp6(2),e.Q6J("ifMobile",!0),e.xp6(1),e.Q6J("ifMobile",!1))},dependencies:[f.ax,U,O.Bz,O.lC,O.rH,cn,$e.u,je.n,F.G],styles:[".main[_ngcontent-%COMP%]{display:grid;grid-template-columns:min-content auto;grid-template-rows:max-content auto;grid-gap:2rem}.main__logo[_ngcontent-%COMP%]{grid-row-start:1;grid-row-end:3;text-align:center;cursor:pointer}.main__title[_ngcontent-%COMP%]{font-size:3rem;text-shadow:0 1px 0 #fff,0 2px 0 #fff,0 3px 0 #fff,0 4px 2px #fff,1px 0 0 #fff,2px 0 0 #fff,3px 0 0 #fff,4px 0 2px #fff,0 -1px 0 #fff,0 -2px 0 #fff,0 -3px 0 #fff,0 -4px 2px #fff,-1px 0 0 #fff,-2px 0 0 #fff,-3px 0 0 #fff,-4px 0 2px #fff}.main__translations[_ngcontent-%COMP%]{align-self:center;justify-self:end}.main__chapters[_ngcontent-%COMP%]{display:grid;grid-column-start:2;grid-column-end:4;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:1rem;place-items:center}.main__container[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:4}@media screen and (max-width: 1024px){.main[_ngcontent-%COMP%]{grid-template-columns:1fr 60px}.main__nav-mobile[_ngcontent-%COMP%]{align-self:center;position:fixed;top:1rem;right:.5rem;z-index:1}.main__title[_ngcontent-%COMP%]{font-size:2rem}}"],changeDetection:0}),i})();const ne=()=>u.e(477).then(u.bind(u,477)).then(i=>i.GameStepsComponent);var ie=u(6871),Lr=u(4375),j=u(6849),Nr=u(9424),J=u(8397),E=u(101),y=u(3889),Pe=u(655),Ge=u(9551),De=u(4729),Q=u(5577),ve=u(4128),me=u(9646),pe=u(8189),$=u(4004),oe=u(2518),Xn=u(262),Ie=u(1995);class ei{constructor(n,t){this.id=null,this.title="",this.icon="",this.bg="",this.isCustomItems=!1,this.customItemImgExt=null,this.themeItemsIds=null,this.id=n.id,this.title=t[n.id],this.isCustomItems=n.customItems,this.icon=J.J.getIcon(n.id,n.customIcon),this.bg=J.J.getBg(n.id,n.customBg),this.customItemImgExt=n.customItemImgExt||Ie.D.PNG,this.themeItemsIds=n.themeItemsIds}}class Nt extends ei{}var ti=new WeakSet;class ni extends ei{constructor(n,t){super(n,t),(0,E.Z)(this,ti),this.themes=null,this.themes=(0,y.Z)(this,ti,Vr).call(this,n).map(o=>new Nt(o,t))}}function Vr(i){return i.themes||this.id.split("__").map(n=>({id:n}))}const ii=new e.OlP("AGE_DEPENDENCY");var Ne=u(529),oi=new WeakSet,ri=new WeakSet,si=new WeakSet,ai=new WeakSet;class Ye{constructor(n,t,o){(0,E.Z)(this,ai),(0,E.Z)(this,si),(0,E.Z)(this,ri),(0,E.Z)(this,oi),this._http=n,this._translationsService=t,this._ageDependency=o}getThemes(n=De.B.chosenGameId){return this._fetchThemes(J.J.getGameThemesUrl(n,this._ageDependency)).pipe((0,Q.z)(t=>(0,ve.D)({commonThemesTranslations:(0,y.Z)(this,oi,Br).call(this,t),commonCustomThemesTranslations:(0,y.Z)(this,ri,Gr).call(this,t,n),combinedThemesTranslations:(0,y.Z)(this,si,zr).call(this,t),combinedCustomThemesTranslations:(0,y.Z)(this,ai,Ur).call(this,t,n),config:(0,me.of)(t)}).pipe((0,Q.z)(o=>(0,me.of)(o.config).pipe((0,pe.J)(),(0,$.U)(r=>J.J.isCommonTheme(r)?new Nt(r,{...o.commonThemesTranslations,...o.commonCustomThemesTranslations}):J.J.isCombinedTheme(r)?new ni(r,{...o.combinedThemesTranslations,...o.combinedCustomThemesTranslations}):(console.error(`Unknown theme ${r.id} in config ${JSON.stringify(r)}`),null)),(0,oe.q)())))))}_fetchThemes(n){return this._http.get(n)}}function Br(i){return i.some(n=>J.J.isCommonTheme(n))?this._translationsService.loadTranslation("themes/common"):(0,me.of)(null)}function Gr(i,n){return i.some(t=>J.J.isCommonTheme(t))?this._translationsService.loadTranslation(`themes/common_custom/${n}`).pipe((0,Xn.K)(()=>(0,me.of)(null))):(0,me.of)(null)}function zr(i){return i.some(n=>J.J.isCombinedTheme(n))?this._translationsService.loadTranslation("themes/combined"):(0,me.of)(null)}function Ur(i,n){return i.some(t=>J.J.isCombinedTheme(t))?this._translationsService.loadTranslation(`themes/combined_custom/${n}`).pipe((0,Xn.K)(()=>(0,me.of)(null))):(0,me.of)(null)}Ye.\u0275fac=function(n){return new(n||Ye)(e.LFG(Ne.eN),e.LFG(S.f),e.LFG(ii,8))},Ye.\u0275prov=e.Yz7({token:Ye,factory:Ye.\u0275fac}),(0,Pe.gn)([(0,Ge.q)()],Ye.prototype,"_fetchThemes",null);var Wr=u(5316),Hr=u(2700),dn=u(965),$r=u(8550);function jr(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"figure",5),e.NdJ("click",function(r){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.selectIcon(r,a))}),e._UZ(1,"img",6),e.TgZ(2,"figcaption")(3,"div",7),e._uU(4),e.ALo(5,"capitalizeFirstLetter"),e.qZA()()()}if(2&i){const t=n.$implicit;e.xp6(1),e.Q6J("preloadImg",t.icon),e.xp6(3),e.hij(" ",e.lcZ(5,2,t.title)," ")}}let ae=(()=>{class i extends Lr.Q{constructor(t,o){super(o),this._themesService=t,this.category=Nr.G.getCategoryById("themes"),this.title=S.f.getTranslation("choose_theme"),this.searchPlaceHolder=`${S.f.getTranslation("search_theme")}...`,this.list$=null}selectIcon(t,o){t.stopPropagation(),J.J.setChosenTheme(o),j.A.updateStepInfo({title:o.title,style:{color:v.r.BLUE}}),j.A.goToNext()}buildList(){this.list$=this._themesService.getThemes().pipe((0,T.b)(()=>this.showList()))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ye),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["theme-choice"]],standalone:!0,features:[e._Bn([Ye]),e.qOj,e.jDz],decls:7,vars:10,consts:[[3,"category","title"],[3,"placeHolder","searchStrInput"],[3,"loaded"],[1,"list"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"list-item__img",3,"preloadImg"],[1,"list-item__title"]],template:function(t,o){1&t&&(e._UZ(0,"category-title",0),e.TgZ(1,"search-input",1),e.NdJ("searchStrInput",function(s){return o.searchStr=s}),e.qZA(),e.TgZ(2,"spinner-wrapper",2)(3,"div",3),e.YNc(4,jr,6,4,"figure",4),e.ALo(5,"filterIcons"),e.ALo(6,"async"),e.qZA()()),2&t&&(e.Q6J("category",o.category)("title",o.title),e.xp6(1),e.Q6J("placeHolder",o.searchPlaceHolder),e.xp6(1),e.Q6J("loaded",o.loaded),e.xp6(2),e.Q6J("ngForOf",e.xi3(5,5,e.lcZ(6,8,o.list$),o.searchStr)))},dependencies:[F.G,Wr.a,Hr.J,dn.C,je.n,f.Ov,$r.V,f.ax],styles:[".list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:3rem}.list-item[_ngcontent-%COMP%]{padding:10px;border-radius:30px 0;box-shadow:0 0 10px 18px #ffffffbf;background-color:#ffffffbf;border:solid 2px rgba(158,158,158,.15);cursor:pointer}.list-item[_ngcontent-%COMP%]:hover{background-color:#ffffffe6;border-color:#9e9e9e4d}.list-item__img[_ngcontent-%COMP%]{display:block;margin:auto}.list-item__title[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}"],changeDetection:0}),i})();var Yr=u(2843),Jr=u(9770),ot=u(7926),re=u(5861),Y=u(9417);class Kr{constructor(n,t,o,r){this.theme=t,this.title=o,this.id="",this.img="",this.hasOwnSound=!1,this.titleSoundUrl="",this.ownSoundUrl="",this.titleStyle=null,this.imgStyle=null,this.id=n.id,this.img=J.J.getItemImg(n,t.id,t.isCustomItems,r),this.hasOwnSound=n.hasOwnSound,this.titleSoundUrl=J.J.getTitleSoundUrl(t.id,this.id),this.ownSoundUrl=J.J.getOwnSoundUrl(t.id,this.id)}playTitle(){var n=this;return(0,re.Z)(function*(){yield Y.d.playSound(n.titleSoundUrl)})()}playOwnSound(){var n=this;return(0,re.Z)(function*(){yield Y.d.playSound(n.ownSoundUrl)})()}}let we=(()=>{class i{constructor(){this.chosenSetIndex=null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var li=new WeakSet,un=new WeakSet;class k{static preloadThemeItemsImgs(n){return ot.O.getImages(n.map(t=>t.img))}constructor(n,t,o){(0,E.Z)(this,un),(0,E.Z)(this,li),this._http=n,this._translationsService=t,this._addStepsService=o}getItems(n=(()=>!0)){const t=J.J.getChosenTheme();return t instanceof Nt?(0,y.Z)(this,un,ci).call(this,t,n):t instanceof ni?(0,y.Z)(this,li,qr).call(this,t,n):(0,Yr._)("Unknown theme instance")}_fetchItems(n){return this._http.get(n)}}function qr(i,n){return(0,me.of)(i.isCustomItems?[i]:i.themes).pipe((0,pe.J)(),(0,Q.z)(t=>(0,y.Z)(this,un,ci).call(this,t,n)),(0,pe.J)(),(0,oe.q)())}function ci(i,n){const t=this._fetchItems(J.J.getItemsUrl(i.id,i.isCustomItems,this._addStepsService?.chosenSetIndex)),o=i.isCustomItems?(0,me.of)({}):this._translationsService.loadTranslation(`themes/items/${i.id}`);return(0,ve.D)([t,o]).pipe((0,Q.z)(([r,s])=>(0,me.of)(r).pipe((0,$.U)(a=>a.filter(n)),(0,Q.z)(a=>function Qr(i,n,t){return(0,Jr.P)(()=>i()?n:t)}(()=>i.themeItemsIds?.length>0,(0,me.of)(i.themeItemsIds).pipe((0,pe.J)(),(0,$.U)(l=>a.find(c=>c.id===l))),(0,me.of)(a).pipe((0,pe.J)()))),(0,$.U)(a=>new Kr(a,i,s[a.id],this._addStepsService?.chosenSetIndex)),(0,oe.q)())))}k.\u0275fac=function(n){return new(n||k)(e.LFG(Ne.eN),e.LFG(S.f),e.LFG(we,8))},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac}),(0,Pe.gn)([(0,Ge.q)()],k.prototype,"_fetchItems",null);let ze=(()=>{class i{constructor(){this.loadedData=new e.vpe,this.emittedData=new e.vpe}onDataLoad(t){this.loadedData.emit(t)}emitData(t){this.emittedData.emit(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.lG2({type:i,inputs:{data:"data"},outputs:{loadedData:"loadedData",emittedData:"emittedData"}}),i})();var Ee=u(5698),Vt=u(4986),Xr=u(1350),rt=u(4482),Je=u(5403),es=u(5032),ns=u(9718),mt=u(8421);function di(i,n){return n?t=>(0,Xr.z)(n.pipe((0,Ee.q)(1),function ts(){return(0,rt.e)((i,n)=>{i.subscribe((0,Je.x)(n,es.Z))})}()),t.pipe(di(i))):(0,Q.z)((t,o)=>(0,mt.Xf)(i(t,o)).pipe((0,Ee.q)(1),(0,ns.h)(t)))}var pt=u(9751),is=u(3532);function hn(i=0,n,t=Vt.P){let o=-1;return null!=n&&((0,is.K)(n)?t=n:o=n),new pt.y(r=>{let s=function os(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;s<0&&(s=0);let a=0;return t.schedule(function(){r.closed||(r.next(a++),0<=o?this.schedule(void 0,o):r.complete())},s)})}function Ue(i,n=Vt.z){const t=hn(i,n);return di(()=>t)}let rs=(()=>{var i=new WeakMap,n=new WeakSet;class t extends ze{constructor(s){super(),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._cdRef=s,this.loaded=!1,(0,_.Z)(this,i,null)}ngAfterViewInit(){(0,y.Z)(this,n,o).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}onDataLoad(s){var a=()=>super.onDataLoad,l=this;return(0,re.Z)(function*(){l.loaded=!0,l._cdRef.detectChanges(),yield l.data.playTitle(),a().call(l,s)})()}}function o(){(0,_.Z)(this,i,ot.O.getImage(this.data.img).pipe((0,Ee.q)(1),Ue(300),(0,T.b)(()=>this.onDataLoad(this.data))).subscribe())}return t.\u0275fac=function(s){return new(s||t)(e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!0,features:[e.qOj,e.jDz],decls:6,vars:5,consts:[[3,"loaded"],[1,"item"],[1,"item__img",3,"src"],[1,"item__title"]],template:function(s,a){1&s&&(e.TgZ(0,"spinner-wrapper",0)(1,"figure",1),e._UZ(2,"img",2),e.TgZ(3,"div",3),e._uU(4),e.ALo(5,"capitalizeFirstLetter"),e.qZA()()()),2&s&&(e.Q6J("loaded",a.loaded),e.xp6(2),e.Q6J("src",a.data.img,e.LSH),e.xp6(2),e.hij(" ",e.lcZ(5,3,a.data.title)," "))},dependencies:[dn.C,F.G],styles:[".item[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.item__img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:400px;margin:auto}.item__title[_ngcontent-%COMP%]{text-align:center;font-size:3rem}"],changeDetection:0}),t})();var ui=u(1009),z=(()=>{return(i=z||(z={})).PX="px",i.DEG="deg",i.REM="rem",i.PERCENTAGE="%",z;var i})(),gt=u(294),B=u(7579),de=u(2722);const ss=["content"];let hi=(()=>{var i=new WeakMap,n=new WeakMap;class t{constructor(){(0,x.Z)(this,i,{writable:!0,value:void 0}),(0,x.Z)(this,n,{writable:!0,value:void 0}),this.loadedData=new e.vpe,this.emittedData=new e.vpe,(0,_.Z)(this,n,new B.x)}ngOnInit(){(0,_.Z)(this,i,this.content.createComponent(this.component)),(0,m.Z)(this,i).instance.data=this.data,(0,m.Z)(this,i).instance.loadedData.pipe((0,T.b)(r=>this.loadedData.emit(r)),(0,de.R)((0,m.Z)(this,n))).subscribe(),(0,m.Z)(this,i).instance.emittedData.pipe((0,T.b)(r=>this.emittedData.emit(r)),(0,de.R)((0,m.Z)(this,n))).subscribe()}ngOnDestroy(){(0,m.Z)(this,n).next(),(0,m.Z)(this,n).unsubscribe(),(0,m.Z)(this,i).destroy()}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["slide-item-resolver"]],viewQuery:function(r,s){if(1&r&&e.Gf(ss,7,e.s_b),2&r){let a;e.iGM(a=e.CRH())&&(s.content=a.first)}},inputs:{component:"component",data:"data"},outputs:{loadedData:"loadedData",emittedData:"emittedData"},standalone:!0,features:[e.jDz],decls:2,vars:0,consts:[["content",""]],template:function(r,s){1&r&&e._UZ(0,"template",null,0)},styles:["[_nghost-%COMP%]{height:100%}"]}),t})();const as=["slidesContainer"],ls=["carouselSlides"];function cs(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.slideToLeft())}),e._uU(1," \u25b7 "),e.qZA()}if(2&i){const t=e.oxw();e.Udp("color",t.controlColor)}}function ds(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"slide-item-resolver",11),e.NdJ("loadedData",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onLoadData())})("emittedData",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onEmitDataFromItem(r))}),e.qZA()}if(2&i){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("component",o.itemComponent)("data",t)}}function us(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(r){const a=e.CHM(t).index,l=e.oxw();return e.KtG(l.onSlideClick(r,a))})("swipeleft",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.swipeToRight())})("swiperight",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.swipeToLeft())}),e.YNc(1,ds,1,2,"slide-item-resolver",10),e.qZA()}if(2&i){const t=n.index,o=e.oxw();e.Udp("width",o.slideWidth),e.xp6(1),e.Q6J("ngIf",o.shouldSlideBeenShown(t))}}function hs(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.slideToRight())}),e._uU(1," \u25b7 "),e.qZA()}if(2&i){const t=e.oxw();e.Udp("color",t.controlColor)}}const ms=function(i,n,t){return{width:i,transform:n,transition:t}};var Bt=new WeakMap,mn=new WeakMap,st=new WeakMap,mi=new WeakSet,pn=new WeakSet;class _e{constructor(n,t){(0,E.Z)(this,pn),(0,E.Z)(this,mi),(0,x.Z)(this,Bt,{writable:!0,value:void 0}),(0,x.Z)(this,mn,{writable:!0,value:void 0}),(0,x.Z)(this,st,{writable:!0,value:void 0}),this.cdRef=n,this.ngZone=t,this.slides=[],this.slidesCount=1,this.height="400px",this.activeSlideIndex=0,this.showControls=!1,this.controlColor=v.r.GREEN,this.blockManualSwiping=!1,this.slideClick=new e.vpe,this.transitionEnd=new e.vpe,this.emitDataFromItem=new e.vpe,this.items=[],this.sliderContainerWidth=0,this.transition="none",this.isMobile=!1,this.canShift=!0,(0,_.Z)(this,st,new B.x)}ngOnInit(){this.activeSlideIndex+=this.slidesCount,(0,y.Z)(this,mi,ps).call(this),(0,y.Z)(this,pn,pi).call(this),this.loadData(),this._observeWindowResize(),gt.u.resize$.pipe((0,T.b)(()=>(0,y.Z)(this,pn,pi).call(this)),(0,de.R)((0,m.Z)(this,st))).subscribe(),gt.u.isMobile$.pipe((0,T.b)(n=>{this.isMobile=n,this.cdRef.markForCheck()}),(0,de.R)((0,m.Z)(this,st))).subscribe()}ngOnDestroy(){(0,m.Z)(this,st).next(),(0,m.Z)(this,st).unsubscribe()}onLoadData(){this.canShift=!0}loadData(n=this.getDefaultIndex()){(0,_.Z)(this,mn,this.activeSlideIndex),this.cdRef.detectChanges()}getDefaultIndex(){return 0===(0,m.Z)(this,Bt)?this.activeSlideIndex+this.slidesCount-1:this.activeSlideIndex}doSlide(){this.canShift=!1,this.transition="0.4s ease-in-out"}get slidesWidth(){return`${this.sliderContainerWidth*this.items.length}${z.PX}`}get slideWidth(){return`${this.sliderContainerWidth/this.slidesCount}${z.PX}`}get shift(){return`translate3d(-${this.activeSlideIndex*this.sliderContainerWidth/this.slidesCount}${z.PX}, 0${z.PX}, 0${z.PX})`}shouldSlideBeenShown(n){return(0,m.Z)(this,mn)===n}swipeToRight(){this.blockManualSwiping||this.slideToRight()}swipeToLeft(){this.blockManualSwiping||this.slideToLeft()}slideToRight(){this.canShift&&((0,_.Z)(this,Bt,0),this.doSlide(),this.activeSlideIndex++,this.cdRef.detectChanges())}get currentItem(){return this.items[this.activeSlideIndex]}slideToLeft(){this.canShift&&((0,_.Z)(this,Bt,1),this.doSlide(),this.activeSlideIndex--,this.cdRef.detectChanges())}onTransitionEnd(){this.transition="none",setTimeout(()=>{if(this.activeSlideIndex===this.slidesCount-1){this.activeSlideIndex=this.items.length-(this.slidesCount+1);for(let n=this.activeSlideIndex+this.slidesCount;n>=this.activeSlideIndex;n--)this.loadData(n)}else this.activeSlideIndex===this.items.length-this.slidesCount?(this.activeSlideIndex=this.slidesCount,this.loadData()):this.loadData();this.cdRef.detectChanges(),this.transitionEnd.emit()},0)}onSlideClick(n,t){n.stopPropagation(),this.slideClick.emit(t-this.slidesCount)}onEmitDataFromItem(n){this.emitDataFromItem.emit(n)}_observeWindowResize(){gt.u.observeWindowResize().pipe((0,de.R)((0,m.Z)(this,st))).subscribe()}}function ps(){for(let i=this.slidesCount;i>0;i--)this.items.push(this.slides[this.slides.length-i]);Array.prototype.push.apply(this.items,this.slides);for(let i=0;i<this.slidesCount;i++)this.items.push(this.slides[i])}function pi(){this.sliderContainerWidth=this.slidesContainerEl.nativeElement.offsetWidth,this.cdRef.markForCheck()}function gs(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.slideToLeft())}),e._uU(1," \u25b7 "),e.qZA()}if(2&i){const t=e.oxw();e.Udp("color",t.controlColor)}}function _s(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"slide-item-resolver",11),e.NdJ("loadedData",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onLoadData())})("emittedData",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onEmitDataFromItem(r))}),e.qZA()}if(2&i){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("component",o.itemComponent)("data",t)}}function fs(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(r){const a=e.CHM(t).index,l=e.oxw();return e.KtG(l.onSlideClick(r,a))})("swipeleft",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.swipeToRight())})("swiperight",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.swipeToLeft())}),e.YNc(1,_s,1,2,"slide-item-resolver",10),e.qZA()}if(2&i){const t=n.index,o=e.oxw();e.Udp("width",o.slideWidth),e.xp6(1),e.Q6J("ngIf",o.shouldSlideBeenShown(t))}}function vs(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.slideToRight())}),e._uU(1," \u25b7 "),e.qZA()}if(2&i){const t=e.oxw();e.Udp("color",t.controlColor)}}_e.\u0275fac=function(n){return new(n||_e)(e.Y36(e.sBO),e.Y36(e.R0b))},_e.\u0275cmp=e.Xpm({type:_e,selectors:[["carousel"]],viewQuery:function(n,t){if(1&n&&(e.Gf(as,7),e.Gf(ls,7)),2&n){let o;e.iGM(o=e.CRH())&&(t.slidesContainerEl=o.first),e.iGM(o=e.CRH())&&(t.carouselSlidesEl=o.first)}},inputs:{slides:"slides",itemComponent:"itemComponent",slidesCount:"slidesCount",height:"height",activeSlideIndex:"activeSlideIndex",showControls:"showControls",controlColor:"controlColor",blockManualSwiping:"blockManualSwiping"},outputs:{slideClick:"slideClick",transitionEnd:"transitionEnd",emitDataFromItem:"emitDataFromItem"},standalone:!0,features:[e.jDz],decls:8,vars:10,consts:[[1,"carousel"],["class","carousel__control carousel__control--left",3,"color","click",4,"ngIf"],[1,"carousel__slides-container"],["slidesContainer",""],[1,"carousel__slides",3,"ngStyle","transitionend"],["carouselSlides",""],["class","carousel__slide",3,"width","click","swipeleft","swiperight",4,"ngFor","ngForOf"],["class","carousel__control carousel__control--right",3,"color","click",4,"ngIf"],[1,"carousel__control","carousel__control--left",3,"click"],[1,"carousel__slide",3,"click","swipeleft","swiperight"],[3,"component","data","loadedData","emittedData",4,"ngIf"],[3,"component","data","loadedData","emittedData"],[1,"carousel__control","carousel__control--right",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,cs,2,2,"div",1),e.TgZ(2,"div",2,3)(4,"div",4,5),e.NdJ("transitionend",function(){return t.onTransitionEnd()}),e.YNc(6,us,2,3,"div",6),e.qZA()(),e.YNc(7,hs,2,2,"div",7),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",t.showControls&&!t.isMobile),e.xp6(1),e.Udp("height",t.height),e.xp6(2),e.Q6J("ngStyle",e.kEZ(6,ms,t.slidesWidth,t.shift,t.transition)),e.xp6(2),e.Q6J("ngForOf",t.items),e.xp6(1),e.Q6J("ngIf",t.showControls&&!t.isMobile))},dependencies:[f.O5,f.ax,f.PC,hi],styles:[".carousel[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;position:relative}.carousel__control[_ngcontent-%COMP%]{display:grid;place-items:center;justify-content:center;width:4rem;height:100%;position:absolute;top:0;font-size:4rem;font-weight:700;cursor:pointer;z-index:1}.carousel__control--right[_ngcontent-%COMP%]{right:0}.carousel__control--left[_ngcontent-%COMP%]{left:0;transform:rotateY(180deg)}.carousel__slides[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.carousel__slides-container[_ngcontent-%COMP%]{width:100%;overflow:hidden}.carousel__slide[_ngcontent-%COMP%]{height:100%;float:left}"],changeDetection:0}),(0,Pe.gn)([ui.A],_e.prototype,"_observeWindowResize",null);const Cs=function(i,n,t){return{width:i,transform:n,transition:t}};let gi=(()=>{var i=new WeakMap;class n extends _e{constructor(o,r){super(o,r),(0,x.Z)(this,i,{writable:!0,value:void 0}),this.interval=5e3}ngOnDestroy(){super.ngOnDestroy(),clearTimeout((0,m.Z)(this,i))}onBlur(){clearTimeout((0,m.Z)(this,i))}onFocus(){this._startAutoSliding()}onLoadData(){this._startAutoSliding()}doSlide(){clearTimeout((0,m.Z)(this,i)),super.doSlide()}loadData(){clearTimeout((0,m.Z)(this,i)),super.loadData()}_startAutoSliding(){clearTimeout((0,m.Z)(this,i)),this.canShift=!0,(0,_.Z)(this,i,setTimeout(()=>this.slideToRight(),this.interval))}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(e.sBO),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["auto-carousel"]],hostBindings:function(o,r){1&o&&e.NdJ("blur",function(){return r.onBlur()},!1,e.Jf7)("focus",function(){return r.onFocus()},!1,e.Jf7)},inputs:{interval:"interval"},standalone:!0,features:[e.qOj,e.jDz],decls:8,vars:10,consts:[[1,"carousel"],["class","carousel__control carousel__control--left",3,"color","click",4,"ngIf"],[1,"carousel__slides-container"],["slidesContainer",""],[1,"carousel__slides",3,"ngStyle","transitionend"],["carouselSlides",""],["class","carousel__slide",3,"width","click","swipeleft","swiperight",4,"ngFor","ngForOf"],["class","carousel__control carousel__control--right",3,"color","click",4,"ngIf"],[1,"carousel__control","carousel__control--left",3,"click"],[1,"carousel__slide",3,"click","swipeleft","swiperight"],[3,"component","data","loadedData","emittedData",4,"ngIf"],[3,"component","data","loadedData","emittedData"],[1,"carousel__control","carousel__control--right",3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e.YNc(1,gs,2,2,"div",1),e.TgZ(2,"div",2,3)(4,"div",4,5),e.NdJ("transitionend",function(){return r.onTransitionEnd()}),e.YNc(6,fs,2,3,"div",6),e.qZA()(),e.YNc(7,vs,2,2,"div",7),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",r.showControls&&!r.isMobile),e.xp6(1),e.Udp("height",r.height),e.xp6(2),e.Q6J("ngStyle",e.kEZ(6,Cs,r.slidesWidth,r.shift,r.transition)),e.xp6(2),e.Q6J("ngForOf",r.items),e.xp6(1),e.Q6J("ngIf",r.showControls&&!r.isMobile))},dependencies:[f.O5,f.ax,f.PC,hi],styles:[".carousel[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;position:relative}.carousel__control[_ngcontent-%COMP%]{display:grid;place-items:center;justify-content:center;width:4rem;height:100%;position:absolute;top:0;font-size:4rem;font-weight:700;cursor:pointer;z-index:1}.carousel__control--right[_ngcontent-%COMP%]{right:0}.carousel__control--left[_ngcontent-%COMP%]{left:0;transform:rotateY(180deg)}.carousel__slides[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.carousel__slides-container[_ngcontent-%COMP%]{width:100%;overflow:hidden}.carousel__slide[_ngcontent-%COMP%]{height:100%;float:left}"],changeDetection:0}),n})();var ys=u(3099),L=u(2188);let Tt=(()=>{class i{constructor(t,o){this._elementRef=t,this._renderer=o}ngOnChanges(){this._renderer.setStyle(this._elementRef.nativeElement,L.L.VISIBILITY,this.isVisible?"visible":"hidden")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj))},i.\u0275dir=e.lG2({type:i,selectors:[["","isVisible",""]],inputs:{isVisible:"isVisible"},standalone:!0,features:[e.TTD]}),i})();var _i=u(2925),at=new WeakMap;class xe{constructor(n,t){(0,x.Z)(this,at,{writable:!0,value:void 0}),this.ngZone=n,this.document=t,(0,_.Z)(this,at,new B.x)}ngOnInit(){this._observeWindowResize(),gt.u.resize$.pipe((0,T.b)(()=>this.setGameSizes()),(0,de.R)((0,m.Z)(this,at))).subscribe(),gt.u.isMobile$.pipe((0,T.b)(()=>De.B.setBodyPadding(this.document.body)),(0,de.R)((0,m.Z)(this,at))).subscribe()}ngAfterViewInit(){this.setGameSizes()}ngOnDestroy(){(0,m.Z)(this,at).next(null),(0,m.Z)(this,at).unsubscribe()}_observeWindowResize(){gt.u.observeWindowResize().pipe((0,de.R)((0,m.Z)(this,at))).subscribe()}}xe.\u0275fac=function(n){return new(n||xe)(e.Y36(e.R0b),e.Y36(f.K0))},xe.\u0275dir=e.lG2({type:xe}),(0,Pe.gn)([ui.A],xe.prototype,"_observeWindowResize",null);let bs=(()=>{class i extends xe{constructor(t,o,r,s){super(r,s),this._elementRef=t,this._renderer=o}setGameSizes(){this._renderer.setStyle(this._elementRef.nativeElement,L.L.HEIGHT,`${De.B.getViewPortHeight()}${z.PX}`)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(f.K0))},i.\u0275dir=e.lG2({type:i,selectors:[["","gameViewportSizer",""]],standalone:!0,features:[e.qOj]}),i})();function ws(i,n){1&i&&e._UZ(0,"spinner")}const Ts=["*"];let se=(()=>{var i=new WeakSet;class n{constructor(r){(0,E.Z)(this,i),this._translationsService=r,this.loadGame=new e.vpe}ngOnInit(){this.gameLoaded$=(0,ve.D)([this.gameLoader,Y.d.getAllBaseSounds(),(0,me.of)(null).pipe(Ue(300)),(0,y.Z)(this,i,t).call(this)]).pipe((0,$.U)(()=>(this.loadGame.emit(),!0)),(0,ys.B)())}}function t(){return this._translationsService.loadTranslation("game_started").pipe((0,$.U)(o=>j.A.updateStepInfo({title:o.start_game,style:{color:v.r.PURPLE}})))}return n.\u0275fac=function(r){return new(r||n)(e.Y36(S.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["game-spinner-wrapper"]],inputs:{gameLoader:"gameLoader"},outputs:{loadGame:"loadGame"},standalone:!0,features:[e.jDz],ngContentSelectors:Ts,decls:5,vars:6,consts:[[4,"ngIf"],["gameViewportSizer","",1,"h--100",3,"isVisible"]],template:function(r,s){1&r&&(e.F$t(),e.YNc(0,ws,1,0,"spinner",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.ALo(3,"async"),e.Hsn(4),e.qZA()),2&r&&(e.Q6J("ngIf",!e.lcZ(1,2,s.gameLoaded$)),e.xp6(2),e.Q6J("isVisible",e.lcZ(3,4,s.gameLoaded$)))},dependencies:[f.O5,f.Ov,Tt,_i.O,bs],encapsulation:2,changeDetection:0}),n})();function Ss(i,n){if(1&i&&(e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"auto-carousel",4),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("slides",t.items)("itemComponent",t.itemComponent)("height","500px")("showControls",!0)}}const Is={path:"theme_description",loadComponent:ne,providers:[{provide:ie.s,useValue:[ae,(()=>{var i=new WeakSet;class n{constructor(r){(0,E.Z)(this,i),this._themeItemsService=r,this.items=null,this.gameLoader=null,this.itemComponent=rs}ngOnInit(){(0,y.Z)(this,i,t).call(this)}}function t(){this.gameLoader=this._themeItemsService.getItems().pipe((0,T.b)(o=>this.items=o))}return n.\u0275fac=function(r){return new(r||n)(e.Y36(k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[e._Bn([k]),e.jDz],decls:2,vars:2,consts:[[3,"gameLoader"],["class","theme",4,"ngIf"],[1,"theme"],[1,"theme__carousel"],[3,"slides","itemComponent","height","showControls"]],template:function(r,s){1&r&&(e.TgZ(0,"game-spinner-wrapper",0),e.YNc(1,Ss,3,4,"div",1),e.qZA()),2&r&&(e.Q6J("gameLoader",s.gameLoader),e.xp6(1),e.Q6J("ngIf",null==s.items?null:s.items.length))},dependencies:[gi,f.O5,se],styles:[".theme[_ngcontent-%COMP%]{display:grid;width:100%;max-width:700px;height:100%;margin:auto}.theme__carousel[_ngcontent-%COMP%]{overflow:hidden;align-self:center}"],changeDetection:0}),n})()]}]};let Es=(()=>{var i=new WeakMap;class n extends ze{constructor(o){super(),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._cdRef=o,this.loaded=!1,(0,_.Z)(this,i,null)}ngAfterViewInit(){this._showItem()}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}_showItem(){(0,_.Z)(this,i,ot.O.getImage(this.data.img).pipe(Ue(300),(0,T.b)(()=>this.onDataLoad(this.data))).subscribe())}onDataLoad(o){var r=()=>super.onDataLoad,s=this;return(0,re.Z)(function*(){s.loaded=!0,s._cdRef.detectChanges(),yield o.playTitle(),yield o.playOwnSound(),r().call(s,o)})()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(o,r){if(1&o&&e.Gf(je.n,5),2&o){let s;e.iGM(s=e.CRH())&&(r.preloadImgVCh=s.first)}},inputs:{data:"data"},standalone:!0,features:[e.qOj,e.jDz],decls:6,vars:5,consts:[[3,"loaded"],[1,"item"],[1,"item__img",3,"src"],[1,"item__title"]],template:function(o,r){1&o&&(e.TgZ(0,"spinner-wrapper",0)(1,"figure",1),e._UZ(2,"img",2),e.TgZ(3,"div",3),e._uU(4),e.ALo(5,"capitalizeFirstLetter"),e.qZA()()()),2&o&&(e.Q6J("loaded",r.loaded),e.xp6(2),e.Q6J("src",r.data.img,e.LSH),e.xp6(2),e.hij(" ",e.lcZ(5,3,r.data.title)," "))},dependencies:[dn.C,F.G],styles:[".item[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.item__img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:400px;margin:auto}.item__title[_ngcontent-%COMP%]{text-align:center;font-size:3rem}"],changeDetection:0}),n})();function xs(i,n){if(1&i&&(e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"auto-carousel",4),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("slides",t.items)("itemComponent",t.itemComponent)("interval",2e3)("height","500px")("showControls",!0)}}const Ms={path:"theme_sounds",loadComponent:ne,providers:[{provide:ie.s,useValue:[ae,(()=>{var i=new WeakSet;class n{constructor(r){(0,E.Z)(this,i),this._themeItemsService=r,this.gameLoader=null,this.items=null,this.itemComponent=Es}ngOnInit(){(0,y.Z)(this,i,t).call(this)}}function t(){this.gameLoader=this._themeItemsService.getItems(r=>r.hasOwnSound).pipe((0,T.b)(r=>this.items=r))}return n.\u0275fac=function(r){return new(r||n)(e.Y36(k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[e._Bn([k]),e.jDz],decls:2,vars:2,consts:[[3,"gameLoader"],["class","theme",4,"ngIf"],[1,"theme"],[1,"theme__carousel"],[3,"slides","itemComponent","interval","height","showControls"]],template:function(r,s){1&r&&(e.TgZ(0,"game-spinner-wrapper",0),e.YNc(1,xs,3,5,"div",1),e.qZA()),2&r&&(e.Q6J("gameLoader",s.gameLoader),e.xp6(1),e.Q6J("ngIf",null==s.items?null:s.items.length))},dependencies:[f.O5,se,gi],styles:[".theme[_ngcontent-%COMP%]{display:grid;width:100%;max-width:700px;height:100%;margin:auto}.theme__carousel[_ngcontent-%COMP%]{overflow:hidden;align-self:center}"],changeDetection:0}),n})()]}]},As={0:v.r.PINK,1:v.r.ORANGE,2:v.r.GREEN},Ps={0:"3 - 4",1:"4 - 5",2:"5 - 6"};class Fs{constructor(n,t){this.id=n;const o=Ps[this.id];this.title=`${o} ${t[o]}`,this.color=As[this.id]}}var K=u(5713);const Ce=new e.OlP("AGES_CONFIG_TOKEN"),fi=new e.OlP("STEPS_TO_RESET_TOKEN");let Rs=(()=>{var i=new WeakSet;class n{constructor(){(0,E.Z)(this,i)}static _getStyleProp(r){return`style.${r}`}ngOnInit(){(0,y.Z)(this,i,t).call(this)}onMouseEnter(){this.color=this.borderColor=v.r.WHITE,this.bgColor=this.age.color,this.boxShadow=`0 0 16px 3px ${v.r.LIGHT_GREY}`}onMouseLeave(){(0,y.Z)(this,i,t).call(this)}}function t(){this.color=this.borderColor=this.age.color,this.bgColor=v.r.WHITE,this.boxShadow="none"}return n.\u0275fac=function(r){return new(r||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","ageItemColorize",""]],hostVars:8,hostBindings:function(r,s){1&r&&e.NdJ("mouseenter",function(){return s.onMouseEnter()})("mouseleave",function(){return s.onMouseLeave()}),2&r&&e.Udp("color",s.color)("border-color",s.borderColor)("background-color",s.bgColor)("box-shadow",s.boxShadow)},inputs:{age:["ageItemColorize","age"]},standalone:!0}),n})();function ks(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.chooseAge(s))}),e._uU(1),e.qZA()}if(2&i){const t=n.$implicit;e.Q6J("ageItemColorize",t),e.xp6(1),e.hij(" ",t.title," ")}}function Zs(i,n){if(1&i&&(e.TgZ(0,"div",1)(1,"div",2),e._uU(2),e.ALo(3,"capitalizeFirstLetter"),e.qZA(),e.YNc(4,ks,2,2,"div",3),e.qZA()),2&i){const t=n.ngIf;e.xp6(2),e.hij("",e.lcZ(3,2,t.title),"?"),e.xp6(2),e.Q6J("ngForOf",t.ages)}}let Te=(()=>{class i{constructor(t,o,r){this._agesConfig=t,this._stepsToReset=o,this._translationsService=r,this.content$=this._translationsService.loadTranslation("ages").pipe((0,$.U)(s=>({title:s.title,ages:Array.from(this._agesConfig.keys()).map(a=>new Fs(a,s))})))}ngOnInit(){K.k.setAgesConfig(this._agesConfig),this._stepsToReset&&j.A.resetSteps(this._stepsToReset)}chooseAge(t){K.k.setAgeId(t.id),j.A.updateStepInfo({title:t.title,style:{color:t.color}}),j.A.goToNext()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ce),e.Y36(fi,8),e.Y36(S.f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["age-choice"]],standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[["class","ages-choice",4,"ngIf"],[1,"ages-choice"],[1,"ages-choice__title"],["class","ages-choice__age",3,"ageItemColorize","click",4,"ngFor","ngForOf"],[1,"ages-choice__age",3,"ageItemColorize","click"]],template:function(t,o){1&t&&(e.YNc(0,Zs,5,4,"div",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,o.content$))},dependencies:[F.G,Rs,f.Ov,f.O5,f.ax],styles:[".ages-choice__title[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center;font-size:3rem;color:#70b}.ages-choice__age[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:2rem auto;padding:.5rem;text-align:center;font-size:2rem;font-weight:bolder;border:2px solid;border-radius:50%;cursor:pointer}"],changeDetection:0}),i})();var Ls=u(8737);function Fe(i,n=null){return n=n??i,(0,rt.e)((t,o)=>{let r=[],s=0;t.subscribe((0,Je.x)(o,a=>{let l=null;s++%n==0&&r.push([]);for(const c of r)c.push(a),i<=c.length&&(l=l??[],l.push(c));if(l)for(const c of l)(0,Ls.P)(r,c),o.next(c)},()=>{for(const a of r)o.next(a);o.complete()},void 0,()=>{r=null}))})}var Ns=u(2415);class V{static shuffle(n){if(n.length<1)return console.warn("Empty array!"),n;const t=[...n];for(;!(0,Ns.Z)(V,V,Vs).call(V,n,t);)t.sort(()=>Math.random()-.5);return t}static getRandItems(n,t=n.length){if(t>n.length)throw new Error(`maxArrLength ${t} should be equal or less than items length ${n.length}`);const o=V.shuffle(n);return o.length=t,o}static getDoubledRandItems(n,t=n.length){const o=V.getRandItems(n,t);return V.shuffle([...o,...o])}static uniq(n){return Array.from(new Set(n))}static getSequence(n,t=0){const o=[];for(let r=t;r<n;r++)o.push(r);return o}static groupArrByLength(n,t){const o=new Map;let r=0,s=0,a=0;for(;a<n.length;)s=r*t,a=s+t,o.set(r,n.slice(s,a)),r++;return o}static getRndInteger(n,t){return Math.floor(Math.random()*(t-n))+n}static getRndArrElem(n){return n[V.getRndInteger(0,n.length)]}}function Vs(i,n){for(const[t,o]of i.entries())if(o!==n[t])return!0;return!1}const vi="card--rotated",gn=2,Bs=["card"];let Gs=(()=>{var i=new WeakMap;class n{constructor(o){(0,x.Z)(this,i,{writable:!0,value:void 0}),this._renderer=o,this.cardRotate=new e.vpe,this.transitionEnd=new e.vpe,(0,_.Z)(this,i,!1)}isOpen(){return(0,m.Z)(this,i)}rotateForward(){(0,_.Z)(this,i,!0),this._renderer.addClass(this.cardVCh.nativeElement,vi)}rotateBack(){(0,_.Z)(this,i,!1),this._renderer.removeClass(this.cardVCh.nativeElement,vi)}onCardClick(){(0,m.Z)(this,i)||this.cardRotate.emit(this)}onTransitionEnd(){this.transitionEnd.emit(this)}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["card"]],viewQuery:function(o,r){if(1&o&&e.Gf(Bs,7),2&o){let s;e.iGM(s=e.CRH())&&(r.cardVCh=s.first)}},inputs:{item:"item"},outputs:{cardRotate:"cardRotate",transitionEnd:"transitionEnd"},standalone:!0,features:[e.jDz],decls:7,vars:1,consts:[[1,"card-container",3,"click"],[1,"card",3,"transitionend"],["card",""],[1,"card__front"],[1,"card__back","radial-gradient--medium-grey"],[1,"card__img",3,"src"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return r.onCardClick()}),e.TgZ(1,"div",1,2),e.NdJ("transitionend",function(){return r.onTransitionEnd()}),e.TgZ(3,"div",3),e._uU(4,"?"),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"img",5),e.qZA()()()),2&o&&(e.xp6(6),e.Q6J("src",r.item.img,e.LSH))},styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}[_nghost-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center;transition:transform 1s;transform-style:preserve-3d}.card-container[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto;perspective:1000px}.card--rotated[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card__front[_ngcontent-%COMP%], .card__back[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center;position:absolute;-webkit-backface-visibility:hidden;backface-visibility:hidden;border-radius:8px}.card__front[_ngcontent-%COMP%]{background:radial-gradient(#7085dc,#5c74d7);color:#fff;font-family:Helvetica,sans-serif;font-size:4rem;cursor:pointer}.card__back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}"],changeDetection:0}),n})(),Re=(()=>{class i extends xe{constructor(t,o,r,s){super(r,s),this._elementRef=t,this._renderer=o,this.rowsAmount=1,this.columnsAmount=1,this.itemSize=300,this.coeff=1}ngOnInit(){super.ngOnInit(),this._renderer.setStyle(this._elementRef.nativeElement,L.L.DISPLAY,"grid"),this._renderer.setStyle(this._elementRef.nativeElement,L.L.GRID_GAP,`0.5${z.REM}`),this._renderer.setStyle(this._elementRef.nativeElement,L.L.JUSTIFY_CONTENT,"center")}setGameSizes(){const t=Math.min(this.itemSize,De.B.getGridContainerMinDimension()/Math.max(this.rowsAmount,this.columnsAmount)-12);this._renderer.setStyle(this._elementRef.nativeElement,L.L.GRID_TEMPLATE_COLUMNS,`repeat(${this.columnsAmount}, ${t}${z.PX})`),this._renderer.setStyle(this._elementRef.nativeElement,L.L.GRID_TEMPLATE_ROWS,`repeat(${this.rowsAmount}, ${t*this.coeff}${z.PX})`)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(f.K0))},i.\u0275dir=e.lG2({type:i,selectors:[["","gridSizer",""]],inputs:{rowsAmount:"rowsAmount",columnsAmount:"columnsAmount",itemSize:"itemSize",coeff:"coeff"},standalone:!0,features:[e.qOj]}),i})();function zs(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"card",3),e.NdJ("cardRotate",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.card$.next(r))})("transitionEnd",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.onCardTransitionEnd(r))}),e.qZA()}2&i&&e.Q6J("item",n.$implicit)}const Ws={path:"find_the_pair",loadComponent:ne,providers:[{provide:ie.s,useValue:[Te,ae,(()=>{var i=new WeakMap,n=new WeakMap,t=new WeakMap,o=new WeakMap,r=new WeakMap,s=new WeakSet,a=new WeakSet,l=new WeakSet,c=new WeakSet;class d{constructor(G){(0,E.Z)(this,c),(0,E.Z)(this,l),(0,E.Z)(this,a),(0,E.Z)(this,s),(0,x.Z)(this,i,{writable:!0,value:void 0}),(0,x.Z)(this,n,{writable:!0,value:void 0}),(0,x.Z)(this,t,{writable:!0,value:void 0}),(0,x.Z)(this,o,{writable:!0,value:void 0}),(0,x.Z)(this,r,{writable:!0,value:void 0}),this._themeItemsService=G,this.gameLoader=null,this.items=null,this.card$=new B.x,this.rowsAmount=K.k.getAgesConfig().totalCards/2,(0,_.Z)(this,i,new B.x),(0,_.Z)(this,n,new B.x),(0,_.Z)(this,t,new B.x),(0,_.Z)(this,o,0),(0,_.Z)(this,r,0)}ngOnInit(){(0,y.Z)(this,s,h).call(this)}ngOnDestroy(){(0,m.Z)(this,t).next(),(0,m.Z)(this,t).unsubscribe()}onCardTransitionEnd(G){G.isOpen()?(0,m.Z)(this,i).next(G):(0,m.Z)(this,n).next(G)}}function h(){this.gameLoader=this._themeItemsService.getItems().pipe((0,T.b)(R=>{this.items=V.getDoubledRandItems(R,K.k.getAgesConfig().totalCards),(0,_.Z)(this,r,0),(0,y.Z)(this,l,D).call(this),(0,y.Z)(this,c,M).call(this)}),(0,Q.z)(()=>(0,ve.D)([k.preloadThemeItemsImgs(this.items),Y.d.preloadThemeItemsTitleSounds(this.items)])))}function p(R){return g.apply(this,arguments)}function g(){return(g=(0,re.Z)(function*(R){R[0].item.img===R[1].item.img?((0,y.Z)(this,l,D).call(this),yield R[0].item.playTitle(),setTimeout(()=>{var G;(0,_.Z)(this,r,(G=(0,m.Z)(this,r),++G))===K.k.getAgesConfig().totalCards&&j.A.gameCompleted()},100)):setTimeout(()=>{R.forEach(G=>G.rotateBack())},K.k.getAgesConfig().openCardsShowTime)})).apply(this,arguments)}function D(){(0,_.Z)(this,o,0)}function M(){this.card$.pipe((0,H.h)(()=>{var R;return(0,_.Z)(this,o,(R=(0,m.Z)(this,o),++R))<=gn}),(0,T.b)(R=>R.rotateForward()),(0,de.R)((0,m.Z)(this,t))).subscribe(),(0,m.Z)(this,i).pipe(Fe(gn),(0,T.b)(R=>(0,y.Z)(this,a,p).call(this,R)),(0,de.R)((0,m.Z)(this,t))).subscribe(),(0,m.Z)(this,n).pipe(Fe(gn),(0,T.b)(()=>(0,y.Z)(this,l,D).call(this)),(0,de.R)((0,m.Z)(this,t))).subscribe()}return d.\u0275fac=function(G){return new(G||d)(e.Y36(k))},d.\u0275cmp=e.Xpm({type:d,selectors:[["ng-component"]],standalone:!0,features:[e._Bn([k]),e.jDz],decls:3,vars:4,consts:[[3,"gameLoader"],["gridSizer","",3,"rowsAmount","columnsAmount"],[3,"item","cardRotate","transitionEnd",4,"ngFor","ngForOf"],[3,"item","cardRotate","transitionEnd"]],template:function(G,X){1&G&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1),e.YNc(2,zs,1,1,"card",2),e.qZA()()),2&G&&(e.Q6J("gameLoader",X.gameLoader),e.xp6(1),e.Q6J("rowsAmount",X.rowsAmount)("columnsAmount",4),e.xp6(1),e.Q6J("ngForOf",X.items))},dependencies:[f.ax,Gs,se,Re],encapsulation:2,changeDetection:0}),d})()]},{provide:Ce,useValue:new Map([[0,{totalCards:4,openCardsShowTime:2e3}],[1,{totalCards:6,openCardsShowTime:1500}],[2,{totalCards:8,openCardsShowTime:1e3}]])}]};class Oe{static getItemsToChoose(n){return Oe.itemsToChoose=V.getRandItems(n,8),Oe.itemsToChoose}static get bgUrl(){return`${J.J.getGameThemeFolderById("who_disappeared")}bg.${Ie.D.PNG}`}constructor(n){this._http=n}getCoords(){const n=`${J.J.getGameThemeFolderById("who_disappeared")}coords.${Ie.D.JSON}`;return this._fetchCoords(n)}_fetchCoords(n){return this._http.get(n)}}Oe.itemsToChoose=null,Oe.items=null,(0,Pe.gn)([(0,Ge.q)()],Oe.prototype,"_fetchCoords",null);let Hs=(()=>{class i extends Oe{constructor(t){super(t),this.gameIdForTranslation="who_disappeared"}buildItemsAfterHiding(){return i.items.splice(1)}getIdToFind(){return i.items=V.shuffle(i.items),i.items[0].id}getRandItems(){return i.items=V.getRandItems(i.itemsToChoose,K.k.getAgesConfig().amount),i.items}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Ne.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),St=(()=>{class i extends xe{constructor(t,o,r,s){super(r,s),this._elementRef=t,this._renderer=o,this.img=null}setGameSizes(){this._renderer.removeStyle(this._elementRef.nativeElement,L.L.MAX_WIDTH);const t=this.img?.getBoundingClientRect().width;t&&this._renderer.setStyle(this._elementRef.nativeElement,L.L.MAX_WIDTH,`${t}${z.PX}`)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(f.K0))},i.\u0275dir=e.lG2({type:i,selectors:[["","imgWrapper",""]],inputs:{img:"img"},standalone:!0,features:[e.qOj]}),i})();var ye=(()=>{return(i=ye||(ye={})).SHAKE_HORIZONTAL="shake-horizontal",i.SLIDE_IN_FWD_CENTER="slide-in-fwd-center",i.PULSATE_FWD="pulsate-fwd",i.ROTATE_IN_CENTER="rotate-in-center",i.ROTATE_OUT_CENTER="rotate-out-center",i.BOUNCE_IN_FWD="bounce-in-fwd",ye;var i})();const $s=["imgs"];let Ci=(()=>{var i=new WeakMap,n=new WeakMap,t=new WeakSet,o=new WeakSet,r=new WeakSet,s=new WeakSet,a=new WeakSet;class l{constructor(){(0,E.Z)(this,a),(0,E.Z)(this,s),(0,E.Z)(this,r),(0,E.Z)(this,o),(0,E.Z)(this,t),(0,x.Z)(this,i,{writable:!0,value:void 0}),(0,x.Z)(this,n,{writable:!0,value:void 0}),this.bgUrl=Oe.bgUrl,this.percentage=z.PERCENTAGE,this.gameLoader=null,this.gameLoaded=!1,this.coords=null,this.items=null,this.itemsToChoose=null,this.time=0,this.showItemsBar=!1,this.question="",this.animationEnd$=new B.x,this.variant$=new B.x,(0,_.Z)(this,i,""),(0,_.Z)(this,n,new B.x),this._commonService=(0,e.f3M)(Oe),this._themeItemsService=(0,e.f3M)(k),this._translationsService=(0,e.f3M)(S.f),this._renderer=(0,e.f3M)(e.Qsj)}ngOnInit(){De.B.chosenGameId="who_disappeared",(0,y.Z)(this,t,c).call(this)}ngOnDestroy(){(0,m.Z)(this,n).next(),(0,m.Z)(this,n).unsubscribe()}onLoadGame(){this.gameLoaded=!0,requestAnimationFrame(()=>this.imgWrapperVCh.setGameSizes())}hideItems(){(0,y.Z)(this,r,h).call(this,ye.ROTATE_OUT_CENTER)}animateCorrectImg(R){this._renderer.setStyle(R,L.L.OPACITY,1),this._renderer.removeClass(R,ye.ROTATE_IN_CENTER),this._renderer.addClass(R,ye.PULSATE_FWD)}}function c(){this.gameLoader=(0,ve.D)({coords:this._commonService.getCoords(),items:this._themeItemsService.getItems(),bg:ot.O.getImage(this.bgUrl),question:this._translationsService.loadTranslation(`games/${this._commonService.gameIdForTranslation}`)}).pipe((0,T.b)(M=>{this.itemsToChoose=Oe.getItemsToChoose(M.items),this.items=this._commonService.getRandItems(),this.coords=V.shuffle(M.coords),this.time=K.k.getAgesConfig().time,this.question=M.question[J.J.getChosenTheme().id]}),(0,Q.z)(()=>k.preloadThemeItemsImgs(this.itemsToChoose))),this.animationEnd$.pipe((0,Ee.q)(K.k.getAgesConfig().amount),Fe(K.k.getAgesConfig().amount),(0,T.b)(()=>(0,y.Z)(this,o,d).call(this)),Ue(400),(0,T.b)(()=>{(0,y.Z)(this,r,h).call(this,ye.ROTATE_IN_CENTER),(0,y.Z)(this,s,p).call(this)}),(0,de.R)((0,m.Z)(this,n))).subscribe()}function d(){(0,_.Z)(this,i,this._commonService.getIdToFind()),this.imgsVCh.changes.pipe((0,Ee.q)(1),(0,T.b)(()=>{this.imgsVCh.forEach(M=>{this._renderer.setStyle(M.nativeElement,L.L.OPACITY,0),this._renderer.removeClass(M.nativeElement,ye.ROTATE_OUT_CENTER)})}),(0,de.R)((0,m.Z)(this,n))).subscribe(),this.items=this._commonService.buildItemsAfterHiding(),this.coords=V.shuffle(this.coords)}function h(M){this.imgsVCh.forEach(R=>this._renderer.addClass(R.nativeElement,M))}function p(){this.showItemsBar=!0,this.variant$.pipe((0,T.b)(M=>(0,y.Z)(this,a,g).call(this,M)),(0,de.R)((0,m.Z)(this,n))).subscribe()}function g(M){return D.apply(this,arguments)}function D(){return(D=(0,re.Z)(function*(M){M.id===(0,m.Z)(this,i)?(this.variant$.complete(),this.defineCorrectImg(M),yield Y.d.playWinSound()):yield Y.d.playErrorSound()})).apply(this,arguments)}return l.\u0275fac=function(R){return new(R||l)},l.\u0275dir=e.lG2({type:l,viewQuery:function(R,G){if(1&R&&(e.Gf(je.n,5),e.Gf(Re,5),e.Gf(St,5),e.Gf($s,5)),2&R){let X;e.iGM(X=e.CRH())&&(G.preloadImgVCh=X.first),e.iGM(X=e.CRH())&&(G.gridSizerVCh=X.first),e.iGM(X=e.CRH())&&(G.imgWrapperVCh=X.first),e.iGM(X=e.CRH())&&(G.imgsVCh=X)}}}),l})();function yi(i=0,n=Vt.z){return i<0&&(i=0),hn(i,i,n)}let Gt=(()=>{var i=new WeakMap,n=new WeakSet;class t{constructor(s){(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._cdRef=s,this.time=0,this.timeIsOver=new e.vpe,this.width=100,(0,_.Z)(this,i,null)}ngOnChanges(s){s.time.currentValue!==s.time.previousValue&&(0,y.Z)(this,n,o).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}}function o(){const s=1e3*this.time/20;(0,_.Z)(this,i,yi(20).pipe((0,Ee.q)(s),(0,T.b)(a=>{this.width=100-100*(a+1)/s,this._cdRef.detectChanges()}),(0,H.h)(a=>a===s-1),(0,T.b)(()=>this.timeIsOver.emit(!0))).subscribe())}return t.\u0275fac=function(s){return new(s||t)(e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["progress-bar"]],inputs:{time:"time"},outputs:{timeIsOver:"timeIsOver"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:3,consts:[[1,"container",3,"isVisible"],[1,"container__inner"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&s&&(e.Q6J("isVisible",a.width>0),e.xp6(1),e.Udp("width",a.width+"%"))},dependencies:[Tt],styles:[".container[_ngcontent-%COMP%]{height:1rem;margin-top:.5rem;margin-bottom:.5rem;padding:.1rem;border-radius:.5rem;border:1px solid #cccccc}.container__inner[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:inherit;background-color:#00d36f}"],changeDetection:0}),t})();function js(i,n){if(1&i&&(e.TgZ(0,"header",2),e._uU(1),e.ALo(2,"capitalizeFirstLetter"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header),"\n")}}function Ys(i,n){if(1&i&&(e.TgZ(0,"figcaption",8),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("ngStyle",t.titleStyle),e.xp6(1),e.hij(" ",t.title," ")}}function Js(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"figure",5)(1,"img",6),e.NdJ("click",function(r){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.onItemClick(r,a))}),e.qZA(),e.YNc(2,Ys,2,2,"figcaption",7),e.qZA()}if(2&i){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("src",t.img,e.LSH)("ngStyle",t.imgStyle),e.xp6(1),e.Q6J("ngIf",o.showTitle)}}function Qs(i,n){if(1&i&&(e.TgZ(0,"div",3),e.YNc(1,Js,3,3,"figure",4),e.qZA()),2&i){const t=e.oxw();e.Q6J("itemSize",100)("columnsAmount",t.items.length),e.xp6(1),e.Q6J("ngForOf",t.items)}}let lt=(()=>{class i{constructor(){this.items=[],this.header="",this.showTitle=!1,this.itemClick=new e.vpe}onItemClick(t,o){t.stopPropagation(),this.itemClick.emit(o)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["theme-items-bar"]],inputs:{items:"items",header:"header",showTitle:"showTitle"},outputs:{itemClick:"itemClick"},standalone:!0,features:[e.jDz],decls:2,vars:2,consts:[["class","header text--center",4,"ngIf"],["gridSizer","",3,"itemSize","columnsAmount",4,"ngIf"],[1,"header","text--center"],["gridSizer","",3,"itemSize","columnsAmount"],["class","figure d--flex m--auto h--100",4,"ngFor","ngForOf"],[1,"figure","d--flex","m--auto","h--100"],[1,"figure__img","d--block","m--auto","cursor--pointer",3,"src","ngStyle","click"],["class","figure__title text--center",3,"ngStyle",4,"ngIf"],[1,"figure__title","text--center",3,"ngStyle"]],template:function(t,o){1&t&&(e.YNc(0,js,3,3,"header",0),e.YNc(1,Qs,2,3,"div",1)),2&t&&(e.Q6J("ngIf",o.header),e.xp6(1),e.Q6J("ngIf",null==o.items?null:o.items.length))},dependencies:[F.G,f.O5,f.ax,f.PC,Re],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.header[_ngcontent-%COMP%]{font-size:2rem;font-style:italic}@media screen and (max-width: 567px){.header[_ngcontent-%COMP%]{font-size:1rem}}.figure[_ngcontent-%COMP%]{flex-direction:column}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.figure__title[_ngcontent-%COMP%]{font-size:1.25rem}@media screen and (max-width: 567px){.figure__title[_ngcontent-%COMP%]{font-size:1rem}}@media screen and (max-width: 480px){.figure__title[_ngcontent-%COMP%]{display:none}}"]}),i})();function Ks(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"progress-bar",8),e.NdJ("timeIsOver",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.hideItems())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("time",t.time)}}const qs=function(i,n,t){return{top:i,left:n,maxHeight:t}};function Xs(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"img",9,10),e.NdJ("animationend",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.animationEnd$.next())}),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,r=e.oxw();e.Q6J("src",t.img,e.LSH)("ngStyle",e.kEZ(2,qs,r.coords[o].top+"%",r.coords[o].left+"%","23%"))}}const ta={path:"who_disappeared",loadComponent:ne,providers:[{provide:ie.s,useValue:[Te,ae,(()=>{class i extends Ci{constructor(){super()}defineCorrectImg(t){this.imgsVCh.changes.subscribe(()=>this.animateCorrectImg(this.imgsVCh.last.nativeElement)),this.items.push(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[e._Bn([k,{provide:Oe,useClass:Hs}]),e.qOj,e.jDz],decls:8,vars:8,consts:[[3,"gameLoader","loadGame"],[1,"container","h-max--100"],[3,"time","timeIsOver",4,"ngIf"],["imgWrapper","",1,"items","h--100","p--relative","overflow--hidden",3,"img"],[1,"d--block","w-max--100","h-max--100",3,"src"],["bg",""],["class","p--absolute",3,"src","ngStyle","animationend",4,"ngFor","ngForOf"],[3,"isVisible","items","header","itemClick"],[3,"time","timeIsOver"],[1,"p--absolute",3,"src","ngStyle","animationend"],["imgs",""]],template:function(t,o){if(1&t&&(e.TgZ(0,"game-spinner-wrapper",0),e.NdJ("loadGame",function(){return o.onLoadGame()}),e.TgZ(1,"div",1),e.YNc(2,Ks,1,1,"progress-bar",2),e.TgZ(3,"figure",3),e._UZ(4,"img",4,5),e.YNc(6,Xs,2,6,"img",6),e.qZA(),e.TgZ(7,"theme-items-bar",7),e.NdJ("itemClick",function(s){return o.variant$.next(s)}),e.qZA()()()),2&t){const r=e.MAs(5);e.Q6J("gameLoader",o.gameLoader),e.xp6(2),e.Q6J("ngIf",o.gameLoaded),e.xp6(1),e.Q6J("img",r),e.xp6(1),e.Q6J("src",o.bgUrl,e.LSH),e.xp6(2),e.Q6J("ngForOf",o.items),e.xp6(1),e.Q6J("isVisible",o.showItemsBar)("items",o.itemsToChoose)("header",o.question+"?")}},dependencies:[f.ax,f.O5,f.PC,se,Gt,St,lt,Tt],styles:[".rotate-in-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-in-center .6s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_rotate-in-center{0%{transform:rotate(-360deg);opacity:0}to{transform:rotate(0);opacity:1}}.rotate-out-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-out-center .6s cubic-bezier(.55,.085,.68,.53) both}@keyframes _ngcontent-%COMP%_rotate-out-center{0%{transform:rotate(0);opacity:1}to{transform:rotate(-360deg);opacity:0}}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.container[_ngcontent-%COMP%]{display:grid;grid-template-rows:min-content 1fr min-content}.items[_ngcontent-%COMP%]{margin:0 auto}"],changeDetection:0}),i})()]},{provide:Ce,useValue:new Map([[0,{time:12,amount:4}],[1,{time:10,amount:6}],[2,{time:8,amount:8}]])}]};let na=(()=>{var i=new WeakMap;class n extends Oe{constructor(o){super(o),(0,x.Z)(this,i,{writable:!0,value:void 0}),this.gameIdForTranslation="who_appeared",(0,_.Z)(this,i,null)}buildItemsAfterHiding(){return n.items.push((0,m.Z)(this,i)),V.shuffle(n.items)}getIdToFind(){return(0,m.Z)(this,i).id}getRandItems(){return n.items=V.getRandItems(n.itemsToChoose,K.k.getAgesConfig().amount+1),(0,_.Z)(this,i,n.items.pop()),n.items}}return n.\u0275fac=function(o){return new(o||n)(e.LFG(Ne.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function ia(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"progress-bar",8),e.NdJ("timeIsOver",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.hideItems())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("time",t.time)}}const oa=function(i,n,t){return{top:i,left:n,maxHeight:t}};function ra(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"img",9,10),e.NdJ("animationend",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.animationEnd$.next())}),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,r=e.oxw();e.Q6J("src",t.img,e.LSH)("ngStyle",e.kEZ(2,oa,r.coords[o].top+"%",r.coords[o].left+"%","23%"))}}const aa={path:"who_appeared",loadComponent:ne,providers:[{provide:ie.s,useValue:[Te,ae,(()=>{class i extends Ci{constructor(){super()}defineCorrectImg(t){const o=this.items.findIndex(s=>s.id===t.id),r=this.imgsVCh.get(o).nativeElement;this.animateCorrectImg(r)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[e._Bn([k,{provide:Oe,useClass:na}]),e.qOj,e.jDz],decls:8,vars:8,consts:[[3,"gameLoader","loadGame"],[1,"container","h-max--100"],[3,"time","timeIsOver",4,"ngIf"],["imgWrapper","",1,"items","h--100","p--relative","overflow--hidden",3,"img"],[1,"d--block","w-max--100","h-max--100",3,"src"],["bg",""],["class","p--absolute",3,"src","ngStyle","animationend",4,"ngFor","ngForOf"],[3,"isVisible","items","header","itemClick"],[3,"time","timeIsOver"],[1,"p--absolute",3,"src","ngStyle","animationend"],["imgs",""]],template:function(t,o){if(1&t&&(e.TgZ(0,"game-spinner-wrapper",0),e.NdJ("loadGame",function(){return o.onLoadGame()}),e.TgZ(1,"div",1),e.YNc(2,ia,1,1,"progress-bar",2),e.TgZ(3,"figure",3),e._UZ(4,"img",4,5),e.YNc(6,ra,2,6,"img",6),e.qZA(),e.TgZ(7,"theme-items-bar",7),e.NdJ("itemClick",function(s){return o.variant$.next(s)}),e.qZA()()()),2&t){const r=e.MAs(5);e.Q6J("gameLoader",o.gameLoader),e.xp6(2),e.Q6J("ngIf",o.gameLoaded),e.xp6(1),e.Q6J("img",r),e.xp6(1),e.Q6J("src",o.bgUrl,e.LSH),e.xp6(2),e.Q6J("ngForOf",o.items),e.xp6(1),e.Q6J("isVisible",o.showItemsBar)("items",o.itemsToChoose)("header",o.question+"?")}},dependencies:[f.ax,f.O5,f.PC,se,Gt,St,lt,Tt],styles:[".rotate-in-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-in-center .6s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_rotate-in-center{0%{transform:rotate(-360deg);opacity:0}to{transform:rotate(0);opacity:1}}.rotate-out-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-out-center .6s cubic-bezier(.55,.085,.68,.53) both}@keyframes _ngcontent-%COMP%_rotate-out-center{0%{transform:rotate(0);opacity:1}to{transform:rotate(-360deg);opacity:0}}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.container[_ngcontent-%COMP%]{display:grid;grid-template-rows:min-content 1fr min-content}.items[_ngcontent-%COMP%]{margin:0 auto}"],changeDetection:0}),i})()]},{provide:Ce,useValue:new Map([[0,{time:12,amount:3}],[1,{time:10,amount:5}],[2,{time:8,amount:7}]])}]};let bi=(()=>{class i{constructor(t,o){this._addStepsService=t,this._translationsService=o}getQuestions(){const t=`games/look_at_the_picture/${J.J.getChosenTheme().id}/`+J.J.getChosenSetSegment(this._addStepsService.chosenSetIndex);return this._translationsService.loadTranslation(t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(we),e.LFG(S.f))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),zt=(()=>{class i{constructor(t,o){this._elementRef=t,this._renderer=o,this.isCorrect=null,this.isCorrectAnimationClass=ye.PULSATE_FWD,this.isNotCorrectAnimationClass=ye.SHAKE_HORIZONTAL}ngOnChanges(){null===this.isCorrect&&(this._renderer.removeClass(this._elementRef.nativeElement,this.isCorrectAnimationClass),this._renderer.removeClass(this._elementRef.nativeElement,this.isNotCorrectAnimationClass)),!0===this.isCorrect&&this._renderer.addClass(this._elementRef.nativeElement,this.isCorrectAnimationClass),!1===this.isCorrect&&this._renderer.addClass(this._elementRef.nativeElement,this.isNotCorrectAnimationClass)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj))},i.\u0275dir=e.lG2({type:i,selectors:[["","isCorrect",""]],inputs:{isCorrect:"isCorrect",isCorrectAnimationClass:"isCorrectAnimationClass",isNotCorrectAnimationClass:"isNotCorrectAnimationClass"},standalone:!0,features:[e.TTD]}),i})(),wi=(()=>{class i{constructor(){this.fill="",this.colors=v.r}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["blot"]],inputs:{fill:"fill"},standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[[1,"blot"],["stroke-width","8","d","M740 882 c-34 -11 -65 -52 -105 -138 -42 -90 -80 -134 -115 -134 -20 0 -25 11 -46 88 -20 75 -40 109 -74 127 -34 18 -69 12 -99 -17 -29 -26 -22 -72 25 -155 43 -77 48 -100 29 -130 -21 -31 -48 -29 -88 7 -115 101 -250 89 -243 -21 4 -57 40 -86 116 -94 100 -12 115 -15 140 -34 17 -12 26 -29 28 -53 3 -29 -4 -44 -38 -83 -43 -50 -50 -88 -19 -108 22 -14 65 -1 90 26 47 51 52 56 60 51 5 -3 9 -30 9 -60 0 -50 2 -55 27 -65 22 -8 30 -6 50 13 21 20 23 28 18 70 -6 44 -5 48 14 48 14 0 25 -11 35 -35 18 -41 45 -46 76 -13 26 28 26 28 -10 73 -22 27 -27 42 -20 49 16 16 58 -12 95 -64 20 -28 45 -50 69 -59 34 -13 39 -13 64 6 19 14 28 31 30 56 4 48 -27 78 -106 100 -67 19 -92 40 -75 65 8 13 27 17 86 18 58 1 83 6 109 22 58 36 76 109 38 150 -26 28 -32 27 -104 -2 -44 -18 -65 -22 -78 -15 -25 14 -16 42 33 101 69 83 91 160 56 195 -14 14 -56 22 -77 15z",2,"transform","scale(0.1)"]],template:function(t,o){1&t&&(e.O4$(),e.TgZ(0,"svg",0),e._UZ(1,"path",1),e.qZA()),2&t&&(e.uIk("viewBox","0 0 100 100"),e.xp6(1),e.uIk("fill",o.fill)("stroke",o.colors.LIGHT_GREY))},styles:[".blot[_ngcontent-%COMP%]{width:100%;max-width:100px}"],changeDetection:0}),i})();function la(i,n){if(1&i&&(e.TgZ(0,"div",6),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function ca(i,n){if(1&i&&e._UZ(0,"blot",7),2&i){const t=e.oxw().$implicit;e.Q6J("fill",t.value)}}function da(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"li",3),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.variant$.next(s))}),e.YNc(1,la,2,1,"div",4),e.YNc(2,ca,1,1,"blot",5),e.qZA()}if(2&i){const t=n.$implicit,o=e.oxw();e.Q6J("isCorrect",t.isCorrect),e.xp6(1),e.Q6J("ngIf",!o.isColor(t.value)),e.xp6(1),e.Q6J("ngIf",o.isColor(t.value))}}let ua=(()=>{var i=new WeakMap;class n extends ze{constructor(){super(),(0,x.Z)(this,i,{writable:!0,value:void 0}),this.data=null,this.colors=v.r,this.variant$=new B.x,(0,_.Z)(this,i,null)}ngOnInit(){var o=this;super.onDataLoad(this.data),(0,_.Z)(this,i,this.variant$.pipe((0,Ee.q)(1),(0,T.b)(function(){var r=(0,re.Z)(function*(s){s.isCorrect=o.data.isAnswerCorrect(s),s.isCorrect?yield Y.d.playRightSound():yield Y.d.playErrorSound(),o.emitData(s.isCorrect)});return function(s){return r.apply(this,arguments)}}())).subscribe())}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}isColor(o){return o.startsWith("#")||o.startsWith("rgb(")||o.startsWith("rgba(")}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!0,features:[e.qOj,e.jDz],decls:6,vars:4,consts:[[1,"text--center","slide-in-fwd-center"],[1,"text--center"],["class","variant",3,"isCorrect","click",4,"ngFor","ngForOf"],[1,"variant",3,"isCorrect","click"],["class","variant--text",4,"ngIf"],[3,"fill",4,"ngIf"],[1,"variant--text"],[3,"fill"]],template:function(o,r){1&o&&(e.TgZ(0,"header")(1,"h1",0),e._uU(2),e.ALo(3,"capitalizeFirstLetter"),e.qZA()(),e.TgZ(4,"ul",1),e.YNc(5,da,3,3,"li",2),e.qZA()),2&o&&(e.xp6(2),e.hij("",e.lcZ(3,2,r.data.question),"?"),e.xp6(3),e.Q6J("ngForOf",r.data.variants))},dependencies:[F.G,f.O5,f.ax,zt,wi],styles:[".shake-horizontal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes _ngcontent-%COMP%_shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.slide-in-fwd-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-in-fwd-center .4s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_slide-in-fwd-center{0%{transform:translateZ(-1400px);opacity:0}to{transform:translateZ(0);opacity:1}}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.variant[_ngcontent-%COMP%]{display:inline-block;margin:1rem;cursor:pointer}.variant--text[_ngcontent-%COMP%]{padding:.75rem;font-size:2rem;font-style:italic;color:#333;border-radius:.25rem;border:1px solid #9e9e9e;text-align:center;background-color:#fff;transition:.1s}.variant--text[_ngcontent-%COMP%]:hover{box-shadow:0 1px #fff,0 2px #fff,0 3px #fff,0 4px 2px #fff,1px 0 #fff,2px 0 #fff,3px 0 #fff,4px 0 2px #fff,0 -1px #fff,0 -2px #fff,0 -3px #fff,0 -4px 2px #fff,-1px 0 #fff,-2px 0 #fff,-3px 0 #fff,-4px 0 2px #fff;transform:scale(1.1)}"],changeDetection:0}),n})();var Ut=new WeakMap;class ha{constructor(n){(0,x.Z)(this,Ut,{writable:!0,value:void 0}),this.question="",this.variants=null,(0,_.Z)(this,Ut,null),this.question=n.question,(0,_.Z)(this,Ut,n.answer),this.variants=n.variants.map((t,o)=>({value:t,index:o,isCorrect:null}))}isAnswerCorrect(n){return n.index===(0,m.Z)(this,Ut)}}function ma(i,n){if(1&i&&(e.O4$(),e.TgZ(0,"svg",2),e._UZ(1,"path",3),e.qZA()),2&i){const t=n.$implicit,o=e.oxw();e.Udp("transform",t?"":"rotate(180deg)"),e.Q6J("ngClass",!0===t?o.animations.BOUNCE_IN_FWD:o.animations.SHAKE_HORIZONTAL),e.uIk("viewBox","0 0 100 100"),e.xp6(1),e.uIk("fill",!0===t?o.colors.GREEN:o.colors.PINK)}}let _t=(()=>{class i{constructor(){this.answers=[],this.colors=v.r,this.animations=ye}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["answers-bar"]],inputs:{answers:"answers"},standalone:!0,features:[e.jDz],decls:2,vars:1,consts:[[1,"container"],["class","thumb",3,"ngClass","transform",4,"ngFor","ngForOf"],[1,"thumb",3,"ngClass"],["d","M57.9,1.8c0.7,0,1.4,0,2.1,0c0.1,0.1,0.3,0.1,0.4,0.2c4,0.9,6.8,3.2,8.1,7.1c1.7,5,1.3,10-0.8,14.8  c-1.4,3.3-3.1,6.6-4.6,9.9c-0.7,1.6-1.1,3.3-0.9,5.1c0.2,1.1,0.2,1.1,1.3,1.1c6.8-0.2,13.5-0.3,20.3,0.2c1.7,0.1,3.4,0.1,4.9,1  c2.7,1.7,4.4,4.3,5.6,7.3c0.6,1.5,0.4,2.7-0.6,3.9c-0.5,0.6-0.9,1.2-1.3,1.8c-1,1.2-1.1,2.4-0.3,3.8c0.7,1.1,1.3,2.2,1.9,3.3  c0.9,1.6,0.9,2.4-0.3,3.9c-0.7,0.9-1.5,1.8-2.3,2.8c-0.8,0.9-1,1.9-0.6,3.1c0.5,1.4,1,2.7,1.5,4c0.6,1.5,0.4,2.8-0.6,4  c-1.1,1.3-2.3,2.4-3.5,3.7c-0.7,0.8-1.1,1.7-1.1,2.7c0,1,0.1,2,0,3c0,0.6-0.2,1.2-0.5,1.7c-1,1.8-2.4,3.1-4,4.3  c-1.5,1.2-3.1,2.2-5.1,2.4c-2.4,0.3-4.8,0.6-7.2,0.6c-5.8,0-11.6-0.3-17.4-0.5c-2.2-0.1-4.5-0.2-6.7-0.6c-6.4-1.1-12.8-2.4-19.2-3.5  c-0.7-0.1-0.8-0.4-0.8-1c0-12.5,0-25,0-37.5c0-0.3,0-0.6,0-0.9c0.4,0,0.7,0,1.1,0c1.7,0.2,3.2-0.5,4.3-1.6c1.3-1.3,2.5-2.7,3.5-4.1  c2.9-4.2,5.1-8.9,6.9-13.7c1.2-3.1,3.1-5.5,5.7-7.5c1.4-1.1,2.7-2.3,3.8-3.7c2.2-2.9,3.1-6.4,3.7-9.9c0.5-2.9,0.8-5.9,1-8.9  C56.5,2.8,56.9,2.1,57.9,1.8z M3.5,92.4c0.8,2.3,2.4,3.1,4.8,3.1c3.4-0.1,6.7,0,10.1,0c0.4,0,0.9,0,1.3-0.1c1.9-0.5,3-2,3-4.2  c0-6,0-12,0-18c0-5.8,0-11.5,0-17.3c0-2.8-1.6-4.4-4.4-4.4c-3.5,0-7,0-10.5,0c-1.4,0-2.7,0.4-3.6,1.6c-0.3,0.4-0.5,0.9-0.7,1.4  C3.5,67.1,3.5,79.7,3.5,92.4z"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ma,2,5,"svg",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.answers))},dependencies:[f.ax,f.mk],styles:[".bounce-in-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce-in-fwd 1.1s both}@keyframes _ngcontent-%COMP%_bounce-in-fwd{0%{transform:scale(0);animation-timing-function:ease-in;opacity:0}38%{transform:scale(1);animation-timing-function:ease-out;opacity:1}55%{transform:scale(.7);animation-timing-function:ease-in}72%{transform:scale(1);animation-timing-function:ease-out}81%{transform:scale(.84);animation-timing-function:ease-in}89%{transform:scale(1);animation-timing-function:ease-out}95%{transform:scale(.95);animation-timing-function:ease-in}to{transform:scale(1);animation-timing-function:ease-out}}.shake-horizontal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes _ngcontent-%COMP%_shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.container[_ngcontent-%COMP%]{display:flex;height:100px;align-items:center;justify-content:center}.thumb[_ngcontent-%COMP%]{width:100%;max-width:100px;margin:0 1rem}"]}),i})();const pa=["variants"];function ga(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"progress-bar",7),e.NdJ("timeIsOver",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.hidePicture())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("time",t.time)}}function _a(i,n){if(1&i&&e._UZ(0,"img",8),2&i){const t=e.oxw();e.Q6J("src",t.img,e.LSH)}}function fa(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"carousel",10,11),e.NdJ("emitDataFromItem",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.answer$.next(r))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("slides",t.questions)("height","auto")("blockManualSwiping",!0)("itemComponent",t.questionComponent)}}let va=(()=>{var i=new WeakMap,n=new WeakSet,t=new WeakSet;class o{constructor(l,c,d){(0,E.Z)(this,t),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._cdRef=l,this._lookAtThePictureService=c,this._themeItemsService=d,this.questionComponent=ua,this.gameLoader=null,this.gameLoaded=!1,this.items=null,this.img="",this.time=20,this.showPicture=!0,this.answers=[],this.answer$=new B.x,(0,_.Z)(this,i,null)}ngOnInit(){(0,y.Z)(this,n,r).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}hidePicture(){this.showPicture=!1,this._cdRef.detectChanges()}}function r(){this.gameLoader=(0,ve.D)({items:this._themeItemsService.getItems(),questions:this._lookAtThePictureService.getQuestions()}).pipe((0,Q.z)(a=>(this.img=a.items[0].img,a.questions)),(0,$.U)(a=>new ha(a)),(0,oe.q)(),(0,T.b)(a=>this.questions=a),(0,Q.z)(()=>ot.O.getImage(this.img)),(0,T.b)(()=>(0,y.Z)(this,t,s).call(this)))}function s(){(0,_.Z)(this,i,this.answer$.pipe((0,T.b)(a=>{this.answers.push(a),this.variantsCarouselVCh.slideToRight(),this._cdRef.detectChanges()}),Fe(this.questions.length),(0,T.b)(a=>a.some(l=>!l)?j.A.gameFailed():j.A.gameCompleted())).subscribe())}return o.\u0275fac=function(l){return new(l||o)(e.Y36(e.sBO),e.Y36(bi),e.Y36(k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(l,c){if(1&l&&e.Gf(pa,5),2&l){let d;e.iGM(d=e.CRH())&&(c.variantsCarouselVCh=d.first)}},standalone:!0,features:[e._Bn([bi,k]),e.jDz],decls:7,vars:5,consts:[[3,"gameLoader","loadGame"],[1,"container"],[1,"w--100"],[3,"time","timeIsOver",4,"ngIf"],["class","picture",3,"src",4,"ngIf"],["class","w--100 overflow-x--hidden",4,"ngIf"],[3,"answers"],[3,"time","timeIsOver"],[1,"picture",3,"src"],[1,"w--100","overflow-x--hidden"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem"],["variants",""]],template:function(l,c){1&l&&(e.TgZ(0,"game-spinner-wrapper",0),e.NdJ("loadGame",function(){return c.gameLoaded=!0}),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,ga,1,1,"progress-bar",3),e.qZA(),e.YNc(4,_a,1,1,"img",4),e.YNc(5,fa,3,4,"div",5),e._UZ(6,"answers-bar",6),e.qZA()()),2&l&&(e.Q6J("gameLoader",c.gameLoader),e.xp6(3),e.Q6J("ngIf",c.gameLoaded),e.xp6(1),e.Q6J("ngIf",c.showPicture&&c.img),e.xp6(1),e.Q6J("ngIf",!c.showPicture),e.xp6(1),e.Q6J("answers",c.answers))},dependencies:[se,Gt,f.O5,_e,_t],styles:[".container[_ngcontent-%COMP%]{display:grid;height:100%;grid-auto-rows:min-content 1fr min-content;place-items:center}.picture[_ngcontent-%COMP%]{display:block;width:100%;max-width:600px;margin:auto}"],changeDetection:0}),o})();function Ca(i,n){1&i&&e.GkF(0)}const ya=function(i){return{$implicit:i}};function ba(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"span",5),e.NdJ("click",function(){const s=e.CHM(t).index,a=e.oxw().ngIf,l=e.oxw();return e.KtG(l.choosePicture(s,{title:a.stepInfoTitle,style:{color:l.colors.PINK}}))}),e.YNc(1,Ca,1,0,"ng-container",6),e.qZA()}if(2&i){const t=n.$implicit;e.oxw();const o=e.MAs(8),r=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",r.customSetTmpl||o)("ngTemplateOutletContext",e.VKq(2,ya,t))}}function wa(i,n){1&i&&e._UZ(0,"img",7),2&i&&e.Q6J("preloadImg",n.$implicit.icon)}function Ta(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"header")(2,"h1",1),e._uU(3),e.ALo(4,"capitalizeFirstLetter"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,ba,2,4,"span",3),e.qZA(),e.YNc(7,wa,1,1,"ng-template",null,4,e.W1O),e.BQk()),2&i){const t=n.ngIf;e.xp6(3),e.hij("",e.lcZ(4,2,t.title),":"),e.xp6(3),e.Q6J("ngForOf",t.sets)}}let ft=(()=>{class i{constructor(t,o){this._addStepService=t,this._translationsService=o,this.customSetTmpl=null,this.content$=null,this.colors=v.r,this.title=""}ngOnInit(){this.content$=this._addStepService.getAddItems().pipe((0,Q.z)(t=>1===t.length?(this.choosePicture(),(0,me.of)(null)):this._translationsService.loadTranslation("add_steps").pipe((0,$.U)(o=>({sets:t,title:o.choose_picture,stepInfoTitle:o.to_choose_picture})))))}choosePicture(t=0,o=null){this._addStepService.chosenSetIndex=t,j.A.updateStepInfo(o),j.A.goToNext()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(we),e.Y36(S.f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pictures-choice"]],inputs:{customSetTmpl:"customSetTmpl"},standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"text--center"],[1,"pictures"],[3,"click",4,"ngFor","ngForOf"],["setTmpl",""],[3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d--block","w--100","cursor--pointer",3,"preloadImg"]],template:function(t,o){1&t&&(e.YNc(0,Ta,9,4,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,o.content$))},dependencies:[f.Ov,f.O5,f.ax,f.tP,je.n,F.G],styles:[".pictures[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:3rem}"],changeDetection:0}),i})();class Sa{constructor(n){this.icon="",this.icon=`${J.J.getCustomGameThemeFolder()}${n.id}/img/set_icon.${n.ext}`}}class ke extends we{constructor(n){super(),this._http=n}getAddItems(){const n=`${J.J.getCustomGameThemeFolder()}items_sets.${Ie.D.JSON}`;return this._fetchItemsSets(n).pipe((0,pe.J)(),(0,$.U)(t=>new Sa(t)),(0,oe.q)())}_fetchItemsSets(n){return this._http.get(n)}}ke.\u0275fac=function(n){return new(n||ke)(e.LFG(Ne.eN))},ke.\u0275prov=e.Yz7({token:ke,factory:ke.\u0275fac}),(0,Pe.gn)([(0,Ge.q)()],ke.prototype,"_fetchItemsSets",null);const Da={path:"look_at_the_picture",loadComponent:ne,providers:[{provide:ie.s,useValue:[ae,ft,va]},{provide:we,useClass:ke}]};var Ia=u(7886);class We extends we{constructor(n){super(),this._http=n}getAddItems(){const n=`${De.B.getGameFolder()}themes/${J.J.getChosenTheme().id}.${Ie.D.JSON}`;return this._fetchPictures(n).pipe((0,Ia.u)(),(0,H.h)(t=>K.k.getAgeId()>=t.minAgeId),(0,$.U)(t=>t.paths),(0,oe.q)())}_fetchPictures(n){return this._http.get(n)}}We.\u0275fac=function(n){return new(n||We)(e.LFG(Ne.eN))},We.\u0275prov=e.Yz7({token:We,factory:We.\u0275fac}),(0,Pe.gn)([(0,Ge.q)()],We.prototype,"_fetchPictures",null);var Ea=u(1481);let xa=(()=>{var i=new WeakSet;class n{constructor(r){(0,E.Z)(this,i),this._sanitizer=r,this.cursor=null}ngOnChanges(){this.cursor=(0,y.Z)(this,i,t).call(this)}}function t(){const r=`"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='40px' height='40px' viewBox='0 0 40 40' enable-background='new 0 0 40 40' xml:space='preserve'%3E%3Cpath fill='%23${this.color.substring(1)}' stroke='%23383838' stroke-miterlimit='10' d='M9.662,13.208c1.955-1.163,3.54-3.893,2.158-6.067C10.304,4.758,6.036,6.84,4.871,4.544C4.358,3.535,5.509,2.26,4.998,1.25c-1.69,1.492-3.306,3.017-3.476,5.39C1.184,11.355,4.763,16.12,9.662,13.208z'/%3E%3Cpath fill='%23383838' stroke='%23383838' stroke-miterlimit='10' d='M19.665,28.435c-7.157-6.254-11.103-13.492-9.453-15.38s8.79,1.65,15.947,7.903s14.243,14.911,12.592,16.799S26.822,34.689,19.665,28.435z'/%3E%3C/svg%3E"`;return this._sanitizer.bypassSecurityTrustStyle(`url(${r}), pointer`)}return n.\u0275fac=function(r){return new(r||n)(e.Y36(Ea.H7))},n.\u0275dir=e.lG2({type:n,selectors:[["","cursorBrush",""]],hostVars:2,hostBindings:function(r,s){2&r&&e.Udp("cursor",s.cursor)},inputs:{color:["cursorBrush","color"]},standalone:!0,features:[e.TTD]}),n})();function Oa(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"progress-bar",7),e.NdJ("timeIsOver",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.discolorPicture())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("time",t.time)}}function Ma(i,n){if(1&i){const t=e.EpF();e.O4$(),e.TgZ(0,"path",8),e.NdJ("click",function(r){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.applyColor(r,a))}),e.qZA()}if(2&i){const t=n.$implicit,o=e.oxw();e.uIk("d",t.d)("fill",t.fill)("stroke",o.strokeColor)}}function Aa(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"blot",11),e.NdJ("click",function(r){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.selectColor(r,a))}),e.qZA()}2&i&&e.Q6J("fill",n.$implicit)}function Pa(i,n){if(1&i&&(e.O4$(),e.kcU(),e.TgZ(0,"div",9),e.YNc(1,Aa,1,1,"blot",10),e.qZA()),2&i){const t=e.oxw();e.Q6J("itemSize",100)("rowsAmount",1)("columnsAmount",null==t.blotsColors?null:t.blotsColors.length),e.xp6(1),e.Q6J("ngForOf",t.blotsColors)}}let Fa=(()=>{var i=new WeakMap,n=new WeakSet,t=new WeakSet;class o{constructor(l,c,d){(0,E.Z)(this,t),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._cdRef=l,this._colorizeFromMemoryService=c,this._addStepService=d,this.gameLoader=null,this.gameLoaded=!1,this.picture=null,this.blotsColors=null,this.time=0,this.showBlotsBar=!1,this.selectedColor=v.r.WHITE,this.strokeColor=v.r.BLACK,(0,_.Z)(this,i,null)}ngOnInit(){(0,y.Z)(this,n,r).call(this)}discolorPicture(){this.picture.forEach(l=>!l.static&&(l.fill=v.r.WHITE)),this.showBlotsBar=!0,this._cdRef.detectChanges()}selectColor(l,c){this.showBlotsBar&&(l.stopPropagation(),this.selectedColor=c,this._cdRef.detectChanges())}applyColor(l,c){!this.showBlotsBar||c.static||(l.stopPropagation(),c.fill=this.selectedColor,(0,y.Z)(this,t,s).call(this))}}function r(){this.gameLoader=this._colorizeFromMemoryService.getAddItems().pipe((0,$.U)(a=>a[this._addStepService.chosenSetIndex]),(0,T.b)(a=>{(0,_.Z)(this,i,a.map(l=>({...l}))),this.picture=a.map(l=>({...l})),this.blotsColors=(0,m.Z)(this,i).reduce((l,c)=>(c.static||c.fill===v.r.WHITE||l.some(d=>d===c.fill)||l.push(c.fill),l),[]),this.time=K.k.getAgesConfig()}))}function s(){for(let a=0;a<(0,m.Z)(this,i).length;a++)if((0,m.Z)(this,i)[a].fill!==this.picture[a].fill)return;j.A.gameCompleted()}return o.\u0275fac=function(l){return new(l||o)(e.Y36(e.sBO),e.Y36(We),e.Y36(we))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],standalone:!0,features:[e._Bn([We]),e.jDz],decls:7,vars:6,consts:[[3,"gameLoader","loadGame"],[1,"container","h--100"],[3,"time","timeIsOver",4,"ngIf"],[1,"brush-area","h--100","overflow--hidden",3,"cursorBrush"],[1,"h-max--100","m--auto"],["stroke-width","2",3,"click",4,"ngFor","ngForOf"],["gridSizer","",3,"itemSize","rowsAmount","columnsAmount",4,"ngIf"],[3,"time","timeIsOver"],["stroke-width","2",3,"click"],["gridSizer","",3,"itemSize","rowsAmount","columnsAmount"],[3,"fill","click",4,"ngFor","ngForOf"],[3,"fill","click"]],template:function(l,c){1&l&&(e.TgZ(0,"game-spinner-wrapper",0),e.NdJ("loadGame",function(){return c.gameLoaded=!0}),e.TgZ(1,"div",1),e.YNc(2,Oa,1,1,"progress-bar",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e.YNc(5,Ma,1,3,"path",5),e.qZA(),e.YNc(6,Pa,2,4,"div",6),e.qZA()()()),2&l&&(e.Q6J("gameLoader",c.gameLoader),e.xp6(2),e.Q6J("ngIf",c.gameLoaded),e.xp6(1),e.Q6J("cursorBrush",c.selectedColor),e.xp6(1),e.uIk("viewBox","0 0 400 400"),e.xp6(1),e.Q6J("ngForOf",c.picture),e.xp6(1),e.Q6J("ngIf",c.showBlotsBar))},dependencies:[se,Gt,f.O5,f.ax,xa,wi,Re],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:min-content 1fr min-content}.brush-area[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content}"],changeDetection:0}),o})();function Ra(i,n){if(1&i&&(e.O4$(),e._UZ(0,"path",4)),2&i){const t=n.$implicit,o=e.oxw(2);e.uIk("d",t.d)("fill",o.colors.WHITE)("stroke",o.colors.BLACK)}}function ka(i,n){if(1&i&&(e.O4$(),e.TgZ(0,"svg",2),e.YNc(1,Ra,1,3,"path",3),e.qZA()),2&i){const t=n.$implicit;e.uIk("viewBox","0 0 400 400"),e.xp6(1),e.Q6J("ngForOf",t)}}const La={path:"colorize_from_memory",loadComponent:ne,providers:[{provide:we,useClass:We},{provide:fi,useValue:[1,2,3]},{provide:ii,useValue:!0},{provide:ie.s,useValue:[Te,ae,(()=>{class i{constructor(){this.colors=v.r}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:3,vars:1,consts:[[3,"customSetTmpl"],["pictureTmpl",""],[1,"cursor--pointer"],["stroke-width","1",4,"ngFor","ngForOf"],["stroke-width","1"]],template:function(t,o){if(1&t&&(e._UZ(0,"pictures-choice",0),e.YNc(1,ka,2,2,"ng-template",null,1,e.W1O)),2&t){const r=e.MAs(2);e.Q6J("customSetTmpl",r)}},dependencies:[ft,f.ax],encapsulation:2,changeDetection:0}),i})(),Fa]},{provide:Ce,useValue:new Map([[0,12],[1,10],[2,8]])}]};class _n{constructor(n){this._coords=n,this.style=null,this.style={top:this._getCoord(this._coords.top),left:this._getCoord(this._coords.left),bottom:this._getCoord(this._coords.bottom),right:this._getCoord(this._coords.right)}}_getCoord(n){return`${n||0}${this._coords.unit}`}}function Na(i,n){return(t,o)=>!i.call(n,t,o)}var ue=u(3900);const Ti=5,za=8,Ua=7,Si=12.5,Wa=100/6;var Qe=u(2076);let Di=(()=>{class i{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.Qsj),e.Y36(e.SBq))},i.\u0275dir=e.lG2({type:i}),i})(),ct=(()=>{class i extends Di{}return i.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(i)))(o||i)}}(),i.\u0275dir=e.lG2({type:i,features:[e.qOj]}),i})();const Ve=new e.OlP("NgValueAccessor"),$a={provide:Ve,useExisting:(0,e.Gpc)(()=>fn),multi:!0},Ya=new e.OlP("CompositionEventMode");let fn=(()=>{class i extends Di{constructor(t,o,r){super(t,o),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ja(){const i=(0,f.q)()?(0,f.q)().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(Ya,8))},i.\u0275dir=e.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&e.NdJ("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[e._Bn([$a]),e.qOj]}),i})();const Ja=!1,fe=new e.OlP("NgValidators"),qe=new e.OlP("NgAsyncValidators");function Zi(i){return null!=i}function Li(i){const n=(0,e.QGY)(i)?(0,Qe.D)(i):i;if(Ja&&!(0,e.CqO)(n)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof i&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new e.vHH(-1101,t)}return n}function Ni(i){let n={};return i.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function Vi(i,n){return n.map(t=>t(i))}function Bi(i){return i.map(n=>function Ka(i){return!i.validate}(n)?n:t=>n.validate(t))}function vn(i){return null!=i?function Gi(i){if(!i)return null;const n=i.filter(Zi);return 0==n.length?null:function(t){return Ni(Vi(t,n))}}(Bi(i)):null}function Cn(i){return null!=i?function zi(i){if(!i)return null;const n=i.filter(Zi);return 0==n.length?null:function(t){const o=Vi(t,n).map(Li);return(0,ve.D)(o).pipe((0,$.U)(Ni))}}(Bi(i)):null}function Ui(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function Wi(i){return i._rawValidators}function Hi(i){return i._rawAsyncValidators}function yn(i){return i?Array.isArray(i)?i:[i]:[]}function Ht(i,n){return Array.isArray(i)?i.includes(n):i===n}function $i(i,n){const t=yn(n);return yn(i).forEach(r=>{Ht(t,r)||t.push(r)}),t}function ji(i,n){return yn(n).filter(t=>!Ht(i,t))}class Yi{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=vn(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Cn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class be extends Yi{get formDirective(){return null}get path(){return null}}class Xe extends Yi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ji{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qi=(()=>{class i extends Ji{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Xe,2))},i.\u0275dir=e.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[e.qOj]}),i})(),Ki=(()=>{class i extends Ji{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(be,10))},i.\u0275dir=e.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[e.qOj]}),i})();const Dt="VALID",jt="INVALID",vt="PENDING",It="DISABLED";function Yt(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class to{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Dt}get invalid(){return this.status===jt}get pending(){return this.status==vt}get disabled(){return this.status===It}get enabled(){return this.status!==It}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators($i(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators($i(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(ji(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(ji(n,this._rawAsyncValidators))}hasValidator(n){return Ht(this._rawValidators,n)}hasAsyncValidator(n){return Ht(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=vt,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=It,this.errors=null,this._forEachChild(o=>{o.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Dt,this._forEachChild(o=>{o.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dt||this.status===vt)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?It:Dt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=vt,this._hasOwnPendingAsyncValidator=!0;const t=Li(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((o,r)=>o&&o._find(r),this)}getError(n,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?It:this.errors?jt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vt)?vt:this._anyControlsHaveStatus(jt)?jt:Dt}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Yt(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function ol(i){return Array.isArray(i)?vn(i):i||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function rl(i){return Array.isArray(i)?Cn(i):i||null}(this._rawAsyncValidators)}}const Ct=new e.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Jt}),Jt="always";function Et(i,n,t=Jt){(function En(i,n){const t=Wi(i);null!==n.validator?i.setValidators(Ui(t,n.validator)):"function"==typeof t&&i.setValidators([t]);const o=Hi(i);null!==n.asyncValidator?i.setAsyncValidators(Ui(o,n.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const r=()=>i.updateValueAndValidity();qt(n._rawValidators,r),qt(n._rawAsyncValidators,r)})(i,n),n.valueAccessor.writeValue(i.value),(i.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(i.disabled),function ll(i,n){n.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&no(i,n)})}(i,n),function dl(i,n){const t=(o,r)=>{n.valueAccessor.writeValue(o),r&&n.viewToModelUpdate(o)};i.registerOnChange(t),n._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,n),function cl(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&no(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function al(i,n){if(n.valueAccessor.setDisabledState){const t=o=>{n.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(t),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,n)}function Kt(i,n,t=!0){const o=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(o),n.valueAccessor.registerOnTouched(o)),function Xt(i,n){let t=!1;if(null!==i){if(null!==n.validator){const r=Wi(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==n.validator);s.length!==r.length&&(t=!0,i.setValidators(s))}}if(null!==n.asyncValidator){const r=Hi(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==n.asyncValidator);s.length!==r.length&&(t=!0,i.setAsyncValidators(s))}}}const o=()=>{};return qt(n._rawValidators,o),qt(n._rawAsyncValidators,o),t}(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function qt(i,n){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function no(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function ro(i,n){const t=i.indexOf(n);t>-1&&i.splice(t,1)}function so(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const Pn=class extends to{constructor(n=null,t,o){super(function Sn(i){return(Yt(i)?i.validators:i)||null}(t),function Dn(i,n){return(Yt(n)?n.asyncValidators:i)||null}(o,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yt(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=so(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){ro(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){ro(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){so(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let ho=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),po=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();const Fn=new e.OlP("NgModelWithFormControlWarning"),Tl={provide:Xe,useExisting:(0,e.Gpc)(()=>Rn)};let Rn=(()=>{class i extends Xe{set isDisabled(t){}constructor(t,o,r,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new e.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(o),this.valueAccessor=function Mn(i,n){if(!n)return null;let t,o,r;return Array.isArray(n),n.forEach(s=>{s.constructor===fn?t=s:function ml(i){return Object.getPrototypeOf(i.constructor)===ct}(s)?o=s:r=s}),r||o||t||null}(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const o=t.form.previousValue;o&&Kt(o,this,!1),Et(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function On(i,n){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Kt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return i._ngModelWarningSentOnce=!1,i.\u0275fac=function(t){return new(t||i)(e.Y36(fe,10),e.Y36(qe,10),e.Y36(Ve,10),e.Y36(Fn,8),e.Y36(Ct,8))},i.\u0275dir=e.lG2({type:i,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[e._Bn([Tl]),e.qOj,e.TTD]}),i})();const xl={provide:Ve,useExisting:(0,e.Gpc)(()=>en),multi:!0};function Co(i,n){return null==i?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${i}: ${n}`.slice(0,50))}let en=(()=>{class i extends ct{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=Co(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=o=>{this.value=this._getOptionValue(o),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),t))return o;return null}_getOptionValue(t){const o=function Ol(i){return i.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o):t}}return i.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(i)))(o||i)}}(),i.\u0275dir=e.lG2({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([xl]),e.qOj]}),i})(),yo=(()=>{class i{constructor(t,o,r){this._element=t,this._renderer=o,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Co(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(en,9))},i.\u0275dir=e.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const Ml={provide:Ve,useExisting:(0,e.Gpc)(()=>Nn),multi:!0};function bo(i,n){return null==i?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${i}: ${n}`.slice(0,50))}let Nn=(()=>{class i extends ct{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let o;if(this.value=t,Array.isArray(t)){const r=t.map(s=>this._getOptionId(s));o=(s,a)=>{s._setSelected(r.indexOf(a.toString())>-1)}}else o=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(t){this.onChange=o=>{const r=[],s=o.selectedOptions;if(void 0!==s){const a=s;for(let l=0;l<a.length;l++){const d=this._getOptionValue(a[l].value);r.push(d)}}else{const a=o.options;for(let l=0;l<a.length;l++){const c=a[l];if(c.selected){const d=this._getOptionValue(c.value);r.push(d)}}}this.value=r,t(r)}}_registerOption(t){const o=(this._idCounter++).toString();return this._optionMap.set(o,t),o}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,t))return o;return null}_getOptionValue(t){const o=function Al(i){return i.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o)._value:t}}return i.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(i)))(o||i)}}(),i.\u0275dir=e.lG2({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Ml]),e.qOj]}),i})(),wo=(()=>{class i{constructor(t,o,r){this._element=t,this._renderer=o,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(bo(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(bo(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Nn,9))},i.\u0275dir=e.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})(),Bl=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[po]}),i})(),zl=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:Fn,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ct,useValue:t.callSetDisabledState??Jt}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Bl]}),i})();const Ul=[{value:"how_much",color:v.r.DARK_GREY,hidden:!0},{value:"1",color:v.r.PINK},{value:"2",color:v.r.ORANGE},{value:"3",color:v.r.GREEN},{value:"4",color:v.r.BLUE},{value:"5",color:v.r.PURPLE}];function Wl(i,n){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.value," (")}}function Hl(i,n){1&i&&(e.ynx(0),e._uU(1,")"),e.BQk())}function $l(i,n){if(1&i&&(e.TgZ(0,"option",7),e.YNc(1,Wl,2,1,"ng-container",8),e._uU(2),e.YNc(3,Hl,2,0,"ng-container",8),e.qZA()),2&i){const t=n.$implicit;e.Udp("color",t.color),e.Q6J("ngValue",t),e.uIk("hidden",t.hidden),e.xp6(1),e.Q6J("ngIf",!t.hidden),e.xp6(1),e.hij(" ",t.text,""),e.xp6(1),e.Q6J("ngIf",!t.hidden)}}function jl(i,n){if(1&i&&(e.TgZ(0,"figure",1),e._UZ(1,"img",2),e.TgZ(2,"div",3),e._uU(3,"="),e.qZA(),e.TgZ(4,"form",4)(5,"select",5),e.YNc(6,$l,4,7,"option",6),e.qZA()()()),2&i){const t=n.ngIf,o=e.oxw();e.xp6(1),e.Q6J("src",o.data.img,e.LSH),e.xp6(4),e.Udp("color",o.selection.value.color),e.Q6J("formControl",o.selection),e.xp6(1),e.Q6J("ngForOf",t)}}let Yl=(()=>{var i=new WeakMap,n=new WeakSet;class t extends ze{constructor(s){super(),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._translationsService=s,this.selection=null,this.selections$=null,(0,_.Z)(this,i,null)}ngOnInit(){this.selections$=this._translationsService.loadTranslation("games/count_how_much").pipe((0,Q.z)(s=>(0,me.of)(Ul).pipe((0,pe.J)(),(0,$.U)(a=>({...a,text:s[a.value]})),(0,oe.q)())),(0,T.b)(s=>{this.selection=new Pn(s[0]),(0,y.Z)(this,n,o).call(this),this.onDataLoad(this.data)}))}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}}function o(){(0,_.Z)(this,i,this.selection.valueChanges.pipe((0,Ee.q)(1),(0,T.b)(r=>this.emitData({id:this.data.id,count:+r.value}))).subscribe())}return t.\u0275fac=function(s){return new(s||t)(e.Y36(S.f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:3,consts:[["class","item-to-count",4,"ngIf"],[1,"item-to-count"],[1,"item-to-find__img",3,"src"],[1,"item-to-count__equal"],[1,"d--i-block"],[1,"item-to-count__answer",3,"formControl"],[3,"ngValue","color",4,"ngFor","ngForOf"],[3,"ngValue"],[4,"ngIf"]],template:function(s,a){1&s&&(e.YNc(0,jl,7,5,"figure",0),e.ALo(1,"async")),2&s&&e.Q6J("ngIf",e.lcZ(1,1,a.selections$))},dependencies:[f.O5,f.Ov,f.ax,zl,ho,yo,wo,en,Qi,Ki,Rn],styles:[".item-to-count[_ngcontent-%COMP%]{display:flex;width:100%;max-width:300px;margin:auto;align-items:center;justify-content:space-between}.item-to-count__img[_ngcontent-%COMP%]{max-height:100%}.item-to-count__equal[_ngcontent-%COMP%], .item-to-count__answer[_ngcontent-%COMP%]{padding:5px;font-size:2rem;cursor:pointer}.item-to-count__answer[_ngcontent-%COMP%]{border:3px solid #ff2480;-webkit-appearance:none;appearance:none;border-radius:40px 5px/10px 20px}.item-to-count__answer[_ngcontent-%COMP%]:focus{border:3px solid #5c74d7;outline:none;box-shadow:0 0 10px 4px #ffffffbf}"],changeDetection:0}),t})();const Jl=["itemsToCountCarousel"];function Ql(i,n){if(1&i&&e._UZ(0,"img",8),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.item.img,e.LSH)("ngClass",t.animationClass)("ngStyle",t.coords.style)}}function Kl(i,n){if(1&i&&(e.ynx(0),e.YNc(1,Ql,1,3,"img",7),e.BQk()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.item)}}function ql(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"carousel",10,11),e.NdJ("emitDataFromItem",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.answer$.next(r))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("slides",t.itemsToCount)("height","auto")("blockManualSwiping",!0)("itemComponent",t.itemToCountComponent)}}const ec={path:"count_how_much",loadComponent:ne,providers:[{provide:ie.s,useValue:[Te,ae,(()=>{var i=new WeakMap,n=new WeakSet,t=new WeakSet,o=new WeakSet,r=new WeakSet;class s{constructor(p,g){(0,E.Z)(this,r),(0,E.Z)(this,o),(0,E.Z)(this,t),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._cdRef=p,this._themeItemsService=g,this.gameLoader=null,this.bg=null,this.itemsToFind=null,this.itemsToCount=null,this.answers=[],this.itemToCountComponent=Yl,this.answer$=new B.x,(0,_.Z)(this,i,new B.x)}ngOnInit(){(0,y.Z)(this,n,a).call(this)}ngOnDestroy(){(0,m.Z)(this,i).next(),(0,m.Z)(this,i).unsubscribe()}}function a(){const[h,p]=function Va(i,n,t){return[(0,H.h)(n,t)((0,mt.Xf)(i)),(0,H.h)(Na(n,t))((0,mt.Xf)(i))]}(this._themeItemsService.getItems().pipe((0,pe.J)()),g=>"bg"===g.id);h.pipe((0,T.b)(g=>this.bg=g),(0,de.R)((0,m.Z)(this,i))).subscribe(),this.gameLoader=p.pipe((0,oe.q)(),(0,T.b)(g=>{this.itemsToCount=V.getRandItems(g,K.k.getAgesConfig()),this.itemsToFind=(0,y.Z)(this,o,c).call(this,g),(0,y.Z)(this,r,d).call(this)}),(0,Q.z)(g=>k.preloadThemeItemsImgs(g)))}function l(h){return h.reduce((p,g)=>{const D=V.getRndInteger(0,Ti-1);for(let M=0;M<Ti;M++)p.push(M<=D?g:null);return p},[])}function c(h){const p=V.getRandItems((0,y.Z)(this,t,l).call(this,h));let g=0,D=0,M=0,R=!0;return p.map((G,X)=>{const W=R?Ua:za;return D=Si*(M%W)+(R?Si/2+2:2),X>0&&M%W==0&&(g+=Wa),M>0&&M%(W-1)==0?(M=0,R=!R):M++,{item:G,coords:new _n({top:g,left:D,unit:z.PERCENTAGE}),animationClass:null}})}function d(){var h=this;this.answer$.pipe((0,$.U)(p=>{const g=this.itemsToFind.filter(D=>D.item?.id===p.id);return{itemsToFind:g,isCorrect:g.length===p.count}}),(0,ue.w)(function(){var p=(0,re.Z)(function*(g){return g.itemsToFind.forEach(D=>D.animationClass=g.isCorrect?ye.PULSATE_FWD:ye.SHAKE_HORIZONTAL),h.answers.push(g.isCorrect),h._cdRef.markForCheck(),g.isCorrect?yield Y.d.playRightSound():yield Y.d.playErrorSound(),g.itemsToFind});return function(g){return p.apply(this,arguments)}}()),Ue(1e3),(0,T.b)(p=>{p.forEach(g=>g.animationClass=null),this.itemsToCountCarouselVCh.slideToRight()}),Fe(this.itemsToCount.length),(0,T.b)(()=>this.answers.some(p=>!p)?j.A.gameFailed():j.A.gameCompleted()),(0,de.R)((0,m.Z)(this,i))).subscribe()}return s.\u0275fac=function(p){return new(p||s)(e.Y36(e.sBO),e.Y36(k))},s.\u0275cmp=e.Xpm({type:s,selectors:[["ng-component"]],viewQuery:function(p,g){if(1&p&&e.Gf(Jl,5),2&p){let D;e.iGM(D=e.CRH())&&(g.itemsToCountCarouselVCh=D.first)}},standalone:!0,features:[e._Bn([k]),e.jDz],decls:7,vars:5,consts:[[3,"gameLoader"],[1,"container"],[1,"items"],[1,"d--block","w--100",3,"src"],[4,"ngFor","ngForOf"],["class","overflow-x--hidden w--100",4,"ngIf"],[3,"answers"],["class","items__item",3,"src","ngClass","ngStyle",4,"ngIf"],[1,"items__item",3,"src","ngClass","ngStyle"],[1,"overflow-x--hidden","w--100"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem"],["itemsToCountCarousel",""]],template:function(p,g){1&p&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.YNc(4,Kl,2,1,"ng-container",4),e.qZA(),e.YNc(5,ql,3,4,"div",5),e._UZ(6,"answers-bar",6),e.qZA()()),2&p&&(e.Q6J("gameLoader",g.gameLoader),e.xp6(3),e.Q6J("src",null==g.bg?null:g.bg.img,e.LSH),e.xp6(1),e.Q6J("ngForOf",g.itemsToFind),e.xp6(1),e.Q6J("ngIf",null==g.itemsToCount?null:g.itemsToCount.length),e.xp6(1),e.Q6J("answers",g.answers))},dependencies:[se,_e,f.O5,f.ax,f.mk,f.PC,_t],styles:[".shake-horizontal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes _ngcontent-%COMP%_shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-rows:1fr min-content min-content;place-items:center}.items[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:auto;position:relative}.items__item[_ngcontent-%COMP%]{max-height:16.6666666667%;position:absolute}"],changeDetection:0}),s})()]},{provide:Ce,useValue:new Map([[1,6],[2,8]])}]};class tc{constructor(n){this.id="",this.img="",this.id=n.id,this.img=`${J.J.getCustomGameThemeFolder()}img/${n.id}.${n.ext}`}}class et{constructor(n){this._http=n}getAccordances(){const n=`${J.J.getCustomGameThemeFolder()}accordances.${Ie.D.JSON}`;return this._fetchAccordances(n).pipe((0,pe.J)(),(0,$.U)(t=>new tc(t)),(0,oe.q)())}_fetchAccordances(n){return this._http.get(n)}}et.\u0275fac=function(n){return new(n||et)(e.LFG(Ne.eN))},et.\u0275prov=e.Yz7({token:et,factory:et.\u0275fac}),(0,Pe.gn)([(0,Ge.q)()],et.prototype,"_fetchAccordances",null);let nc=(()=>{class i extends ze{constructor(){super()}ngOnInit(){super.onDataLoad(this.data)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["item"]],inputs:{data:"data"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:1,consts:[[1,"img","d--block","w-max--100","m--auto",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"figure"),e._UZ(1,"img",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("src",o.data.img,e.LSH))},styles:[".img[_ngcontent-%COMP%]{max-height:400px}"],changeDetection:0}),i})();const ic=["itemsCarousel"];function oc(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"carousel",6,7),e.NdJ("transitionEnd",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.unblock())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("slides",t.items)("blockManualSwiping",!0)("itemComponent",t.itemComponent)}}const sc={path:"find_accordance",loadComponent:ne,providers:[{provide:ie.s,useValue:[ae,(()=>{var i=new WeakMap,n=new WeakMap,t=new WeakSet,o=new WeakSet;class r{constructor(c,d){(0,E.Z)(this,o),(0,E.Z)(this,t),(0,x.Z)(this,i,{writable:!0,value:void 0}),(0,x.Z)(this,n,{writable:!0,value:void 0}),this._themeItemsService=c,this._findAccordanceService=d,this.gameLoader=null,this.accordances=null,this.items=null,this.itemComponent=nc,this.answers=[],this.accordance$=new B.x,(0,_.Z)(this,i,!1),(0,_.Z)(this,n,null)}ngOnInit(){(0,y.Z)(this,t,s).call(this)}ngOnDestroy(){(0,m.Z)(this,n)?.unsubscribe()}unblock(){(0,_.Z)(this,i,!1)}}function s(){this.gameLoader=this._findAccordanceService.getAccordances().pipe((0,T.b)(l=>this.accordances=V.shuffle(l)),(0,pe.J)(),(0,$.U)(l=>l.id),(0,oe.q)(),(0,ue.w)(l=>this._themeItemsService.getItems(c=>l.includes(c.id))),(0,T.b)(l=>this.items=V.shuffle(l)),(0,Q.z)(()=>k.preloadThemeItemsImgs([].concat(this.accordances,this.items))),(0,T.b)(()=>(0,y.Z)(this,o,a).call(this)))}function a(){var l=this;(0,_.Z)(this,n,this.accordance$.pipe((0,H.h)(()=>!(0,m.Z)(this,i)),(0,T.b)(()=>(0,_.Z)(this,i,!0)),(0,$.U)(c=>c.id===this.itemsCarouselVCh.currentItem.id),(0,ue.w)(function(){var c=(0,re.Z)(function*(d){l.answers.push(d),d?yield Y.d.playRightSound():yield Y.d.playErrorSound(),l.itemsCarouselVCh.slideToRight()});return function(d){return c.apply(this,arguments)}}()),Fe(this.items.length),(0,T.b)(()=>this.answers.some(c=>!c)?j.A.gameFailed():j.A.gameCompleted())).subscribe())}return r.\u0275fac=function(c){return new(c||r)(e.Y36(k),e.Y36(et))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],viewQuery:function(c,d){if(1&c&&e.Gf(ic,5),2&c){let h;e.iGM(h=e.CRH())&&(d.itemsCarouselVCh=h.first)}},standalone:!0,features:[e._Bn([k,et]),e.jDz],decls:6,vars:5,consts:[[3,"gameLoader"],[1,"container","h--100"],[1,"carousel-container","overflow--hidden"],[3,"slides","blockManualSwiping","itemComponent","transitionEnd",4,"ngIf"],[3,"isVisible","items","itemClick"],[3,"answers"],[3,"slides","blockManualSwiping","itemComponent","transitionEnd"],["itemsCarousel",""]],template:function(c,d){1&c&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),e.YNc(3,oc,2,3,"carousel",3),e.qZA(),e.TgZ(4,"theme-items-bar",4),e.NdJ("itemClick",function(p){return d.accordance$.next(p)}),e.qZA(),e._UZ(5,"answers-bar",5),e.qZA()()),2&c&&(e.Q6J("gameLoader",d.gameLoader),e.xp6(3),e.Q6J("ngIf",null==d.items?null:d.items.length),e.xp6(1),e.Q6J("isVisible",(null==d.accordances?null:d.accordances.length)>0)("items",d.accordances),e.xp6(1),e.Q6J("answers",d.answers))},dependencies:[se,_e,lt,_t,f.O5,Tt],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content min-content}.carousel-container[_ngcontent-%COMP%]{align-self:center}"],changeDetection:0}),r})()]}]};function Po(i,n,t){const o="index"===t;return(r,s)=>{let a=0;r.subscribe((0,Je.x)(s,l=>{const c=a++;i.call(n,l,c,r)&&(s.next(o?c:l),s.complete())},()=>{s.next(o?-1:void 0),s.complete()}))}}let Fo=(()=>{class i{constructor(t,o){this._elRef=t,this._renderer=o}drawEllipse(t,o){const r=t.right-t.left,s=t.bottom-t.top,a=this._renderer.createElement("DIV");this._renderer.setStyle(a,L.L.POSITION,"absolute"),this._renderer.setStyle(a,L.L.WIDTH,`${100*r/o}${z.PERCENTAGE}`),this._renderer.setStyle(a,L.L.HEIGHT,`${100*s/o}${z.PERCENTAGE}`),this._renderer.setStyle(a,L.L.LEFT,`${100*t.left/o}${z.PERCENTAGE}`),this._renderer.setStyle(a,L.L.TOP,`${100*t.top/o}${z.PERCENTAGE}`),this._renderer.setStyle(a,L.L.BORDER,`3px solid ${v.r.PINK}`),this._renderer.setStyle(a,L.L.BORDER_RADIUS,`50${z.PERCENTAGE}`),this._renderer.appendChild(this._elRef.nativeElement,a)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj))},i.\u0275dir=e.lG2({type:i,selectors:[["","drawEllipse",""]],standalone:!0}),i})();class tt{constructor(n,t){this._http=n,this._addStepsService=t}getCoords(){const n=`${J.J.getCustomGameThemeFolder()}${J.J.getChosenSetSegment(this._addStepsService.chosenSetIndex)}/coords.${Ie.D.JSON}`;return this._fetchCoords(n)}_fetchCoords(n){return this._http.get(n)}}function cc(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"img",5),e.NdJ("click",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.coords$.next(r))}),e.qZA()()}if(2&i){const t=n.$implicit,o=e.oxw();e.Udp("max-width",o.maxImgWidth+o.px),e.xp6(1),e.Q6J("src",t.img,e.LSH)}}tt.\u0275fac=function(n){return new(n||tt)(e.LFG(Ne.eN),e.LFG(we))},tt.\u0275prov=e.Yz7({token:tt,factory:tt.\u0275fac}),(0,Pe.gn)([(0,Ge.q)()],tt.prototype,"_fetchCoords",null);const uc={path:"find_differences",loadComponent:ne,providers:[{provide:we,useClass:ke},{provide:ie.s,useValue:[ae,ft,(()=>{var i=new WeakMap,n=new WeakMap,t=new WeakMap,o=new WeakSet,r=new WeakSet,s=new WeakSet,a=new WeakSet;class l{constructor(D,M){(0,E.Z)(this,a),(0,E.Z)(this,s),(0,E.Z)(this,r),(0,E.Z)(this,o),(0,x.Z)(this,i,{writable:!0,value:void 0}),(0,x.Z)(this,n,{writable:!0,value:void 0}),(0,x.Z)(this,t,{writable:!0,value:void 0}),this._findDifferencesService=D,this._themeItemsService=M,this.px=z.PX,this.gameLoader=null,this.items=null,this.maxImgWidth=400,this.coords$=new B.x,(0,_.Z)(this,i,[]),(0,_.Z)(this,n,0),(0,_.Z)(this,t,null)}ngOnInit(){(0,y.Z)(this,o,c).call(this)}ngOnDestroy(){(0,m.Z)(this,t)?.unsubscribe()}}function c(){this.gameLoader=(0,ve.D)({items:this._themeItemsService.getItems(),coords:this._findDifferencesService.getCoords()}).pipe((0,T.b)(g=>{this.items=g.items,(0,_.Z)(this,i,[...g.coords])}),(0,T.b)(()=>(0,y.Z)(this,r,d).call(this)),(0,Q.z)(()=>k.preloadThemeItemsImgs(this.items)))}function d(){var g=this;(0,_.Z)(this,t,this.coords$.pipe((0,H.h)(()=>(0,m.Z)(this,i).length>0),(0,$.U)(D=>{const M=D.target.getBoundingClientRect();return{x:D.clientX-M.left,y:D.clientY-M.top,rect:M}}),(0,ue.w)(D=>(0,Qe.D)((0,m.Z)(this,i)).pipe(function lc(i,n){return(0,rt.e)(Po(i,n,"index"))}(M=>D.x>=(0,y.Z)(this,s,h).call(this,M.left,D.rect)&&D.x<=(0,y.Z)(this,s,h).call(this,M.right,D.rect)&&D.y>=(0,y.Z)(this,a,p).call(this,M.top,D.rect)&&D.y<=(0,y.Z)(this,a,p).call(this,M.bottom,D.rect)),(0,ue.w)(function(){var M=(0,re.Z)(function*(R){var G;R>-1?(g.drawEllipseD.forEach(X=>X.drawEllipse((0,m.Z)(g,i)[R],g.maxImgWidth)),(0,m.Z)(g,i).splice(R,1),yield Y.d.playRightSound()):(0,_.Z)(g,n,(G=(0,m.Z)(g,n),++G))>2?j.A.gameFailed():yield Y.d.playErrorSound()});return function(R){return M.apply(this,arguments)}}()),(0,H.h)(()=>0===(0,m.Z)(this,i).length),(0,T.b)(()=>j.A.gameCompleted())))).subscribe())}function h(g,D){return g*D.width/this.maxImgWidth}function p(g,D){return g*D.height/this.maxImgWidth}return l.\u0275fac=function(D){return new(D||l)(e.Y36(tt),e.Y36(k))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],viewQuery:function(D,M){if(1&D&&e.Gf(Fo,5),2&D){let R;e.iGM(R=e.CRH())&&(M.drawEllipseD=R)}},standalone:!0,features:[e._Bn([tt,k]),e.jDz],decls:4,vars:2,consts:[[3,"gameLoader"],[1,"container","h--100"],[1,"w--100","text--center"],["class","d--i-block w--100 p--relative cursor--pointer","drawEllipse","",3,"maxWidth",4,"ngFor","ngForOf"],["drawEllipse","",1,"d--i-block","w--100","p--relative","cursor--pointer"],[1,"w--100",3,"src","click"]],template:function(D,M){1&D&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),e.YNc(3,cc,2,3,"div",3),e.qZA()()()),2&D&&(e.Q6J("gameLoader",M.gameLoader),e.xp6(3),e.Q6J("ngForOf",M.items))},dependencies:[se,Fo,f.ax],styles:[".container[_ngcontent-%COMP%]{display:grid;place-items:center}"],changeDetection:0}),l})()]}]};let hc=(()=>{class i extends ze{constructor(){super()}ngOnInit(){super.onDataLoad(this.data)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:1,consts:[[1,"img","d--block","m--auto",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"figure"),e._UZ(1,"img",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("src",o.data.img,e.LSH))},styles:[".img[_ngcontent-%COMP%]{max-width:100%;max-height:400px}"],changeDetection:0}),i})();function mc(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"carousel",6),e.NdJ("transitionEnd",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.unblock())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("slides",t.items)("blockManualSwiping",!0)("itemComponent",t.itemComponent)}}const gc={path:"find_shadow",loadComponent:ne,providers:[{provide:ie.s,useValue:[Te,ae,(()=>{var i=new WeakMap,n=new WeakMap,t=new WeakSet,o=new WeakSet,r=new WeakSet,s=new WeakSet;class a{constructor(g){(0,E.Z)(this,s),(0,E.Z)(this,r),(0,E.Z)(this,o),(0,E.Z)(this,t),(0,x.Z)(this,i,{writable:!0,value:void 0}),(0,x.Z)(this,n,{writable:!0,value:void 0}),this._themeItemsService=g,this.gameLoader=null,this.items=null,this.shadowedItems=null,this.itemComponent=hc,this.item$=new B.x,(0,_.Z)(this,i,!1),(0,_.Z)(this,n,null)}ngOnInit(){(0,y.Z)(this,t,l).call(this)}ngOnDestroy(){(0,m.Z)(this,n)?.unsubscribe()}unblock(){(0,_.Z)(this,i,!1)}}function l(){this.gameLoader=(0,ve.D)({items:this._themeItemsService.getItems(),sounds:Y.d.getAllBaseSounds()}).pipe((0,T.b)(p=>{this.shadowedItems=V.getRandItems(p.items,K.k.getAgesConfig()),this.items=V.getRandItems(this.shadowedItems),this.shadowedItems.forEach(g=>(0,y.Z)(this,r,d).call(this,g,0)),(0,y.Z)(this,o,c).call(this)}),(0,Q.z)(()=>(0,ve.D)([k.preloadThemeItemsImgs(this.shadowedItems),Y.d.preloadThemeItemsTitleSounds(this.shadowedItems)])))}function c(){var p=this;(0,_.Z)(this,n,this.item$.pipe((0,H.h)(()=>!(0,m.Z)(this,i)),(0,T.b)(function(){var g=(0,re.Z)(function*(D){(0,_.Z)(p,i,!0),D.id===p.itemsCarouselVCh.currentItem.id?((0,y.Z)(p,r,d).call(p,D,1),yield D.playTitle(),(0,y.Z)(p,s,h).call(p)):(yield Y.d.playErrorSound(),p.unblock())});return function(D){return g.apply(this,arguments)}}())).subscribe())}function d(p,g){p.imgStyle={[L.L.FILTER]:`brightness(${g})`}}function h(){this.itemsCarouselVCh.activeSlideIndex===this.items.length?j.A.gameCompleted():this.itemsCarouselVCh.slideToRight()}return a.\u0275fac=function(g){return new(g||a)(e.Y36(k))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(g,D){if(1&g&&e.Gf(_e,5),2&g){let M;e.iGM(M=e.CRH())&&(D.itemsCarouselVCh=M.first)}},standalone:!0,features:[e._Bn([k]),e.jDz],decls:6,vars:3,consts:[[3,"gameLoader"],[1,"container","h--100"],[1,"carousel-container","overflow--hidden"],[3,"slides","blockManualSwiping","itemComponent","transitionEnd",4,"ngIf"],[1,"items-container"],[3,"items","itemClick"],[3,"slides","blockManualSwiping","itemComponent","transitionEnd"]],template:function(g,D){1&g&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),e.YNc(3,mc,1,3,"carousel",3),e.qZA(),e.TgZ(4,"div",4)(5,"theme-items-bar",5),e.NdJ("itemClick",function(R){return D.item$.next(R)}),e.qZA()()()()),2&g&&(e.Q6J("gameLoader",D.gameLoader),e.xp6(3),e.Q6J("ngIf",D.items&&D.items.length),e.xp6(2),e.Q6J("items",D.shadowedItems))},dependencies:[se,_e,lt,f.O5],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content}.carousel-container[_ngcontent-%COMP%]{align-self:center}"],changeDetection:0}),a})()]},{provide:Ce,useValue:new Map([[0,4],[1,6],[2,8]])}]};function Ot(...i){const n=i.length;if(0===n)throw new Error("list of properties cannot be empty.");return(0,$.U)(t=>{let o=t;for(let r=0;r<n;r++){const s=o?.[i[r]];if(!(typeof s<"u"))return;o=s}return o})}let _c=(()=>{var i=new WeakMap,n=new WeakSet;class t extends xe{constructor(s,a,l,c){super(l,c),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._elementRef=s,this._renderer=a,this.coeff=.5,(0,_.Z)(this,i,null)}ngOnInit(){super.ngOnInit(),(0,_.Z)(this,i,this._elementRef.nativeElement),this._renderer.setStyle((0,m.Z)(this,i),L.L.DISPLAY,"block"),this._renderer.setStyle((0,m.Z)(this,i),L.L.MARGIN,"auto")}ngOnChanges(s){s.coeff.firstChange||(0,y.Z)(this,n,o).call(this)}setGameSizes(){requestAnimationFrame(()=>{const s=(0,m.Z)(this,i).parentElement.getBoundingClientRect().height;this._renderer.setStyle((0,m.Z)(this,i),L.L.MAX_WIDTH,`${s}${z.PX}`),this._renderer.setStyle((0,m.Z)(this,i),L.L.MAX_HEIGHT,`${s}${z.PX}`),(0,m.Z)(this,i).complete?(0,y.Z)(this,n,o).call(this):(0,m.Z)(this,i).onload=()=>(0,y.Z)(this,n,o).call(this)})}}function o(){const r=(0,m.Z)(this,i).getBoundingClientRect().width;this._renderer.setStyle((0,m.Z)(this,i).parentElement,L.L.WIDTH,`${r*this.coeff}${z.PX}`)}return t.\u0275fac=function(s){return new(s||t)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(f.K0))},t.\u0275dir=e.lG2({type:t,selectors:[["","halfImg",""]],inputs:{coeff:["halfImg","coeff"]},standalone:!0,features:[e.qOj,e.TTD]}),t})();function fc(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"figure",4)(1,"div",5)(2,"img",6),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.item$.next(s))}),e.qZA()()()}if(2&i){const t=n.$implicit;e.ekj("border--dotted",!t.checked)("border-width--1",!t.checked)("border--solid",t.checked)("border-width--3",t.checked),e.s9C("id",t.item.id),e.xp6(1),e.Q6J("isCorrect",t.isCorrect),e.xp6(1),e.Udp("transform",t.shifted&&!t.found?"translateX(-50%)":"translateX(0)"),e.ekj("cursor--pointer",!t.found),e.Q6J("src",t.item.img,e.LSH)("halfImg",t.found?1:.5)}}const Cc={path:"find_the_half",loadComponent:ne,providers:[{provide:ie.s,useValue:[Te,ae,(()=>{var i=new WeakMap,n=new WeakSet,t=new WeakSet,o=new WeakSet;class r{constructor(d,h){(0,E.Z)(this,o),(0,E.Z)(this,t),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._cdRef=d,this._themeItemsService=h,this.gameLoader=null,this.items=null,this.rowsAmount=K.k.getAgesConfig().amount/2,this.item$=new B.x,(0,_.Z)(this,i,null)}ngOnInit(){(0,y.Z)(this,n,s).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}}function s(){this.gameLoader=this._themeItemsService.getItems().pipe((0,Q.z)(c=>V.getRandItems(c,K.k.getAgesConfig().amount)),(0,$.U)(c=>[{item:c,shifted:!0,angle:(0,y.Z)(this,t,a).call(this),checked:!1,found:!1},{item:c,shifted:!1,angle:(0,y.Z)(this,t,a).call(this),checked:!1,found:!1}]),(0,pe.J)(),(0,oe.q)(),(0,T.b)(c=>this.items=V.shuffle(c)),(0,pe.J)(),Ot("item"),(0,oe.q)(),(0,Q.z)(c=>(0,ve.D)([k.preloadThemeItemsImgs(c),Y.d.preloadThemeItemsTitleSounds(c)])),(0,T.b)(()=>(0,y.Z)(this,o,l).call(this)))}function a(){return K.k.getAgesConfig().rotated?V.getRndInteger(0,360):0}function l(){var c=this;(0,_.Z)(this,i,this.item$.pipe((0,H.h)(d=>!d.found),(0,T.b)(d=>d.checked=!d.checked),Fe(2),(0,H.h)(d=>d[0].item.id!==d[1].item.id||d[0].item.id===d[1].item.id&&d[0].shifted!==d[1].shifted),(0,ue.w)(function(){var d=(0,re.Z)(function*(h){h[0].item.id===h[1].item.id?(h.forEach(p=>{p.found=!0,p.isCorrect=!0}),yield h[0].item.playTitle()):(h.forEach(p=>p.isCorrect=!1),yield Y.d.playErrorSound()),h.forEach(p=>{p.checked=!1,p.isCorrect=null}),c._cdRef.markForCheck()});return function(h){return d.apply(this,arguments)}}()),(0,H.h)(()=>!this.items.some(d=>!d.found)),Ue(100),(0,T.b)(()=>j.A.gameCompleted())).subscribe())}return r.\u0275fac=function(d){return new(d||r)(e.Y36(e.sBO),e.Y36(k))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],standalone:!0,features:[e._Bn([k]),e.jDz],decls:4,vars:4,consts:[[3,"gameLoader"],[1,"container","h--100"],["gridSizer","",3,"rowsAmount","columnsAmount"],["class","figure d--flex curve-border border--orange radial-gradient--soft-grey",3,"id","border--dotted","border-width--1","border--solid","border-width--3",4,"ngFor","ngForOf"],[1,"figure","d--flex","curve-border","border--orange","radial-gradient--soft-grey",3,"id"],[1,"item","d--flex","m--auto","p--relative","overflow--hidden",3,"isCorrect"],[3,"src","halfImg","click"]],template:function(d,h){1&d&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),e.YNc(3,fc,3,16,"figure",3),e.qZA()()()),2&d&&(e.Q6J("gameLoader",h.gameLoader),e.xp6(2),e.Q6J("rowsAmount",h.rowsAmount)("columnsAmount",4),e.xp6(1),e.Q6J("ngForOf",h.items))},dependencies:[se,Re,zt,f.ax,_c],styles:[".curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.shake-horizontal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes _ngcontent-%COMP%_shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.container[_ngcontent-%COMP%]{display:grid;place-items:center}.item[_ngcontent-%COMP%]{width:80%;height:80%}"],changeDetection:0}),r})()]},{provide:Ce,useValue:new Map([[0,{amount:4,rotated:!1}],[1,{amount:6,rotated:!1}],[2,{amount:8,rotated:!0}]])}]};var yc=u(515);function Ro(i,n,t){if(null==n&&(n=i,i=0),n<=0)return yc.E;const o=n+i;return new pt.y(t?r=>{let s=i;return t.schedule(function(){s<o?(r.next(s++),this.schedule()):r.complete()})}:r=>{let s=i;for(;s<o&&!r.closed;)r.next(s++);r.complete()})}const ko=5;let bc=(()=>{class i{constructor(t,o){this._elementRef=t,this._renderer=o,this.isActive=!1,this.borderStyle="solid",this.borderWidth=`1${z.PX}`}ngOnChanges(){this._renderer.setStyle(this._elementRef.nativeElement,L.L.BORDER_STYLE,this.isActive?"solid":this.borderStyle),this._renderer.setStyle(this._elementRef.nativeElement,L.L.BORDER_WIDTH,this.isActive?`2${z.PX}`:this.borderWidth)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj))},i.\u0275dir=e.lG2({type:i,selectors:[["","isActiveCell",""]],inputs:{isActive:["isActiveCell","isActive"],borderStyle:"borderStyle",borderWidth:"borderWidth"},standalone:!0,features:[e.TTD]}),i})();function wc(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"figure",2),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.img$.next(s))}),e._UZ(1,"img",3),e.qZA()}if(2&i){const t=n.$implicit;e.Q6J("isActiveCell",t.isActive)("borderStyle","dotted"),e.xp6(1),e.Q6J("src",t.item.img,e.LSH)("isCorrect",t.isCorrect)}}let Tc=(()=>{var i=new WeakMap,n=new WeakSet;class t extends ze{constructor(){super(...arguments),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this.data=null,this.rowsAmount=K.k.getAgesConfig().rowsAmount,this.columnsAmount=K.k.getAgesConfig().columnsAmount,this.items=null,this.img$=new B.x,(0,_.Z)(this,i,null)}ngOnInit(){this.items=this.data.map(s=>({item:s,isActive:!1,isCorrect:null})),this.onDataLoad(this.data),(0,y.Z)(this,n,o).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}}function o(){var r=this;(0,_.Z)(this,i,this.img$.pipe((0,T.b)(s=>s.isActive=!s.isActive),Fe(2),(0,H.h)(s=>s.every(a=>a.isActive)),(0,ue.w)(function(){var s=(0,re.Z)(function*(a){const l=a[0].item.img===a[1].item.img;a.forEach(c=>c.isCorrect=l),l?yield Y.d.playRightSound():yield Y.d.playErrorSound(),r.emitData(l)});return function(a){return s.apply(this,arguments)}}())).subscribe())}return t.\u0275fac=function(){let r;return function(a){return(r||(r=e.n5z(t)))(a||t)}}(),t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:3,consts:[["gridSizer","",3,"rowsAmount","columnsAmount"],["class","figure curve-border border--blue radial-gradient--soft-grey cursor--pointer",3,"isActiveCell","borderStyle","click",4,"ngFor","ngForOf"],[1,"figure","curve-border","border--blue","radial-gradient--soft-grey","cursor--pointer",3,"isActiveCell","borderStyle","click"],[1,"figure__img",3,"src","isCorrect"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0),e.YNc(1,wc,2,4,"figure",1),e.qZA()),2&s&&(e.Q6J("rowsAmount",a.rowsAmount)("columnsAmount",a.columnsAmount),e.xp6(1),e.Q6J("ngForOf",a.items))},dependencies:[f.ax,bc,zt,Re],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.shake-horizontal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes _ngcontent-%COMP%_shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}"],changeDetection:0}),t})(),Sc=(()=>{class i{constructor(t){this._elementRef=t}ngAfterViewInit(){De.B.gridContainer=this._elementRef.nativeElement}ngOnDestroy(){De.B.gridContainer=null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq))},i.\u0275dir=e.lG2({type:i,selectors:[["","gridContainer",""]],standalone:!0}),i})();function Dc(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"carousel",5),e.NdJ("emitDataFromItem",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.answer$.next(r))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("slides",t.items)("height","100%")("blockManualSwiping",!0)("itemComponent",t.itemComponent)}}const Ec={path:"find_the_same",loadComponent:ne,providers:[{provide:ie.s,useValue:[Te,ae,ft,(()=>{var i=new WeakMap,n=new WeakSet,t=new WeakSet;class o{constructor(l){(0,E.Z)(this,t),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._themeItemsService=l,this.gameLoader=null,this.imgs=null,this.items=null,this.answers=[],this.itemComponent=Tc,this.answer$=new B.x,(0,_.Z)(this,i,null)}ngOnInit(){(0,y.Z)(this,n,r).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}}function r(){this.gameLoader=this._themeItemsService.getItems().pipe((0,ue.w)(a=>Ro(1,ko).pipe((0,$.U)(()=>{const l=V.getRandItems(a,K.k.getAgesConfig().amount);return l.push(V.getRndArrElem(l)),V.shuffle(l)}))),(0,oe.q)(),(0,T.b)(a=>{this.items=a,(0,y.Z)(this,t,s).call(this)}),(0,pe.J)(),(0,Q.z)(a=>k.preloadThemeItemsImgs(a)))}function s(){(0,_.Z)(this,i,this.answer$.pipe((0,T.b)(a=>{this.answers.push(a),this.itemsCarouselVCh.slideToRight()}),Fe(ko),(0,T.b)(a=>{a.some(l=>!l)?j.A.gameFailed():j.A.gameCompleted()})).subscribe())}return o.\u0275fac=function(l){return new(l||o)(e.Y36(k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(l,c){if(1&l&&e.Gf(_e,5),2&l){let d;e.iGM(d=e.CRH())&&(c.itemsCarouselVCh=d.first)}},standalone:!0,features:[e._Bn([k]),e.jDz],decls:5,vars:3,consts:[[3,"gameLoader"],[1,"container"],["gridContainer","",1,"w--100","h--100","overflow-x--hidden"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem",4,"ngIf"],[3,"answers"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem"]],template:function(l,c){1&l&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),e.YNc(3,Dc,1,4,"carousel",3),e.qZA(),e._UZ(4,"answers-bar",4),e.qZA()()),2&l&&(e.Q6J("gameLoader",c.gameLoader),e.xp6(3),e.Q6J("ngIf",null==c.items?null:c.items.length),e.xp6(1),e.Q6J("answers",c.answers))},dependencies:[se,Sc,_e,_t,f.O5],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-rows:1fr min-content;place-items:center}"],changeDetection:0}),o})()]},{provide:we,useClass:ke},{provide:Ce,useValue:new Map([[0,{amount:3,rowsAmount:2,columnsAmount:2}],[1,{amount:5,rowsAmount:2,columnsAmount:3}],[2,{amount:8,rowsAmount:3,columnsAmount:3}]])}]};var xc=u(207);const Zo=12;function Oc(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"td",7),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw().$implicit,l=e.oxw();return e.KtG(l.letter$.next({letter:s,word:a}))}),e._uU(1),e.qZA()}if(2&i){const t=n.$implicit,o=e.oxw().$implicit,r=e.oxw();e.Udp("opacity",o.completed&&!t.checked?.5:1)("color",t.checked?r.colors.BLUE:r.colors.DARK_GREY),e.xp6(1),e.hij(" ",t.letter," ")}}function Mc(i,n){if(1&i&&(e.TgZ(0,"tr",5),e.YNc(1,Oc,2,5,"td",6),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t.word)}}const Pc={path:"find_words_in_table",loadComponent:ne,providers:[{provide:ie.s,useValue:[ae,(()=>{var i=new WeakMap,n=new WeakSet,t=new WeakSet,o=new WeakSet,r=new WeakSet;class s{constructor(p,g){(0,E.Z)(this,r),(0,E.Z)(this,o),(0,E.Z)(this,t),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._themeItemsService=p,this._translationsService=g,this.gameLoader=null,this.items=null,this.matrix=null,this.colors=v.r,this.letter$=new B.x,(0,_.Z)(this,i,null)}ngOnInit(){(0,y.Z)(this,n,a).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}}function a(){this.gameLoader=this._themeItemsService.getItems().pipe((0,pe.J)(),(0,H.h)(h=>h.title.length<=Zo&&1===h.title.split(" ").length),(0,oe.q)(),(0,T.b)(h=>this.items=V.getRandItems(h,8)),(0,Q.z)(()=>(0,y.Z)(this,t,l).call(this,this.items)),(0,T.b)(()=>(0,y.Z)(this,r,d).call(this)),(0,Q.z)(()=>(0,ve.D)([Y.d.preloadThemeItemsTitleSounds(this.items),k.preloadThemeItemsImgs(this.items)])))}function l(h){return this._translationsService.loadTranslation("games/find_words_in_table").pipe((0,Q.z)(p=>(0,Qe.D)(V.shuffle(h)).pipe(Ot("title"),(0,$.U)(g=>g.toUpperCase()),(0,Q.z)(g=>{const D=[g];for(let M=0;M<Zo-g.length;M++)D.push(V.getRndArrElem((0,y.Z)(this,o,c).call(this,g,p)));return(0,Qe.D)(V.shuffle(D).join("")).pipe((0,$.U)(M=>({letter:M,checked:!1})),(0,oe.q)())}),(0,$.U)(g=>({word:g,completed:!1})),(0,oe.q)(),(0,T.b)(g=>this.matrix=g))))}function c(h,p){const g=[];for(let D=p.first_letter.charCodeAt(0);D<=p.last_letter.charCodeAt(0);D++)`${p.forbidden_letters}${h[0]}${h.slice(-1)}`.includes(String.fromCharCode(D))||g.push(String.fromCharCode(D));return g}function d(){(0,_.Z)(this,i,this.letter$.pipe((0,H.h)(h=>!h.word.completed),(0,$.U)(h=>(h.letter.checked=!h.letter.checked,h.word)),(0,ue.w)(h=>(0,Qe.D)(h.word).pipe((0,H.h)(p=>p.checked),Ot("letter"),(0,xc.u)((p,g)=>p+g,""),(0,$.U)(p=>this.items.find(g=>g.title.toLowerCase()===p.toLowerCase())),(0,H.h)(Boolean),(0,T.b)(()=>h.completed=!0))),(0,T.b)(h=>h.titleStyle={[L.L.OPACITY]:.5,[L.L.TEXT_DECORATION]:"line-through"}),(0,ue.w)(function(){var h=(0,re.Z)(function*(p){return yield p.playTitle()});return function(p){return h.apply(this,arguments)}}()),(0,H.h)(()=>!this.matrix.some(h=>!h.completed)),Ue(200),(0,T.b)(()=>j.A.gameCompleted())).subscribe())}return s.\u0275fac=function(p){return new(p||s)(e.Y36(k),e.Y36(S.f))},s.\u0275cmp=e.Xpm({type:s,selectors:[["ng-component"]],standalone:!0,features:[e._Bn([k]),e.jDz],decls:6,vars:4,consts:[[3,"gameLoader"],[1,"container"],[1,"table"],["class","table__row",4,"ngFor","ngForOf"],[3,"items","showTitle"],[1,"table__row"],["class","table__cell radial-gradient--soft-grey","align","center",3,"opacity","color","click",4,"ngFor","ngForOf"],["align","center",1,"table__cell","radial-gradient--soft-grey",3,"click"]],template:function(p,g){1&p&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"table",2)(3,"tbody"),e.YNc(4,Mc,2,1,"tr",3),e.qZA()(),e._UZ(5,"theme-items-bar",4),e.qZA()()),2&p&&(e.Q6J("gameLoader",g.gameLoader),e.xp6(4),e.Q6J("ngForOf",g.matrix),e.xp6(1),e.Q6J("items",g.items)("showTitle",!0))},dependencies:[se,f.ax,lt],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:1fr min-content}.table[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:auto;border-spacing:.5rem}.table__cell[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #9e9e9e;border-radius:5px;font-size:2rem;cursor:pointer}.table__cell[_ngcontent-%COMP%]:hover{font-weight:700}@media screen and (max-width: 1024px){.table__cell[_ngcontent-%COMP%]{font-size:1.5rem}}@media screen and (max-width: 767px){.table__cell[_ngcontent-%COMP%]{padding:0;font-size:1rem}}"],changeDetection:0}),s})()]}]};class Fc{constructor(n,t=!1){this.id=n,this.found=t,this.img=J.J.getItemCustomImg(n)}}function Rc(i,n){if(1&i&&e._UZ(0,"img",6),2&i){const t=n.$implicit;e.ekj("semi-transparent",t.found),e.Q6J("src",t.img,e.LSH)}}const Zc={path:"noised_pictures",loadComponent:ne,providers:[{provide:ie.s,useValue:[Te,ae,(()=>{var i=new WeakMap,n=new WeakMap,t=new WeakSet,o=new WeakSet;class r{constructor(c){(0,E.Z)(this,o),(0,E.Z)(this,t),(0,x.Z)(this,i,{writable:!0,value:void 0}),(0,x.Z)(this,n,{writable:!0,value:void 0}),this._themeItemsService=c,this.gameLoader=null,this.items=null,this.contourItems=null,this.item$=new B.x,(0,_.Z)(this,i,0),(0,_.Z)(this,n,null)}ngOnInit(){(0,y.Z)(this,t,s).call(this)}ngOnDestroy(){(0,m.Z)(this,n)?.unsubscribe()}}function s(){const l=K.k.getAgesConfig();this.gameLoader=this._themeItemsService.getItems().pipe((0,T.b)(c=>this.items=V.getRandItems(c,2*l)),(0,ue.w)(()=>(0,Qe.D)(this.items).pipe((0,Ee.q)(l),(0,$.U)(c=>new Fc(c.id)),(0,oe.q)())),(0,T.b)(c=>{this.contourItems=c,this.items=V.shuffle(this.items),(0,y.Z)(this,o,a).call(this)}),(0,ue.w)(()=>k.preloadThemeItemsImgs([].concat(this.items,this.contourItems))))}function a(){var l=this;(0,_.Z)(this,n,this.item$.pipe((0,ue.w)(c=>(0,Qe.D)(this.contourItems).pipe(function ac(i,n){return(0,rt.e)(Po(i,n,"value"))}(d=>d.id===c.id),(0,T.b)(function(){var d=(0,re.Z)(function*(h){if(h&&!h.found){h.found=!0;const g=l.items.find(D=>D.id===h.id);g.titleStyle={[L.L.OPACITY]:.5,[L.L.TEXT_DECORATION]:"line-through"},yield g.playTitle(),l.contourItems.every(D=>D.found)&&j.A.gameCompleted()}else{var p;(0,_.Z)(l,i,(p=(0,m.Z)(l,i),++p))<3?yield Y.d.playErrorSound():j.A.gameFailed()}});return function(h){return d.apply(this,arguments)}}())))).subscribe())}return r.\u0275fac=function(c){return new(c||r)(e.Y36(k))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],standalone:!0,features:[e._Bn([k]),e.jDz],decls:6,vars:3,consts:[[3,"gameLoader"],[1,"container","h--100"],[1,"h--100"],[1,"p--relative","h--100"],["class","p--absolute w--100 h--100",3,"src","semi-transparent",4,"ngFor","ngForOf"],[3,"items","itemClick"],[1,"p--absolute","w--100","h--100",3,"src"]],template:function(c,d){1&c&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,Rc,1,3,"img",4),e.qZA()(),e.TgZ(5,"theme-items-bar",5),e.NdJ("itemClick",function(p){return d.item$.next(p)}),e.qZA()()()),2&c&&(e.Q6J("gameLoader",d.gameLoader),e.xp6(4),e.Q6J("ngForOf",d.contourItems),e.xp6(1),e.Q6J("items",d.items))},dependencies:[se,lt,f.ax],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content}.semi-transparent[_ngcontent-%COMP%]{opacity:.15}"],changeDetection:0}),r})()]},{provide:Ce,useValue:new Map([[0,2],[1,3],[2,4]])}]};let Lo=(()=>{var i=new WeakMap,n=new WeakMap,t=new WeakMap,o=new WeakSet;class r extends xe{constructor(l,c,d,h){super(d,h),(0,E.Z)(this,o),(0,x.Z)(this,i,{writable:!0,value:void 0}),(0,x.Z)(this,n,{writable:!0,value:void 0}),(0,x.Z)(this,t,{writable:!0,value:void 0}),this._elementRef=l,this._renderer=c,this.y=0,this.cellClick=new e.vpe,(0,_.Z)(this,i,K.k.getAgesConfig()),(0,_.Z)(this,n,-V.getRndInteger(0,(0,m.Z)(this,i))),(0,_.Z)(this,t,0)}onCellClick(){const l=(0,m.Z)(this,n)-1;(0,_.Z)(this,n,l===-(0,m.Z)(this,i)?0:l),(0,y.Z)(this,o,s).call(this),this.cellClick.emit()}setGameSizes(){requestAnimationFrame(()=>{const l=this._elementRef.nativeElement.parentElement.getBoundingClientRect();(0,_.Z)(this,t,l.width/(0,m.Z)(this,i)),this._renderer.setStyle(this._elementRef.nativeElement,L.L.WIDTH,`${(0,m.Z)(this,t)}${z.PX}`),this._renderer.setStyle(this._elementRef.nativeElement,L.L.HEIGHT,`${l.height/(0,m.Z)(this,i)}${z.PX}`),this._renderer.setStyle(this._elementRef.nativeElement,L.L.BACKGROUND_SIZE,`${l.width}${z.PX}`),(0,y.Z)(this,o,s).call(this)})}isCorrect(l){return Math.abs((0,m.Z)(this,n))===(l+(0,m.Z)(this,i))%(0,m.Z)(this,i)}}function s(){this._renderer.setStyle(this._elementRef.nativeElement,L.L.BACKGROUND_POSITION,`${(0,m.Z)(this,n)*(0,m.Z)(this,t)}${z.PX} ${-this.y*(0,m.Z)(this,t)}${z.PX}`)}return r.\u0275fac=function(l){return new(l||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(f.K0))},r.\u0275dir=e.lG2({type:r,selectors:[["","cellSizer",""]],hostBindings:function(l,c){1&l&&e.NdJ("click",function(){return c.onCellClick()})},inputs:{y:"y"},outputs:{cellClick:"cellClick"},standalone:!0,features:[e.qOj]}),r})(),Lc=(()=>{class i extends xe{constructor(t,o,r,s){super(r,s),this._elementRef=t,this._renderer=o,this.size=300}setGameSizes(){const t=Math.min(this.size,De.B.getGridContainerMinDimension()-16);this._renderer.setStyle(this._elementRef.nativeElement,L.L.WIDTH,`${t}${z.PX}`),this._renderer.setStyle(this._elementRef.nativeElement,L.L.HEIGHT,`${t}${z.PX}`)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(f.K0))},i.\u0275dir=e.lG2({type:i,selectors:[["","squireSizer",""]],inputs:{size:["squireSizer","size"]},standalone:!0,features:[e.qOj]}),i})();function Nc(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"span",8),e.NdJ("cellClick",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onCellClick())}),e.qZA()}if(2&i){const t=n.$implicit,o=e.oxw(3);e.Udp("background-image","url("+o.img+")"),e.Q6J("y",t)}}function Vc(i,n){if(1&i&&(e.ynx(0),e.YNc(1,Nc,1,3,"span",7),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.yPositions)}}function Bc(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"div",6),e.YNc(2,Vc,2,1,"ng-container",3),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("squireSizer",t.imgSize),e.xp6(1),e.Q6J("ngIf",t.img)}}function Gc(i,n){1&i&&e.GkF(0)}function zc(i,n){if(1&i&&(e.ynx(0),e.YNc(1,Gc,1,0,"ng-container",4),e.BQk()),2&i){e.oxw();const t=e.MAs(7);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Uc(i,n){1&i&&e.GkF(0)}function Wc(i,n){if(1&i&&e._UZ(0,"div",6),2&i){const t=e.oxw(2);e.Udp("background-image","url("+t.img+")"),e.Q6J("squireSizer",t.imgSize)}}function Hc(i,n){if(1&i&&e.YNc(0,Wc,1,3,"div",9),2&i){const t=e.oxw();e.Q6J("ngIf",t.img)}}const jc={path:"puzzle",loadComponent:ne,providers:[{provide:ie.s,useValue:[Te,ae,ft,(()=>{var i=new WeakSet;class n{constructor(r){(0,E.Z)(this,i),this._themeItemsService=r,this.gameLoader=null,this.items=null,this.img=null,this.imgSize=500,this.isFinished=!1,this.yPositions=[]}ngOnInit(){(0,y.Z)(this,i,t).call(this)}onCellClick(){var r=this;return(0,re.Z)(function*(){r.isFinished=!r.cellsD.toArray().some((s,a)=>!s.isCorrect(a)),r.isFinished&&(yield Y.d.playWinSound())})()}}function t(){this.gameLoader=this._themeItemsService.getItems().pipe((0,$.U)(o=>(this.items=o,this.img=o[0].img,K.k.getAgesConfig())),(0,T.b)(o=>{let r=0;for(let s=0;s<Math.pow(o,2);s++)this.yPositions.push(r),(s+1)%o==0&&r++}),(0,ue.w)(()=>k.preloadThemeItemsImgs([this.items[0]])))}return n.\u0275fac=function(r){return new(r||n)(e.Y36(k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(r,s){if(1&r&&e.Gf(Lo,5),2&r){let a;e.iGM(a=e.CRH())&&(s.cellsD=a)}},standalone:!0,features:[e._Bn([k]),e.jDz],decls:8,vars:4,consts:[[3,"gameLoader"],[1,"h--100"],[1,"h--100","text--center"],[4,"ngIf"],[4,"ngTemplateOutlet"],["imgTmpl",""],[1,"img","d--i-block",3,"squireSizer"],["class","cell d--i-block cursor--pointer","cellSizer","",3,"y","backgroundImage","cellClick",4,"ngFor","ngForOf"],["cellSizer","",1,"cell","d--i-block","cursor--pointer",3,"y","cellClick"],["class","img d--i-block",3,"backgroundImage","squireSizer",4,"ngIf"]],template:function(r,s){if(1&r&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),e.YNc(3,Bc,3,2,"ng-container",3),e.YNc(4,zc,2,1,"ng-container",3),e.YNc(5,Uc,1,0,"ng-container",4),e.YNc(6,Hc,1,1,"ng-template",null,5,e.W1O),e.qZA()()()),2&r){const a=e.MAs(7);e.Q6J("gameLoader",s.gameLoader),e.xp6(3),e.Q6J("ngIf",!s.isFinished),e.xp6(1),e.Q6J("ngIf",s.isFinished),e.xp6(1),e.Q6J("ngTemplateOutlet",a)}},dependencies:[se,f.O5,Lc,f.ax,Lo,f.tP],styles:[".img[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:contain;vertical-align:bottom;margin:0 .5rem}@media screen and (max-width: 1024px){.img[_ngcontent-%COMP%]{margin:.5rem 0}}.cell[_ngcontent-%COMP%]{vertical-align:bottom;outline:#333333 solid 2px}"],changeDetection:0}),n})()]},{provide:we,useClass:ke},{provide:Ce,useValue:new Map([[0,3],[1,4],[2,5]])}]};let No=(()=>{var i=new WeakMap,n=new WeakMap,t=new WeakSet;class o{constructor(a,l){(0,E.Z)(this,t),(0,x.Z)(this,i,{writable:!0,value:void 0}),(0,x.Z)(this,n,{writable:!0,value:void 0}),this._elementRef=a,this._renderer=l,this.rotated=new e.vpe,this.angle=180*V.getRndInteger(0,2),(0,_.Z)(this,i,!1),(0,_.Z)(this,n,!1)}ngOnInit(){(0,y.Z)(this,t,r).call(this)}onClick(){(0,m.Z)(this,i)||(0,m.Z)(this,n)||((0,_.Z)(this,i,!0),this.rotate(),this.rotated.emit())}onTransitionend(){(0,_.Z)(this,i,!1)}rotate(){this.angle+=180,(0,y.Z)(this,t,r).call(this)}finish(){(0,_.Z)(this,n,!0)}}function r(){const s=this._elementRef.nativeElement;this._renderer.setStyle(s,L.L.TRANSFORM,`rotate(${this.angle}${z.DEG})`),this._renderer.setStyle(s,L.L.TRANSITION,"transform 0.5s ease-in-out")}return o.\u0275fac=function(a){return new(a||o)(e.Y36(e.SBq),e.Y36(e.Qsj))},o.\u0275dir=e.lG2({type:o,selectors:[["","itemRotate",""]],hostBindings:function(a,l){1&a&&e.NdJ("click",function(){return l.onClick()})("transitionend",function(){return l.onTransitionend()})},outputs:{rotated:"rotated"},standalone:!0}),o})();function Yc(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"figure",3)(1,"img",4),e.NdJ("rotated",function(){const s=e.CHM(t).index,a=e.oxw();return e.KtG(a.onRotate$.next(s))}),e.qZA()()}if(2&i){const t=n.$implicit;e.xp6(1),e.Q6J("src",t.img,e.LSH)}}const Qc={path:"rotate_item",loadComponent:ne,providers:[{provide:ie.s,useValue:[Te,ae,(()=>{var i=new WeakMap,n=new WeakSet,t=new WeakSet,o=new WeakSet,r=new WeakSet,s=new WeakSet,a=new WeakSet,l=new WeakSet,c=new WeakSet;class d{constructor(te){(0,E.Z)(this,c),(0,E.Z)(this,l),(0,E.Z)(this,a),(0,E.Z)(this,s),(0,E.Z)(this,r),(0,E.Z)(this,o),(0,E.Z)(this,t),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._themeItemsService=te,this.gameLoader=null,this.items=null,this.onRotate$=new B.x,this.rowsAmount=4,this.columnsAmount=4,(0,_.Z)(this,i,null)}ngOnInit(){(0,y.Z)(this,n,h).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}}function h(){this.gameLoader=this._themeItemsService.getItems().pipe((0,T.b)(W=>{this.items=V.shuffle(W);const te=this.rowsAmount*this.columnsAmount;if(this.items.length<te)for(;this.items.length<te;){const Me=V.getRndInteger(0,this.items.length);this.items.push(this.items[Me])}else this.items.length=te;(0,y.Z)(this,t,p).call(this)}),(0,Q.z)(()=>k.preloadThemeItemsImgs(this.items)))}function p(){const W=te=>te.angle%360>0;(0,_.Z)(this,i,this.onRotate$.pipe((0,T.b)(te=>(0,y.Z)(this,o,g).call(this,te)),(0,H.h)(()=>!this.itemsD.some(W)),(0,T.b)(()=>this.itemsD.forEach(te=>te.finish())),Ue(1e3),(0,T.b)(()=>j.A.gameCompleted())).subscribe())}function g(W){1===K.k.getAgeId()&&((0,y.Z)(this,r,D).call(this,W),(0,y.Z)(this,l,G).call(this,W)),2===K.k.getAgeId()&&((0,y.Z)(this,a,R).call(this,W),(0,y.Z)(this,r,D).call(this,W),(0,y.Z)(this,l,G).call(this,W),(0,y.Z)(this,s,M).call(this,W))}function D(W){(W+1)%this.columnsAmount!=0&&(0,y.Z)(this,c,X).call(this,W+1)}function M(W){W%this.columnsAmount!=0&&(0,y.Z)(this,c,X).call(this,W-1)}function R(W){(0,y.Z)(this,c,X).call(this,W-this.columnsAmount)}function G(W){(0,y.Z)(this,c,X).call(this,W+this.columnsAmount)}function X(W){this.itemsD.find((te,Me)=>Me===W)?.rotate()}return d.\u0275fac=function(te){return new(te||d)(e.Y36(k))},d.\u0275cmp=e.Xpm({type:d,selectors:[["ng-component"]],viewQuery:function(te,Me){if(1&te&&e.Gf(No,5),2&te){let Ar;e.iGM(Ar=e.CRH())&&(Me.itemsD=Ar)}},standalone:!0,features:[e._Bn([k]),e.jDz],decls:3,vars:4,consts:[[3,"gameLoader"],["gridSizer","",3,"rowsAmount","columnsAmount"],["class","figure curve-border border-width--1 border--dashed border--purple radial-gradient--soft-grey",4,"ngFor","ngForOf"],[1,"figure","curve-border","border-width--1","border--dashed","border--purple","radial-gradient--soft-grey"],["itemRotate","",1,"figure__img","cursor--pointer",3,"src","rotated"]],template:function(te,Me){1&te&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1),e.YNc(2,Yc,2,1,"figure",2),e.qZA()()),2&te&&(e.Q6J("gameLoader",Me.gameLoader),e.xp6(1),e.Q6J("rowsAmount",Me.rowsAmount)("columnsAmount",Me.columnsAmount),e.xp6(1),e.Q6J("ngForOf",Me.items))},dependencies:[se,Re,f.ax,No],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}"],changeDetection:0}),d})()]},{provide:Ce,useValue:new Map([[0,null],[1,null],[2,null]])}]};var tn=u(4968),Bn=u(7866);let Vo=(()=>{var i=new WeakMap,n=new WeakMap;class t{constructor(r,s,a){(0,x.Z)(this,i,{writable:!0,value:void 0}),(0,x.Z)(this,n,{writable:!0,value:void 0}),this._elementRef=r,this._renderer=s,this._document=a,this.dragArea=null,this.propsToRestore=[],this.elFromPoint=new e.vpe,(0,_.Z)(this,n,new Map)}ngAfterViewInit(){(0,_.Z)(this,i,this._elementRef.nativeElement);const r=(0,tn.R)((0,m.Z)(this,i),Bn.m.MOUSEDOWN),s=(0,tn.R)(this.dragArea,Bn.m.MOUSEMOVE),a=(0,tn.R)(this.dragArea,Bn.m.MOUSEUP);r.pipe((0,$.U)(l=>{l.preventDefault(),this._renderer.setStyle(this.dragArea,L.L.POSITION,"relative"),this.propsToRestore.forEach(g=>(0,m.Z)(this,n).set(g,(0,m.Z)(this,i).style[g]));const c=(0,m.Z)(this,i).getBoundingClientRect(),d=this.dragArea.getBoundingClientRect();this._renderer.setStyle((0,m.Z)(this,i),L.L.WIDTH,`${c.width}${z.PX}`),this._renderer.setStyle((0,m.Z)(this,i),L.L.HEIGHT,`${c.height}${z.PX}`),this._renderer.setStyle((0,m.Z)(this,i),L.L.POSITION,"absolute"),this._renderer.setStyle((0,m.Z)(this,i),L.L.Z_INDEX,100);const h=l.clientX-c.left+d.left,p=l.clientY-c.top+d.top;return this._renderer.setStyle((0,m.Z)(this,i),L.L.LEFT,`${l.pageX-h}${z.PX}`),this._renderer.setStyle((0,m.Z)(this,i),L.L.TOP,`${l.pageY-p}${z.PX}`),{x:h,y:p}}),(0,ue.w)(l=>s.pipe((0,$.U)(c=>{c.preventDefault(),this._renderer.setStyle((0,m.Z)(this,i),L.L.LEFT,`${c.pageX-l.x}${z.PX}`),this._renderer.setStyle((0,m.Z)(this,i),L.L.TOP,`${c.pageY-l.y}${z.PX}`)}),(0,de.R)(a),(0,ue.w)(()=>a.pipe((0,Ee.q)(1),(0,T.b)(c=>{const d=(0,m.Z)(this,i).style.display;this._renderer.setStyle((0,m.Z)(this,i),L.L.DISPLAY,"none"),this.elFromPoint.emit(this._document.elementFromPoint(c.clientX,c.clientY)),this._renderer.setStyle((0,m.Z)(this,i),L.L.DISPLAY,d)})))))).subscribe()}backEl(){this._renderer.removeStyle((0,m.Z)(this,i),L.L.POSITION),this._renderer.removeStyle((0,m.Z)(this,i),L.L.TOP),this._renderer.removeStyle((0,m.Z)(this,i),L.L.LEFT);for(const[r,s]of(0,m.Z)(this,n).entries())this._renderer.setStyle((0,m.Z)(this,i),r,s)}destroyEl(){(0,m.Z)(this,i).remove()}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(f.K0))},t.\u0275dir=e.lG2({type:t,selectors:[["","drag",""]],inputs:{dragArea:"dragArea",propsToRestore:"propsToRestore"},outputs:{elFromPoint:"elFromPoint"},standalone:!0}),t})();function Bo(i,n,t,o){return(0,rt.e)((r,s)=>{let a;n&&"function"!=typeof n?({duration:t,element:a,connector:o}=n):a=n;const l=new Map,c=M=>{l.forEach(M),M(s)},d=M=>c(R=>R.error(M));let h=0,p=!1;const g=new Je.Q(s,M=>{try{const R=i(M);let G=l.get(R);if(!G){l.set(R,G=o?o():new B.x);const X=function D(M,R){const G=new pt.y(X=>{h++;const W=R.subscribe(X);return()=>{W.unsubscribe(),0==--h&&p&&g.unsubscribe()}});return G.key=M,G}(R,G);if(s.next(X),t){const W=(0,Je.x)(G,()=>{G.complete(),W?.unsubscribe()},void 0,void 0,()=>l.delete(R));g.add((0,mt.Xf)(t(X)).subscribe(W))}}G.next(a?a(M):M)}catch(R){d(R)}},()=>c(M=>M.complete()),d,()=>l.clear(),()=>(p=!0,0===h));r.subscribe(g)})}class nt{constructor(n){this._http=n}getCoords(){const n=`${J.J.getCustomGameThemeFolder()}coords.${Ie.D.JSON}`;return this._fetchCoords(n)}_fetchCoords(n){return this._http.get(n)}}nt.\u0275fac=function(n){return new(n||nt)(e.LFG(Ne.eN))},nt.\u0275prov=e.Yz7({token:nt,factory:nt.\u0275fac}),(0,Pe.gn)([(0,Ge.q)()],nt.prototype,"_fetchCoords",null);let Kc=(()=>{class i extends xe{constructor(t,o,r,s){super(r,s),this._elementRef=t,this._renderer=o}setGameSizes(){const t=Math.min(400,De.B.getMinDimension()/2-20);this._renderer.setStyle(this._elementRef.nativeElement,L.L.WIDTH,`${t}${z.PX}`),this._renderer.setStyle(this._elementRef.nativeElement,L.L.HEIGHT,`${1.25*t}${z.PX}`)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(f.K0))},i.\u0275dir=e.lG2({type:i,selectors:[["","areaBgSizer",""]],standalone:!0,features:[e.qOj]}),i})();function qc(i,n){if(1&i&&e._UZ(0,"img",10),2&i){const t=n.$implicit,o=n.index,r=e.oxw().$implicit;e.Q6J("src",t.img,e.LSH)("ngStyle",r.coords[o].style)}}function Xc(i,n){if(1&i&&(e.TgZ(0,"div",7),e._UZ(1,"img",8),e.YNc(2,qc,1,2,"img",9),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.s9C("id",t.id),e.Q6J("src",t.img,e.LSH),e.xp6(1),e.Q6J("ngForOf",t.items)}}const ed=function(i,n){return[i,n]};function td(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"figure",11)(1,"img",12),e.NdJ("elFromPoint",function(r){const a=e.CHM(t).index,l=e.oxw();return e.KtG(l.checkItem(r,a))}),e.qZA()()}if(2&i){const t=n.$implicit,o=e.oxw(),r=e.MAs(2);e.xp6(1),e.Q6J("src",t.img,e.LSH)("dragArea",r)("propsToRestore",e.WLB(3,ed,o.styleProps.WIDTH,o.styleProps.HEIGHT))}}const id={path:"sort_items",loadComponent:ne,providers:[{provide:ie.s,useValue:[Te,ae,(()=>{var i=new WeakSet;class n{constructor(r,s){(0,E.Z)(this,i),this._themeItemsService=r,this._sortItemsService=s,this.gameLoader=null,this.items=null,this.areas=null,this.styleProps=L.L,this.itemsAmount=K.k.getAgesConfig()}ngOnInit(){(0,y.Z)(this,i,t).call(this)}checkItem(r,s){var a=this;return(0,re.Z)(function*(){const l=a.dragD.toArray()[s];a.items[s].theme.id===r.getAttribute("id")?(a.areas.find(d=>d.id===r.getAttribute("id")).items.push(a.items[s]),l.destroyEl(),yield Y.d.playRightSound(),a.areas.every(d=>d.items.length===a.items.length/2)&&j.A.gameCompleted()):(l.backEl(),yield Y.d.playErrorSound())})()}}function t(){this.gameLoader=(0,ve.D)({items:this._themeItemsService.getItems(),coords:this._sortItemsService.getCoords()}).pipe((0,Q.z)(o=>(this.areas=Object.keys(o.coords).map(r=>({id:r,img:`${J.J.getCustomGameThemeFolder()}${r}.${Ie.D.SVG}`,items:[],coords:o.coords[r].map(s=>new _n(s))})),o.items)),Bo(o=>o.theme.id),(0,Q.z)(o=>o.pipe((0,oe.q)(),(0,$.U)(r=>V.getRandItems(r,this.itemsAmount)))),(0,pe.J)(),(0,oe.q)(),(0,T.b)(o=>this.items=V.shuffle(o)),(0,Q.z)(()=>k.preloadThemeItemsImgs([].concat(this.items,this.areas))))}return n.\u0275fac=function(r){return new(r||n)(e.Y36(k),e.Y36(nt))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(r,s){if(1&r&&e.Gf(Vo,5),2&r){let a;e.iGM(a=e.CRH())&&(s.dragD=a)}},standalone:!0,features:[e._Bn([nt,k]),e.jDz],decls:7,vars:6,consts:[[3,"gameLoader"],[1,"container"],["container",""],[1,"text--center"],["class","area","areaBgSizer","",4,"ngFor","ngForOf"],["gridSizer","",3,"itemSize","rowsAmount","columnsAmount"],["class","figure",4,"ngFor","ngForOf"],["areaBgSizer","",1,"area"],[1,"area__bg",3,"id","src"],["class","area__item",3,"src","ngStyle",4,"ngFor","ngForOf"],[1,"area__item",3,"src","ngStyle"],[1,"figure"],["drag","",1,"figure__img","cursor--pointer",3,"src","dragArea","propsToRestore","elFromPoint"]],template:function(r,s){1&r&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1,2)(3,"div",3),e.YNc(4,Xc,3,3,"div",4),e.qZA(),e.TgZ(5,"div",5),e.YNc(6,td,2,6,"figure",6),e.qZA()()()),2&r&&(e.Q6J("gameLoader",s.gameLoader),e.xp6(4),e.Q6J("ngForOf",s.areas),e.xp6(1),e.Q6J("itemSize",100)("rowsAmount",2)("columnsAmount",s.itemsAmount),e.xp6(1),e.Q6J("ngForOf",s.items))},dependencies:[se,f.ax,f.PC,Re,Kc,Vo],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:1fr min-content;place-items:center}.area[_ngcontent-%COMP%]{display:inline-block;position:relative}.area__bg[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;left:0}.area__item[_ngcontent-%COMP%]{max-width:18%;position:absolute}"],changeDetection:0}),n})()]},{provide:Ce,useValue:new Map([[0,4],[1,6],[2,8]])}]};function Mt(i){return null!=i&&"false"!=`${i}`}function Go(i,n=0){return function od(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):n}function Se(i){return i instanceof e.SBq?i.nativeElement:i}var zo=u(4408),yt=u(727);const At={schedule(i){let n=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=At;o&&(n=o.requestAnimationFrame,t=o.cancelAnimationFrame);const r=n(s=>{t=void 0,i(s)});return new yt.w0(()=>t?.(r))},requestAnimationFrame(...i){const{delegate:n}=At;return(n?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:n}=At;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};var Uo=u(7565);const Wo=new class ad extends Uo.v{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let r;n=n||o.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=o[0])&&n.id===t&&o.shift());if(this._active=!1,r){for(;(n=o[0])&&n.id===t&&o.shift();)n.unsubscribe();throw r}}}(class sd extends zo.o{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,o=0){return null!==o&&o>0?super.requestAsyncId(n,t,o):(n.actions.push(this),n._scheduled||(n._scheduled=At.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,t,o=0){var r;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(n,t,o);const{actions:s}=n;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(At.cancelAnimationFrame(t),n._scheduled=void 0)}});let Gn,ld=1;const nn={};function Ho(i){return i in nn&&(delete nn[i],!0)}const cd={setImmediate(i){const n=ld++;return nn[n]=!0,Gn||(Gn=Promise.resolve()),Gn.then(()=>Ho(n)&&i()),n},clearImmediate(i){Ho(i)}},{setImmediate:dd,clearImmediate:ud}=cd,on={setImmediate(...i){const{delegate:n}=on;return(n?.setImmediate||dd)(...i)},clearImmediate(i){const{delegate:n}=on;return(n?.clearImmediate||ud)(i)},delegate:void 0};new class md extends Uo.v{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let r;n=n||o.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=o[0])&&n.id===t&&o.shift());if(this._active=!1,r){for(;(n=o[0])&&n.id===t&&o.shift();)n.unsubscribe();throw r}}}(class hd extends zo.o{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,o=0){return null!==o&&o>0?super.requestAsyncId(n,t,o):(n.actions.push(this),n._scheduled||(n._scheduled=on.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,t,o=0){var r;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(n,t,o);const{actions:s}=n;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(on.clearImmediate(t),n._scheduled=void 0)}});function $o(i,n=Vt.z){return function gd(i){return(0,rt.e)((n,t)=>{let o=!1,r=null,s=null,a=!1;const l=()=>{if(s?.unsubscribe(),s=null,o){o=!1;const d=r;r=null,t.next(d)}a&&t.complete()},c=()=>{s=null,a&&t.complete()};n.subscribe((0,Je.x)(t,d=>{o=!0,r=d,s||(0,mt.Xf)(i(d)).subscribe(s=(0,Je.x)(t,l,c))},()=>{a=!0,(!o||!s||s.closed)&&t.complete()}))})}(()=>hn(i,n))}let zn;try{zn=typeof Intl<"u"&&Intl.v8BreakIterator}catch{zn=!1}let Pt,Un,Ze,jo=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,f.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zn)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ft(i){return function _d(){if(null==Pt&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Pt=!0}))}finally{Pt=Pt||!1}return Pt}()?i:!!i.capture}function Jo(i){if(function fd(){if(null==Un){const i=typeof document<"u"?document.head:null;Un=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Un}()){const n=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Rt(i){return i.composedPath?i.composedPath()[0]:i.target}Ze=typeof global<"u"?global:typeof window<"u"?window:{};let Cd=(()=>{class i{constructor(t,o,r){this._ngZone=t,this._platform=o,this._scrolled=new B.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const o=this.scrollContainers.get(t);o&&(o.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new pt.y(o=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe($o(t)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,me.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(t,o){const r=this.getAncestorScrollContainers(t);return this.scrolled(o).pipe((0,H.h)(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const o=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&o.push(s)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,o){let r=Se(o),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return(0,tn.R)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.R0b),e.LFG(jo),e.LFG(f.K0,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),bd=(()=>{class i{constructor(t,o,r){this._platform=t,this._change=new B.x,this._changeListener=s=>{this._change.next(s)},this._document=r,o.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:o,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+o,height:r,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,o=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||o.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||o.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe($o(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(jo),e.LFG(e.R0b),e.LFG(f.K0,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),wd=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var Xo=u(6451),Wn=u(8675);const Nd=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function Vd(){return(0,e.f3M)(f.K0)}});let er=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new e.vpe,t){const s=(t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null);this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Nd,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Hn(i,n,t){for(let o in n)if(n.hasOwnProperty(o)){const r=n[o];r?i.setProperty(o,r,t?.has(o)?"important":""):i.removeProperty(o)}return i}function wt(i,n){const t=n?"":"none";Hn(i.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function tr(i,n,t){Hn(i.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},t)}function sn(i,n){return n&&"none"!=n?i+" "+n:i}function nr(i){const n=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*n}function $n(i,n){return i.getPropertyValue(n).split(",").map(o=>o.trim())}function jn(i){const n=i.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function Yn(i,n,t){const{top:o,bottom:r,left:s,right:a}=i;return t>=o&&t<=r&&n>=s&&n<=a}function kt(i,n,t){i.top+=n,i.bottom=i.top+i.height,i.left+=t,i.right=i.left+i.width}function ir(i,n,t,o){const{top:r,right:s,bottom:a,left:l,width:c,height:d}=i,h=c*n,p=d*n;return o>r-p&&o<a+p&&t>l-h&&t<s+h}class or{constructor(n,t){this._document=n,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),n.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:jn(t)})})}handleScroll(n){const t=Rt(n),o=this.positions.get(t);if(!o)return null;const r=o.scrollPosition;let s,a;if(t===this._document){const d=this._viewportRuler.getViewportScrollPosition();s=d.top,a=d.left}else s=t.scrollTop,a=t.scrollLeft;const l=r.top-s,c=r.left-a;return this.positions.forEach((d,h)=>{d.clientRect&&t!==h&&t.contains(h)&&kt(d.clientRect,l,c)}),r.top=s,r.left=a,{top:l,left:c}}}function rr(i){const n=i.cloneNode(!0),t=n.querySelectorAll("[id]"),o=i.nodeName.toLowerCase();n.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===o?lr(i,n):("input"===o||"select"===o||"textarea"===o)&&ar(i,n),sr("canvas",i,n,lr),sr("input, textarea, select",i,n,ar),n}function sr(i,n,t,o){const r=n.querySelectorAll(i);if(r.length){const s=t.querySelectorAll(i);for(let a=0;a<r.length;a++)o(r[a],s[a])}}let Gd=0;function ar(i,n){"file"!==n.type&&(n.value=i.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${Gd++}`)}function lr(i,n){const t=n.getContext("2d");if(t)try{t.drawImage(i,0,0)}catch{}}const cr=Ft({passive:!0}),dr=Ft({passive:!1}),Jn=new Set(["position"]);class Ud{constructor(n,t,o,r,s,a){this._config=t,this._document=o,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new B.x,this._pointerMoveSubscription=yt.w0.EMPTY,this._pointerUpSubscription=yt.w0.EMPTY,this._scrollSubscription=yt.w0.EMPTY,this._resizeSubscription=yt.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new B.x,this.started=new B.x,this.released=new B.x,this.ended=new B.x,this.entered=new B.x,this.exited=new B.x,this.dropped=new B.x,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const c=this._handles.find(d=>{const h=Rt(l);return!!h&&(h===d||d.contains(h))});c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const c=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const D=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),M=this._dropContainer;if(!D)return void this._endDragSequence(l);(!M||!M.isDragging()&&!M.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),l.preventDefault();const d=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,c);else{const h=this._activeTransform;h.x=d.x-this._pickupPositionOnPage.x+this._passiveTransform.x,h.y=d.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(h.x,h.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:l,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this.withRootElement(n).withParent(t.parentDragRef||null),this._parentPositions=new or(o,s),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){const t=Mt(n);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(o=>wt(o,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(o=>Se(o)),this._handles.forEach(o=>wt(o,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(o=>{this._handles.indexOf(o)>-1&&t.add(o)}),this._disabledHandles=t,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const t=Se(n);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,dr),t.addEventListener("touchstart",this._pointerDown,cr)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?Se(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),wt(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),wt(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){Zt(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const o=this._rootElement,r=o.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();r.insertBefore(a,o),this._initialTransform=o.style.transform||"",this._preview=this._createPreviewElement(),tr(o,!1,Jn),this._document.body.appendChild(r.replaceChild(s,o)),this._getPreviewInsertionPoint(r,l).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(n,t){this._parentDragRef&&t.stopPropagation();const o=this.isDragging(),r=Zt(t),s=!r&&0!==t.button,a=this._rootElement,l=Rt(t),c=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),d=r?function Zd(i){const n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}(t):function kd(i){return 0===i.offsetX&&0===i.offsetY}(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),o||s||c||d)return;if(this._handles.length){const g=a.style;this._rootElementTapHighlight=g.webkitTapHighlightColor||"",g.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(g=>this._updateOnScroll(g)),this._boundaryElement&&(this._boundaryRect=jn(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(n,t);const p=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(n){tr(this._rootElement,!0,Jn),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,o=t.getItemIndex(this),r=this._getPointerPositionOnPage(n),s=this._getDragDistance(r),a=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r}),this.dropped.next({item:this,currentIndex:o,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:s,dropPoint:r}),t.drop(this,o,this._initialIndex,this._initialContainer,a,s,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:t},{x:o,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,n,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,n,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(o,r),this._dropContainer._sortItem(this,n,t,this._pointerDirectionDelta),this._applyPreviewTransform(n-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const n=this._previewTemplate,t=this.previewClass,o=n?n.template:null;let r;if(o&&n){const s=n.matchSize?this._rootElement.getBoundingClientRect():null,a=n.viewContainer.createEmbeddedView(o,n.context);a.detectChanges(),r=hr(a,this._document),this._previewRef=a,n.matchSize?mr(r,s):r.style.transform=an(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const s=this._rootElement;r=rr(s),mr(r,s.getBoundingClientRect()),this._initialTransform&&(r.style.transform=this._initialTransform)}return Hn(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Jn),wt(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>r.classList.add(s)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const t=function Bd(i){const n=getComputedStyle(i),t=$n(n,"transition-property"),o=t.find(l=>"transform"===l||"all"===l);if(!o)return 0;const r=t.indexOf(o),s=$n(n,"transition-duration"),a=$n(n,"transition-delay");return nr(s[r])+nr(a[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(o=>{const r=a=>{(!a||Rt(a)===this._preview&&"transform"===a.propertyName)&&(this._preview?.removeEventListener("transitionend",r),o(),clearTimeout(s))},s=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,t=n?n.template:null;let o;return t?(this._placeholderRef=n.viewContainer.createEmbeddedView(t,n.context),this._placeholderRef.detectChanges(),o=hr(this._placeholderRef,this._document)):o=rr(this._rootElement),o.classList.add("cdk-drag-placeholder"),o}_getPointerPositionInElement(n,t){const o=this._rootElement.getBoundingClientRect(),r=n===this._rootElement?null:n,s=r?r.getBoundingClientRect():o,a=Zt(t)?t.targetTouches[0]:t,l=this._getViewportScrollPosition();return{x:s.left-o.left+(a.pageX-s.left-l.left),y:s.top-o.top+(a.pageY-s.top-l.top)}}_getPointerPositionOnPage(n){const t=this._getViewportScrollPosition(),o=Zt(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,r=o.pageX-t.left,s=o.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const l=this._ownerSVGElement.createSVGPoint();return l.x=r,l.y=s,l.matrixTransform(a.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(n){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:o,y:r}=this.constrainPosition?this.constrainPosition(n,this):n;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(o=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:a}=this._pickupPositionInElement,l=this._boundaryRect,c=this._previewRect,d=l.top+a,h=l.bottom-(c.height-a);o=ur(o,l.left+s,l.right-(c.width-s)),r=ur(r,d,h)}return{x:o,y:r}}_updatePointerDirectionDelta(n){const{x:t,y:o}=n,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-s.x),l=Math.abs(o-s.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=t>s.x?1:-1,s.x=t),l>this._config.pointerDirectionChangeThreshold&&(r.y=o>s.y?1:-1,s.y=o),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,wt(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,dr),n.removeEventListener("touchstart",this._pointerDown,cr)}_applyRootElementTransform(n,t){const o=an(n,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=sn(o,this._initialTransform)}_applyPreviewTransform(n,t){const o=this._previewTemplate?.template?void 0:this._initialTransform,r=an(n,t);this._preview.style.transform=sn(r,o)}_getDragDistance(n){const t=this._pickupPositionOnPage;return t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:t}=this._passiveTransform;if(0===n&&0===t||this.isDragging()||!this._boundaryElement)return;const o=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===r.width&&0===r.height)return;const s=o.left-r.left,a=r.right-o.right,l=o.top-r.top,c=r.bottom-o.bottom;o.width>r.width?(s>0&&(n+=s),a>0&&(n-=a)):n=0,o.height>r.height?(l>0&&(t+=l),c>0&&(t-=c)):t=0,(n!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:n})}_getDragStartDelay(n){const t=this.dragStartDelay;return"number"==typeof t?t:Zt(n)?t.touch:t?t.mouse:0}_updateOnScroll(n){const t=this._parentPositions.handleScroll(n);if(t){const o=Rt(n);this._boundaryRect&&o!==this._boundaryElement&&o.contains(this._boundaryElement)&&kt(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const n=this._parentPositions.positions.get(this._document);return n?n.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Jo(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,t){const o=this._previewContainer||"global";if("parent"===o)return n;if("global"===o){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Se(o)}}function an(i,n){return`translate3d(${Math.round(i)}px, ${Math.round(n)}px, 0)`}function ur(i,n,t){return Math.max(n,Math.min(t,i))}function Zt(i){return"t"===i.type[0]}function hr(i,n){const t=i.rootNodes;if(1===t.length&&t[0].nodeType===n.ELEMENT_NODE)return t[0];const o=n.createElement("div");return t.forEach(r=>o.appendChild(r)),o}function mr(i,n){i.style.width=`${n.width}px`,i.style.height=`${n.height}px`,i.style.transform=an(n.left,n.top)}function pr(i,n,t){const o=Lt(n,i.length-1),r=Lt(t,i.length-1);if(o===r)return;const s=i[o],a=r<o?-1:1;for(let l=o;l!==r;l+=a)i[l]=i[l+a];i[r]=s}function Lt(i,n){return Math.max(0,Math.min(n,i))}const _r=.05;class Wd{constructor(n,t,o,r,s){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new B.x,this.entered=new B.x,this.exited=new B.x,this.dropped=new B.x,this.sorted=new B.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=yt.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new B.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),yi(0,Wo).pipe((0,de.R)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-l):2===this._verticalScrollDirection&&a.scrollBy(0,l),1===this._horizontalScrollDirection?a.scrollBy(-l,0):2===this._horizontalScrollDirection&&a.scrollBy(l,0)})},this.element=Se(n),this._document=o,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new or(o,s)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,t,o,r){let s;this._draggingStarted(),null==r?(s=this.sortingDisabled?this._draggables.indexOf(n):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(n,t,o))):s=r;const a=this._activeDraggables,l=a.indexOf(n),c=n.getPlaceholderElement();let d=a[s];if(d===n&&(d=a[s+1]),l>-1&&a.splice(l,1),d&&!this._dragDropRegistry.isDragging(d)){const h=d.getRootElement();h.parentElement.insertBefore(c,h),a.splice(s,0,n)}else if(this._shouldEnterAsFirstChild(t,o)){const h=a[0].getRootElement();h.parentNode.insertBefore(c,h),a.unshift(n)}else Se(this.element).appendChild(c),a.push(n);c.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,t,o,r,s,a,l){this._reset(),this.dropped.next({item:n,currentIndex:t,previousIndex:o,container:this,previousContainer:r,isPointerOverContainer:s,distance:a,dropPoint:l})}withItems(n){const t=this._draggables;return this._draggables=n,n.forEach(o=>o._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===n.indexOf(r))?this._reset():this._cacheItems()),this}withDirection(n){return this._direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._orientation=n,this}withScrollableParents(n){const t=Se(this.element);return this._scrollableElements=-1===n.indexOf(t)?[t,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(o=>o.drag===n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,t,o,r){if(this.sortingDisabled||!this._clientRect||!ir(this._clientRect,.05,t,o))return;const s=this._itemPositions,a=this._getItemIndexFromPointerPosition(n,t,o,r);if(-1===a&&s.length>0)return;const l="horizontal"===this._orientation,c=s.findIndex(G=>G.drag===n),d=s[a],p=d.clientRect,g=c>a?1:-1,D=this._getItemOffsetPx(s[c].clientRect,p,g),M=this._getSiblingOffsetPx(c,s,g),R=s.slice();pr(s,c,a),this.sorted.next({previousIndex:c,currentIndex:a,container:this,item:n}),s.forEach((G,X)=>{if(R[X]===G)return;const W=G.drag===n,te=W?D:M,Me=W?n.getPlaceholderElement():G.drag.getRootElement();G.offset+=te,l?(Me.style.transform=sn(`translate3d(${Math.round(G.offset)}px, 0, 0)`,G.initialTransform),kt(G.clientRect,0,te)):(Me.style.transform=sn(`translate3d(0, ${Math.round(G.offset)}px, 0)`,G.initialTransform),kt(G.clientRect,te,0))}),this._previousSwap.overlaps=Yn(p,t,o),this._previousSwap.drag=d.drag,this._previousSwap.delta=l?r.x:r.y}_startScrollingIfNecessary(n,t){if(this.autoScrollDisabled)return;let o,r=0,s=0;if(this._parentPositions.positions.forEach((a,l)=>{l===this._document||!a.clientRect||o||ir(a.clientRect,.05,n,t)&&([r,s]=function Hd(i,n,t,o){const r=fr(n,o),s=vr(n,t);let a=0,l=0;if(r){const c=i.scrollTop;1===r?c>0&&(a=1):i.scrollHeight-c>i.clientHeight&&(a=2)}if(s){const c=i.scrollLeft;1===s?c>0&&(l=1):i.scrollWidth-c>i.clientWidth&&(l=2)}return[a,l]}(l,a.clientRect,n,t),(r||s)&&(o=l))}),!r&&!s){const{width:a,height:l}=this._viewportRuler.getViewportSize(),c={width:a,height:l,top:0,right:a,bottom:l,left:0};r=fr(c,t),s=vr(c,n),o=window}o&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||o!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=o,(r||s)&&o?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=Se(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const n=Se(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(n).clientRect}_cacheItemPositions(){const n="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const o=t.getVisibleElement();return{drag:t,offset:0,initialTransform:o.style.transform||"",clientRect:jn(o)}}).sort((t,o)=>n?t.clientRect.left-o.clientRect.left:t.clientRect.top-o.clientRect.top)}_reset(){this._isDragging=!1;const n=Se(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const o=t.getRootElement();if(o){const r=this._itemPositions.find(s=>s.drag===t)?.initialTransform;o.style.transform=r||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(n,t,o){const r="horizontal"===this._orientation,s=t[n].clientRect,a=t[n+-1*o];let l=s[r?"width":"height"]*o;if(a){const c=r?"left":"top",d=r?"right":"bottom";-1===o?l-=a.clientRect[c]-s[d]:l+=s[c]-a.clientRect[d]}return l}_getItemOffsetPx(n,t,o){const r="horizontal"===this._orientation;let s=r?t.left-n.left:t.top-n.top;return-1===o&&(s+=r?t.width-n.width:t.height-n.height),s}_shouldEnterAsFirstChild(n,t){if(!this._activeDraggables.length)return!1;const o=this._itemPositions,r="horizontal"===this._orientation;if(o[0].drag!==this._activeDraggables[0]){const a=o[o.length-1].clientRect;return r?n>=a.right:t>=a.bottom}{const a=o[0].clientRect;return r?n<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(n,t,o,r){const s="horizontal"===this._orientation,a=this._itemPositions.findIndex(({drag:l,clientRect:c})=>l!==n&&((!r||l!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?t>=Math.floor(c.left)&&t<Math.floor(c.right):o>=Math.floor(c.top)&&o<Math.floor(c.bottom))));return-1!==a&&this.sortPredicate(a,n,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(n,t){return null!=this._clientRect&&Yn(this._clientRect,n,t)}_getSiblingContainerFromPosition(n,t,o){return this._siblings.find(r=>r._canReceive(n,t,o))}_canReceive(n,t,o){if(!this._clientRect||!Yn(this._clientRect,t,o)||!this.enterPredicate(n,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,o);if(!r)return!1;const s=Se(this.element);return r===s||s.contains(r)}_startReceiving(n,t){const o=this._activeSiblings;!o.has(n)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(o.add(n),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(n);t&&(this._itemPositions.forEach(({clientRect:o})=>{kt(o,t.top,t.left)}),this._itemPositions.forEach(({drag:o})=>{this._dragDropRegistry.isDragging(o)&&o._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=Jo(Se(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,n))}}function fr(i,n){const{top:t,bottom:o,height:r}=i,s=r*_r;return n>=t-s&&n<=t+s?1:n>=o-s&&n<=o+s?2:0}function vr(i,n){const{left:t,right:o,width:r}=i,s=r*_r;return n>=t-s&&n<=t+s?1:n>=o-s&&n<=o+s?2:0}const ln=Ft({passive:!1,capture:!0});let $d=(()=>{class i{constructor(t,o){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new B.x,this.pointerUp=new B.x,this.scroll=new B.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=o}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ln)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ln)}startDragging(t,o){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=o.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ln}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:ln}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(t){const o=this._activeDragInstances.indexOf(t);o>-1&&(this._activeDragInstances.splice(o,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const o=[this.scroll];return t&&t!==this._document&&o.push(new pt.y(r=>this._ngZone.runOutsideAngular(()=>{const a=l=>{this._activeDragInstances.length&&r.next(l)};return t.addEventListener("scroll",a,!0),()=>{t.removeEventListener("scroll",a,!0)}}))),(0,Xo.T)(...o)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,o)=>{this._document.removeEventListener(o,t.handler,t.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.R0b),e.LFG(f.K0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const jd={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Qn=(()=>{class i{constructor(t,o,r,s){this._document=t,this._ngZone=o,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(t,o=jd){return new Ud(t,o,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Wd(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(f.K0),e.LFG(e.R0b),e.LFG(bd),e.LFG($d))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Cr=new e.OlP("CDK_DRAG_PARENT"),yr=new e.OlP("CdkDropListGroup"),br=new e.OlP("CDK_DRAG_CONFIG");let Yd=0;const wr=new e.OlP("CdkDropList");let Jd=(()=>{class i{constructor(t,o,r,s,a,l,c){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=a,this._group=l,this._destroyed=new B.x,this.connectedTo=[],this.id="cdk-drop-list-"+Yd++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=o.createDropList(t),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(d,h)=>this.enterPredicate(d.data,h.data),this._dropListRef.sortPredicate=(d,h,p)=>this.sortPredicate(d,h.data,p.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),l&&l._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Mt(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,o)=>t._dragRef.getVisibleElement().compareDocumentPosition(o._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=i._dropLists.indexOf(this);t>-1&&i._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,Wn.O)(this._dir.value),(0,de.R)(this._destroyed)).subscribe(o=>t.withDirection(o)),t.beforeStarted.subscribe(()=>{const o=function rd(i){return Array.isArray(i)?i:[i]}(this.connectedTo).map(r=>"string"==typeof r?i._dropLists.find(a=>a.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===o.indexOf(r)&&o.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=Mt(this.sortingDisabled),t.autoScrollDisabled=Mt(this.autoScrollDisabled),t.autoScrollStep=Go(this.autoScrollStep,2),t.connectedTo(o.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(o=>{this.entered.emit({container:this,item:o.item.data,currentIndex:o.currentIndex})}),t.exited.subscribe(o=>{this.exited.emit({container:this,item:o.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(o=>{this.sorted.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:o.item.data})}),t.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,item:o.item.data,isPointerOverContainer:o.isPointerOverContainer,distance:o.distance,dropPoint:o.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:o,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:a,listOrientation:l}=t;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=a??!1,this.orientation=l||"vertical",o&&(this.lockAxis=o)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return i._dropLists=[],i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(Qn),e.Y36(e.sBO),e.Y36(Cd),e.Y36(er,8),e.Y36(yr,12),e.Y36(br,8))},i.\u0275dir=e.lG2({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,o){2&t&&(e.uIk("id",o.id),e.ekj("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e._Bn([{provide:yr,useValue:void 0},{provide:wr,useExisting:i}])]}),i})();const Tr=new e.OlP("CdkDragHandle"),Qd=new e.OlP("CdkDragPlaceholder"),Kd=new e.OlP("CdkDragPreview");let Xd=(()=>{class i{constructor(t,o,r,s,a,l,c,d,h,p,g){this.element=t,this.dropContainer=o,this._ngZone=s,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=h,this._selfHandle=p,this._parentDrag=g,this._destroyed=new B.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new pt.y(D=>{const M=this._dragRef.moved.pipe((0,$.U)(R=>({source:this,pointerPosition:R.pointerPosition,event:R.event,delta:R.delta,distance:R.distance}))).subscribe(D);return()=>{M.unsubscribe()}}),this._dragRef=d.createDrag(t,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:l?.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),l&&this._assignDefaults(l),o&&(this._dragRef._withDropContainer(o._dropListRef),o.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Mt(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ee.q)(1),(0,de.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const o=t.rootElementSelector,r=t.freeDragPosition;o&&!o.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=i._dragInstances.indexOf(this);t>-1&&i._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let o=t;this.rootElementSelector&&(o=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(o||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):Se(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const o=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:Go(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),o&&t.withDirection(o.value)}}),t.beforeStarted.pipe((0,Ee.q)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let o=this.element.nativeElement.parentElement;for(;o;){if(o.classList.contains("cdk-drag")){t.withParent(i._dragInstances.find(r=>r.element.nativeElement===o)?._dragRef||null);break}o=o.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(o=>{this.ended.emit({source:this,distance:o.distance,dropPoint:o.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(o=>{this.entered.emit({container:o.container.data,item:this,currentIndex:o.currentIndex})}),t.exited.subscribe(o=>{this.exited.emit({container:o.container.data,item:this})}),t.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,isPointerOverContainer:o.isPointerOverContainer,item:this,distance:o.distance,dropPoint:o.dropPoint})})}_assignDefaults(t){const{lockAxis:o,dragStartDelay:r,constrainPosition:s,previewClass:a,boundaryElement:l,draggingDisabled:c,rootElementSelector:d,previewContainer:h}=t;this.disabled=c??!1,this.dragStartDelay=r||0,o&&(this.lockAxis=o),s&&(this.constrainPosition=s),a&&(this.previewClass=a),l&&(this.boundaryElement=l),d&&(this.rootElementSelector=d),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.changes.pipe((0,Wn.O)(this._handles),(0,T.b)(t=>{const o=t.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&o.push(this.element),this._dragRef.withHandles(o)}),(0,ue.w)(t=>(0,Xo.T)(...t.map(o=>o._stateChanges.pipe((0,Wn.O)(o))))),(0,de.R)(this._destroyed)).subscribe(t=>{const o=this._dragRef,r=t.element.nativeElement;t.disabled?o.disableHandle(r):o.enableHandle(r)})}}return i._dragInstances=[],i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(wr,12),e.Y36(f.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(br,8),e.Y36(er,8),e.Y36(Qn),e.Y36(e.sBO),e.Y36(Tr,10),e.Y36(Cr,12))},i.\u0275dir=e.lG2({type:i,selectors:[["","cdkDrag",""]],contentQueries:function(t,o,r){if(1&t&&(e.Suo(r,Kd,5),e.Suo(r,Qd,5),e.Suo(r,Tr,5)),2&t){let s;e.iGM(s=e.CRH())&&(o._previewTemplate=s.first),e.iGM(s=e.CRH())&&(o._placeholderTemplate=s.first),e.iGM(s=e.CRH())&&(o._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,o){2&t&&e.ekj("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:Cr,useExisting:i}]),e.TTD]}),i})(),eu=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Qn],imports:[wd]}),i})();function nu(i,n){if(1&i&&(e.O4$(),e.TgZ(0,"svg",6),e._UZ(1,"path",7),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.uIk("fill",t.colors.GREEN)}}function iu(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"figure",3),e._UZ(2,"img",4),e.qZA(),e.YNc(3,nu,2,1,"svg",5),e.BQk()),2&i){const t=n.$implicit,o=n.last,r=e.oxw();e.xp6(1),e.Q6J("cdkDragDisabled",r.isFinished)("cdkDragLockAxis","x"),e.xp6(1),e.Q6J("src",t.img,e.LSH),e.xp6(1),e.Q6J("ngIf",!o)}}const ru={path:"what_before",loadComponent:ne,providers:[{provide:ie.s,useValue:[ae,(()=>{var i=new WeakMap,n=new WeakSet,t=new WeakSet,o=new WeakSet;class r{constructor(d){(0,E.Z)(this,o),(0,E.Z)(this,t),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._themeItemsService=d,this.gameLoader=null,this.items=null,this.isFinished=!1,this.colors=v.r,this.onDrop$=new B.x,(0,_.Z)(this,i,null)}ngOnInit(){(0,y.Z)(this,n,s).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}}function s(){this.gameLoader=this._themeItemsService.getItems().pipe((0,T.b)(c=>{(0,y.Z)(this,t,a).call(this,c),this.items=V.shuffle(c)}),(0,Q.z)(()=>k.preloadThemeItemsImgs(this.items)))}function a(c){(0,_.Z)(this,i,this.onDrop$.pipe((0,T.b)(d=>pr(this.items,d.previousIndex,d.currentIndex)),(0,ue.w)(()=>(0,y.Z)(this,o,l).call(this,this.items).pipe(function tu(i,n=((t,o)=>t===o)){return(0,rt.e)((t,o)=>{const r={buffer:[],complete:!1},s={buffer:[],complete:!1},a=c=>{o.next(c),o.complete()},l=(c,d)=>{const h=(0,Je.x)(o,p=>{const{buffer:g,complete:D}=d;0===g.length?D?a(!1):c.buffer.push(p):!n(p,g.shift())&&a(!1)},()=>{c.complete=!0;const{complete:p,buffer:g}=d;p&&a(0===g.length),h?.unsubscribe()});return h};t.subscribe(l(r,s)),(0,mt.Xf)(i).subscribe(l(s,r))})}((0,y.Z)(this,o,l).call(this,c)))),(0,H.h)(Boolean),(0,T.b)(()=>this.isFinished=!0),Ue(300),(0,T.b)(()=>j.A.gameCompleted())).subscribe())}function l(c){return(0,Qe.D)(c).pipe(Ot("id"))}return r.\u0275fac=function(d){return new(d||r)(e.Y36(k))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],standalone:!0,features:[e._Bn([k]),e.jDz],decls:3,vars:2,consts:[[3,"gameLoader"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"list",3,"cdkDropListDropped"],[4,"ngFor","ngForOf"],["cdkDrag","",1,"img-container",3,"cdkDragDisabled","cdkDragLockAxis"],["alt","",1,"img",3,"src"],["aria-hidden","true","focusable","false","width","50px","height","50px","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",4,"ngIf"],["aria-hidden","true","focusable","false","width","50px","height","50px","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["d","M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"]],template:function(d,h){1&d&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1),e.NdJ("cdkDropListDropped",function(g){return h.onDrop$.next(g)}),e.YNc(2,iu,4,4,"ng-container",2),e.qZA()()),2&d&&(e.Q6J("gameLoader",h.gameLoader),e.xp6(2),e.Q6J("ngForOf",h.items))},dependencies:[se,f.O5,f.ax,eu,Jd,Xd],styles:[".list[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:400px;margin:auto}.img-container[_ngcontent-%COMP%]{display:flex;width:25%;padding:1rem;cursor:pointer}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.1}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"],changeDetection:0}),r})()]}]};class su{constructor(n,t){this.themeItem=n,this.style=null;const o=new _n(t.coords);this.style={...t.style,...o.style}}}class it{constructor(n,t){this._http=n,this._addStepsService=t}getItemsProps(){const n=`${J.J.getCustomGameThemeFolder()}${J.J.getChosenSetSegment(this._addStepsService.chosenSetIndex)}/items-props.${Ie.D.JSON}`;return this._fetchProps(n)}_fetchProps(n){return this._http.get(n)}}function au(i,n){if(1&i&&e._UZ(0,"img",6),2&i){const t=n.$implicit;e.Q6J("src",t.themeItem.img,e.LSH)("ngStyle",t.style)}}function lu(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"theme-items-bar",7),e.NdJ("itemClick",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.item$.next(r))}),e.ALo(1,"async"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("items",t.itemsToChoose)("header",e.lcZ(1,2,t.itemsHeader$))}}it.\u0275fac=function(n){return new(n||it)(e.LFG(Ne.eN),e.LFG(we))},it.\u0275prov=e.Yz7({token:it,factory:it.\u0275fac}),(0,Pe.gn)([(0,Ge.q)()],it.prototype,"_fetchProps",null);const du={path:"what_is_forgot",loadComponent:ne,providers:[{provide:we,useClass:ke},{provide:ie.s,useValue:[ae,ft,(()=>{var i=new WeakMap,n=new WeakSet,t=new WeakSet,o=new WeakSet;class r{constructor(d,h,p,g){(0,E.Z)(this,o),(0,E.Z)(this,t),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._themeItemsService=d,this._whatIsForgotService=h,this._translationService=p,this._cdRef=g,this.gameLoader=null,this.bg=null,this.items=null,this.itemsToChoose=null,this.props=null,this.item$=new B.x,this.itemsHeader$=this._translationService.loadTranslation("chapters/games/intellect").pipe((0,$.U)(D=>D.what_is_forgot)),(0,_.Z)(this,i,null)}ngOnInit(){(0,y.Z)(this,n,s).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}}function s(){this.gameLoader=(0,ve.D)({items:this._themeItemsService.getItems(),props:this._whatIsForgotService.getItemsProps()}).pipe((0,$.U)(c=>{this.bg=c.items.find(p=>"bg"===p.id),this.itemsToChoose=c.items.filter(p=>"bg"!==p.id),this.props=c.props;const h=V.getRndInteger(0,this.itemsToChoose.length-1);return this.items=this.itemsToChoose.reduce((p,g,D)=>(D!==h&&p.push((0,y.Z)(this,o,l).call(this,g)),p),[]),c.items}),(0,Q.z)(c=>k.preloadThemeItemsImgs(c)),(0,T.b)(()=>(0,y.Z)(this,t,a).call(this)))}function a(){var c=this;(0,_.Z)(this,i,this.item$.pipe((0,H.h)(()=>this.items.length!==this.itemsToChoose.length),(0,ue.w)(function(){var d=(0,re.Z)(function*(h){c.items.some(p=>p.themeItem.id===h.id)?yield Y.d.playErrorSound():(c.items.push((0,y.Z)(c,o,l).call(c,h)),c._cdRef.markForCheck(),yield Y.d.playWinSound())});return function(h){return d.apply(this,arguments)}}())).subscribe())}function l(c){const d=this.props.find(h=>h.id===c.id);return new su(c,d)}return r.\u0275fac=function(d){return new(d||r)(e.Y36(k),e.Y36(it),e.Y36(S.f),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],standalone:!0,features:[e._Bn([it,k]),e.jDz],decls:6,vars:4,consts:[[3,"gameLoader"],[1,"container"],[1,"items"],[1,"d--block","w--100",3,"src"],["class","d--block p--absolute",3,"src","ngStyle",4,"ngFor","ngForOf"],[3,"items","header","itemClick",4,"ngIf"],[1,"d--block","p--absolute",3,"src","ngStyle"],[3,"items","header","itemClick"]],template:function(d,h){1&d&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"figure",2),e._UZ(3,"img",3),e.YNc(4,au,1,2,"img",4),e.qZA(),e.YNc(5,lu,2,4,"theme-items-bar",5),e.qZA()()),2&d&&(e.Q6J("gameLoader",h.gameLoader),e.xp6(3),e.Q6J("src",null==h.bg?null:h.bg.img,e.LSH),e.xp6(1),e.Q6J("ngForOf",h.items),e.xp6(1),e.Q6J("ngIf",h.itemsToChoose))},dependencies:[se,f.ax,f.O5,lt,f.PC,f.Ov],styles:[".pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content;height:100%}.items[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto;position:relative}"],changeDetection:0}),r})()]}]},Dr=5;class uu{constructor(n,t=null){this.item=n,this.isCorrect=t}}function hu(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"figure",2),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.item$.next(s))}),e._UZ(1,"img",3),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(1),e.Q6J("isCorrect",t.isCorrect)("src",t.item.img,e.LSH)}}let mu=(()=>{var i=new WeakMap,n=new WeakSet;class t extends ze{constructor(){super(),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this.data=null,this.columnsAmount=(K.k.getAgesConfig()+1)/2,this.item$=new B.x,(0,_.Z)(this,i,null)}ngOnInit(){this.onDataLoad(this.data),(0,y.Z)(this,n,o).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}}function o(){(0,_.Z)(this,i,this.item$.pipe((0,Ee.q)(1),(0,T.b)(r=>{r.isCorrect=1===this.data.filter(s=>s.item.theme.id===r.item.theme.id)?.length,r.isCorrect||(this.data.find(a=>a.item.theme.id!==r.item.theme.id).isCorrect=!0),this.emitData(r.isCorrect)})).subscribe())}return t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],inputs:{data:"data"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:3,consts:[["gridSizer","",1,"container",3,"rowsAmount","columnsAmount"],["class","figure curve-border border-width--1 border--dotted border--green radial-gradient--soft-grey cursor--pointer",3,"click",4,"ngFor","ngForOf"],[1,"figure","curve-border","border-width--1","border--dotted","border--green","radial-gradient--soft-grey","cursor--pointer",3,"click"],[1,"figure__img",3,"isCorrect","src"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0),e.YNc(1,hu,2,2,"figure",1),e.qZA()),2&s&&(e.Q6J("rowsAmount",2)("columnsAmount",a.columnsAmount),e.xp6(1),e.Q6J("ngForOf",a.data))},dependencies:[f.ax,Re,zt],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.shake-horizontal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes _ngcontent-%COMP%_shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}"],changeDetection:0}),t})();function pu(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"carousel",5),e.NdJ("emitDataFromItem",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.answer$.next(r))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("slides",t.variants)("height","100%")("blockManualSwiping",!0)("itemComponent",t.questionComponent)}}const _u={path:"what_is_unwanted",loadComponent:ne,providers:[{provide:ie.s,useValue:[Te,ae,(()=>{var i=new WeakMap,n=new WeakSet,t=new WeakSet,o=new WeakSet;class r{constructor(d,h){(0,E.Z)(this,o),(0,E.Z)(this,t),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._cdRef=d,this._themesItemsService=h,this.gameLoader=null,this.variants=null,this.answers=[],this.questionComponent=mu,this.answer$=new B.x,(0,_.Z)(this,i,null)}ngOnInit(){(0,y.Z)(this,n,s).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}}function s(){this.gameLoader=this._themesItemsService.getItems().pipe((0,pe.J)(),Bo(c=>c.theme.id),(0,Q.z)(c=>c.pipe((0,oe.q)())),(0,oe.q)(),(0,ue.w)(c=>Ro(1,Dr).pipe((0,$.U)(()=>(0,y.Z)(this,o,l).call(this,c)),(0,oe.q)(),(0,T.b)(d=>this.variants=d),(0,pe.J)())),(0,pe.J)(),Ot("item","img"),(0,oe.q)(),(0,T.b)(()=>(0,y.Z)(this,t,a).call(this)),(0,Q.z)(c=>ot.O.getImages(c)))}function a(){var c=this;this.answer$.pipe((0,ue.w)(function(){var d=(0,re.Z)(function*(h){return yield h?Y.d.playRightSound():Y.d.playErrorSound(),c.answers.push(h),c.questionsCarousel.slideToRight(),c._cdRef.detectChanges(),h});return function(h){return d.apply(this,arguments)}}()),Fe(Dr),(0,T.b)(d=>d.some(h=>!h)?j.A.gameFailed():j.A.gameCompleted())).subscribe()}function l(c){const d=Math.random()<.5?[...c].reverse():c,h=V.getRandItems(d[0],K.k.getAgesConfig());return h.push(V.getRndArrElem(d[1])),V.shuffle(h.map(p=>new uu(p)))}return r.\u0275fac=function(d){return new(d||r)(e.Y36(e.sBO),e.Y36(k))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],viewQuery:function(d,h){if(1&d&&e.Gf(_e,5),2&d){let p;e.iGM(p=e.CRH())&&(h.questionsCarousel=p.first)}},standalone:!0,features:[e._Bn([k]),e.jDz],decls:5,vars:3,consts:[[3,"gameLoader"],[1,"container"],[1,"w--100","overflow-x--hidden"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem",4,"ngIf"],[3,"answers"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem"]],template:function(d,h){1&d&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),e.YNc(3,pu,1,4,"carousel",3),e.qZA(),e._UZ(4,"answers-bar",4),e.qZA()()),2&d&&(e.Q6J("gameLoader",h.gameLoader),e.xp6(3),e.Q6J("ngIf",h.variants&&h.variants.length),e.xp6(1),e.Q6J("answers",h.answers))},dependencies:[se,_e,_t,f.O5],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content;height:100%;place-items:center}"],changeDetection:0}),r})()]},{provide:Ce,useValue:new Map([[0,3],[1,5],[2,7]])}]};var fu=u(631);class ht{static getHourHandAngle(n){return 30*n.hours+30*n.minutes/60}static getMinuteHandAngle(n){return 360*n.minutes/60}}ht.answer$=new B.x,ht.variants=[];let xr=(()=>{class i extends xe{constructor(t,o,r,s){super(r,s),this._elementRef=t,this._renderer=o}setGameSizes(){const t=this._elementRef.nativeElement.getBoundingClientRect().width;this._renderer.setStyle(this._elementRef.nativeElement,L.L.FONT_SIZE,`${t/50}${z.REM}`)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(f.K0))},i.\u0275dir=e.lG2({type:i,selectors:[["","adaptiveFontSizer",""]],standalone:!0,features:[e.qOj]}),i})(),Cu=(()=>{class i{transform(t){return t<10?`0${t}`:`${t}`}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"time",type:i,pure:!0,standalone:!0}),i})();function yu(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"span",3),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.onVariantClick(s))}),e._uU(1),e.ALo(2,"time"),e.ALo(3,"time"),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,t.hours),":",e.lcZ(3,4,t.minutes)," ")}}function bu(i,n){if(1&i&&(e.TgZ(0,"div",1),e.YNc(1,yu,4,6,"span",2),e.qZA()),2&i){const t=e.oxw();e.Q6J("rowsAmount",1)("columnsAmount",t.variants.length)("itemSize",200)("coeff",.5),e.xp6(1),e.Q6J("ngForOf",t.variants)}}let wu=(()=>{var i=new WeakMap,n=new WeakMap,t=new WeakSet,o=new WeakSet;class r extends ze{constructor(){super(...arguments),(0,E.Z)(this,o),(0,E.Z)(this,t),(0,x.Z)(this,i,{writable:!0,value:void 0}),(0,x.Z)(this,n,{writable:!0,value:void 0}),this.variants=null,(0,_.Z)(this,i,null),(0,_.Z)(this,n,!1)}ngOnInit(){(0,y.Z)(this,t,s).call(this),this.onDataLoad(this.data)}ngAfterViewInit(){this.adaptiveFontSizerD.forEach(c=>c.setGameSizes())}onVariantClick(c){var d=this;return(0,re.Z)(function*(){if((0,m.Z)(d,n))return;(0,_.Z)(d,n,!0);const h=(0,m.Z)(d,i).hours===c.hours&&(0,m.Z)(d,i).minutes===c.minutes;yield h?Y.d.playRightSound():Y.d.playErrorSound(),ht.answer$.next(h)})()}}function s(){const l=V.getRandItems(V.getSequence(13));l.length=K.k.getAgesConfig().variantsAmount,this.variants=l.map(c=>({hours:c,minutes:V.getRndArrElem(K.k.getAgesConfig().minutes)})),(0,y.Z)(this,o,a).call(this),this.emitData((0,m.Z)(this,i))}function a(){(0,_.Z)(this,i,V.getRndArrElem(this.variants)),ht.variants.push((0,m.Z)(this,i))}return r.\u0275fac=function(){let l;return function(d){return(l||(l=e.n5z(r)))(d||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],viewQuery:function(c,d){if(1&c&&e.Gf(xr,5),2&c){let h;e.iGM(h=e.CRH())&&(d.adaptiveFontSizerD=h)}},inputs:{data:"data"},standalone:!0,features:[e.qOj,e.jDz],decls:1,vars:1,consts:[["class","variants","gridSizer","",3,"rowsAmount","columnsAmount","itemSize","coeff",4,"ngIf"],["gridSizer","",1,"variants",3,"rowsAmount","columnsAmount","itemSize","coeff"],["adaptiveFontSizer","","class","variants__item",3,"click",4,"ngFor","ngForOf"],["adaptiveFontSizer","",1,"variants__item",3,"click"]],template:function(c,d){1&c&&e.YNc(0,bu,2,5,"div",0),2&c&&e.Q6J("ngIf",d.variants)},dependencies:[f.O5,Re,f.ax,xr,Cu],styles:["@font-face{font-family:digital;src:url(digital.1859dc19b93399cb.ttf)}.variants[_ngcontent-%COMP%]{font-family:digital;cursor:pointer;font-size:3.5rem}.variants__item[_ngcontent-%COMP%]{padding:5px;background-color:#333;color:#0f0;border-radius:5px;border:8px solid #1a1a1a;display:flex;align-items:center;justify-content:center}"],changeDetection:0}),r})();function Tu(i,n){1&i&&e.GkF(0)}function Su(i,n){1&i&&e.GkF(0)}function Du(i,n){if(1&i&&e._UZ(0,"img",10),2&i){const t=n.$implicit;e.Gre("hand d--block p--absolute hand--",t.modifier,""),e.Udp("transform","rotate("+t.hand.angle+"deg)"),e.Q6J("src",t.hand.img,e.LSH)}}const Iu=function(i){return{hand:i,modifier:"hour"}},Or=function(i){return{$implicit:i}},Eu=function(i){return{hand:i,modifier:"minute"}},Ou={path:"what_time_is_it",loadComponent:ne,providers:[{provide:ie.s,useValue:[Te,(()=>{var i=new WeakMap,n=new WeakSet;class t{constructor(){(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this.slides=V.getSequence(K.k.getAgesConfig().variantsAmount),this.clockwise=`${De.B.getGameFolder()}img/clockwise.${Ie.D.PNG}`,this.hourHand={img:`${De.B.getGameFolder()}img/hour_hand.${Ie.D.PNG}`,angle:0},this.minuteHand={img:`${De.B.getGameFolder()}img/minute_hand.${Ie.D.PNG}`,angle:0},this.gameLoader=null,this.answers=[],this.itemComponent=wu,(0,_.Z)(this,i,null)}ngOnInit(){J.J.setChosenTheme(new Nt({id:fu.v.CLOCKS},{})),(0,y.Z)(this,n,o).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}setTime(s){this.hourHand.angle=ht.getHourHandAngle(s),this.minuteHand.angle=ht.getMinuteHandAngle(s)}onLoadGame(){requestAnimationFrame(()=>this.imgWrapperVCh.setGameSizes())}}function o(){this.gameLoader=ot.O.getImages([this.clockwise,this.hourHand.img,this.minuteHand.img]).pipe((0,T.b)(()=>(0,_.Z)(this,i,ht.answer$.pipe((0,T.b)(r=>{this.answers.push(r),this.itemsCarouselVCh.slideToRight()}),Fe(this.slides.length),(0,T.b)(r=>r.some(s=>!s)?j.A.gameFailed():j.A.gameCompleted())).subscribe())))}return t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(s,a){if(1&s&&(e.Gf(_e,5),e.Gf(St,5)),2&s){let l;e.iGM(l=e.CRH())&&(a.itemsCarouselVCh=l.first),e.iGM(l=e.CRH())&&(a.imgWrapperVCh=l.first)}},standalone:!0,features:[e.jDz],decls:12,vars:20,consts:[[3,"gameLoader","loadGame"],[1,"container","h-max--100"],["imgWrapper","",1,"h--100","overflow--hidden","p--relative",3,"img"],[1,"d--block","w-max--100","h-max--100",3,"src"],["clockwiseBg",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["clockHandTmpl",""],[1,"overflow-x--hidden","w--100"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem"],[3,"answers"],[3,"src"]],template:function(s,a){if(1&s&&(e.TgZ(0,"game-spinner-wrapper",0),e.NdJ("loadGame",function(){return a.onLoadGame()}),e.TgZ(1,"div",1)(2,"figure",2),e._UZ(3,"img",3,4),e.YNc(5,Tu,1,0,"ng-container",5),e.YNc(6,Su,1,0,"ng-container",5),e.YNc(7,Du,1,6,"ng-template",null,6,e.W1O),e.qZA(),e.TgZ(9,"div",7)(10,"carousel",8),e.NdJ("emitDataFromItem",function(c){return a.setTime(c)}),e.qZA()(),e._UZ(11,"answers-bar",9),e.qZA()()),2&s){const l=e.MAs(4),c=e.MAs(8);e.Q6J("gameLoader",a.gameLoader),e.xp6(2),e.Q6J("img",l),e.xp6(1),e.Q6J("src",a.clockwise,e.LSH),e.xp6(2),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(14,Or,e.VKq(12,Iu,a.hourHand))),e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(18,Or,e.VKq(16,Eu,a.minuteHand))),e.xp6(4),e.Q6J("slides",a.slides)("height","100%")("blockManualSwiping",!0)("itemComponent",a.itemComponent),e.xp6(1),e.Q6J("answers",a.answers)}},dependencies:[se,St,f.tP,_e,_t],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content min-content;place-items:center;grid-gap:1rem}.hand[_ngcontent-%COMP%]{transform-origin:bottom;transition:transform 1s;transition-timing-function:ease-in-out}.hand--hour[_ngcontent-%COMP%]{max-height:15%;top:47%;left:47%}.hand--minute[_ngcontent-%COMP%]{max-height:20%;top:41%;left:48%}"],changeDetection:0}),t})()]},{provide:Ce,useValue:new Map([[0,{variantsAmount:3,minutes:[0]}],[1,{variantsAmount:4,minutes:[0,30]}],[2,{variantsAmount:5,minutes:[0,15,30,45]}]])}]},Kn=8;let qn=(()=>{class i{}return i.itemsSet=null,i})();const Mu=["btn"];let Mr=(()=>{var i=new WeakMap,n=new WeakSet;class t{constructor(s){(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._renderer=s,this.item=null,this.colors=v.r}ngAfterViewInit(){this.addPulsate()}ngOnDestroy(){(0,y.Z)(this,n,o).call(this)}play(){var s=this;return(0,re.Z)(function*(){(0,y.Z)(s,n,o).call(s),yield s.item.playOwnSound(),(0,_.Z)(s,i,setTimeout(()=>s.addPulsate(),3e3))})()}addPulsate(){this._renderer.addClass(this.btnEl.nativeElement,ye.PULSATE_FWD)}}function o(){clearTimeout((0,m.Z)(this,i)),this._renderer.removeClass(this.btnEl.nativeElement,ye.PULSATE_FWD)}return t.\u0275fac=function(s){return new(s||t)(e.Y36(e.Qsj))},t.\u0275cmp=e.Xpm({type:t,selectors:[["play-button"]],viewQuery:function(s,a){if(1&s&&e.Gf(Mu,7),2&s){let l;e.iGM(l=e.CRH())&&(a.btnEl=l.first)}},inputs:{item:"item"},standalone:!0,features:[e.jDz],decls:3,vars:4,consts:[[1,"btn-container",3,"click"],["btn",""],[1,"btn"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0,1),e.NdJ("click",function(){return a.play()}),e._UZ(2,"div",2),e.qZA()),2&s&&(e.Udp("border-color",a.colors.BLUE),e.xp6(2),e.Udp("border-left-color",a.colors.BLUE))},styles:[".pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.btn[_ngcontent-%COMP%]{width:0;height:0;margin-left:32px;border-top:30px solid transparent;border-left:45px solid;border-bottom:30px solid transparent;cursor:pointer}.btn-container[_ngcontent-%COMP%]{display:flex;width:100px;height:100px;align-items:center;border:2px solid;border-radius:50px}"],changeDetection:0}),t})();function Au(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"figure",6),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.MAs(3),l=e.MAs(5),c=e.oxw();return e.KtG(c.answer$.next({id:s.id,el:a,titleEl:l}))}),e.TgZ(1,"div",7),e._UZ(2,"img",8,9),e.qZA(),e.TgZ(4,"figcaption",10,11),e._uU(6),e.qZA()()}if(2&i){const t=n.$implicit;e.xp6(2),e.Q6J("src",t.img,e.LSH),e.xp6(4),e.hij(" ",t.title," ")}}function Pu(i,n){if(1&i&&e._UZ(0,"play-button",12),2&i){const t=e.oxw();e.Q6J("item",t.itemsCopy[t.index])}}let Fu=(()=>{var i=new WeakMap,n=new WeakSet,t=new WeakSet,o=new WeakSet;class r{constructor(h){(0,E.Z)(this,o),(0,E.Z)(this,t),(0,E.Z)(this,n),(0,x.Z)(this,i,{writable:!0,value:void 0}),this._renderer=h,this.gameLoader=null,this.items=qn.itemsSet,this.itemsCopy=V.shuffle([...qn.itemsSet]),this.index=0,this.answer$=new B.x,(0,_.Z)(this,i,null)}ngOnInit(){(0,y.Z)(this,n,s).call(this)}ngOnDestroy(){(0,m.Z)(this,i)?.unsubscribe()}}function s(){this.gameLoader=(0,ve.D)([Y.d.preloadThemeItemsOwnSounds(this.items)]).pipe((0,T.b)(()=>(0,y.Z)(this,t,a).call(this)))}function a(){var d=this;(0,_.Z)(this,i,this.answer$.pipe((0,T.b)(function(){var h=(0,re.Z)(function*({id:p,el:g,titleEl:D}){d.itemsCopy[d.index].id===p?(d._renderer.setStyle(g,L.L.OPACITY,.3),d._renderer.setStyle(D,L.L.TEXT_DECORATION,"line-through"),yield(0,y.Z)(d,o,l).call(d)):yield Y.d.playErrorSound()});return function(p){return h.apply(this,arguments)}}())).subscribe())}function l(){return c.apply(this,arguments)}function c(){return(c=(0,re.Z)(function*(){this.index===Math.min(this.items.length,Kn)-1?j.A.gameCompleted():(this.index++,yield Y.d.playRightSound(),this.playButton.addPulsate())})).apply(this,arguments)}return r.\u0275fac=function(h){return new(h||r)(e.Y36(e.Qsj))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],viewQuery:function(h,p){if(1&h&&e.Gf(Mr,5),2&h){let g;e.iGM(g=e.CRH())&&(p.playButton=g.first)}},standalone:!0,features:[e.jDz],decls:6,vars:5,consts:[[3,"gameLoader"],[1,"container"],["gridSizer","",3,"rowsAmount","columnsAmount"],["class","curve-border border-width--1 border--dotted border--grey radial-gradient--soft-grey cursor--pointer",3,"click",4,"ngFor","ngForOf"],[1,"play-btn-container"],[3,"item",4,"ngIf"],[1,"curve-border","border-width--1","border--dotted","border--grey","radial-gradient--soft-grey","cursor--pointer",3,"click"],[1,"img-container"],[1,"img",3,"src"],["itemImgEl",""],[1,"title","text--center"],["titleEl",""],[3,"item"]],template:function(h,p){1&h&&(e.TgZ(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),e.YNc(3,Au,7,2,"figure",3),e.qZA(),e.TgZ(4,"div",4),e.YNc(5,Pu,1,1,"play-button",5),e.qZA()()()),2&h&&(e.Q6J("gameLoader",p.gameLoader),e.xp6(2),e.Q6J("rowsAmount",2)("columnsAmount",4),e.xp6(1),e.Q6J("ngForOf",p.items),e.xp6(2),e.Q6J("ngIf",p.itemsCopy))},dependencies:[se,Re,f.ax,f.O5,Mr],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:1fr min-content;place-items:center}.img[_ngcontent-%COMP%]{display:block;margin:auto;max-width:80%;max-height:80%}.img-container[_ngcontent-%COMP%]{display:flex;height:80%;margin:auto}@media screen and (max-width: 600px){.img-container[_ngcontent-%COMP%]{height:100%}}@media screen and (max-width: 600px){.title[_ngcontent-%COMP%]{display:none}}.play-btn-container[_ngcontent-%COMP%]{display:flex;margin-top:1rem;justify-content:center}"],changeDetection:0}),r})();function Ru(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw().ngIf,l=e.oxw();return e.KtG(l.chooseSet(a.sets.get(s),{title:a.stepInfoTitle,style:{color:l.colors.PINK}}))}),e._uU(1),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t+1," ")}}function ku(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"header")(2,"h1",2),e._uU(3),e.ALo(4,"capitalizeFirstLetter"),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,Ru,2,1,"div",4),e.qZA(),e.BQk()),2&i){const t=n.ngIf;e.xp6(3),e.hij("",e.lcZ(4,2,t.title),":"),e.xp6(3),e.Q6J("ngForOf",t.sets.keys())}}function Zu(i,n){1&i&&e._UZ(0,"spinner")}const Vu=[{path:"",redirectTo:"main",pathMatch:"full"},{path:"main",component:Zr,children:[{path:"",redirectTo:"games",pathMatch:"full"},{path:"games",loadChildren:()=>u.e(683).then(u.bind(u,6683)).then(i=>i.GAMES_CHAPTER_ROUTES)},{path:"about",loadComponent:()=>u.e(946).then(u.bind(u,1946)).then(i=>i.AboutComponent)},{path:"acknowledgment",loadComponent:()=>u.e(345).then(u.bind(u,4345)).then(i=>i.AcknowledgmentComponent)},{path:"contacts",loadComponent:()=>u.e(142).then(u.bind(u,7142)).then(i=>i.ContactsComponent)}]},Is,Ms,Ws,ta,aa,Da,La,ec,sc,uc,gc,Cc,Ec,Pc,Zc,jc,Qc,id,ru,du,_u,Ou,{path:"whose_sound",loadComponent:ne,providers:[{provide:ie.s,useValue:[ae,(()=>{class i{constructor(t,o){this._themeItemsService=t,this._translationsService=o,this.content$=null,this.colors=v.r}ngOnInit(){this.content$=this._themeItemsService.getItems(o=>o.hasOwnSound).pipe((0,Q.z)(o=>o.length<=Kn?(this.chooseSet(o),(0,me.of)(null)):this._translationsService.loadTranslation("add_steps").pipe((0,$.U)(r=>({sets:V.groupArrByLength(o,Kn),title:r.choose_set,stepInfoTitle:r.to_choose_set})))))}chooseSet(t,o=null){qn.itemsSet=t,j.A.updateStepInfo(o),j.A.goToNext()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(k),e.Y36(S.f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[e._Bn([k]),e.jDz],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["spinnerTmpl",""],[1,"text--center"],[1,"container"],["class","set radial-gradient--soft-grey",3,"click",4,"ngFor","ngForOf"],[1,"set","radial-gradient--soft-grey",3,"click"]],template:function(t,o){if(1&t&&(e.YNc(0,ku,7,4,"ng-container",0),e.ALo(1,"async"),e.YNc(2,Zu,1,0,"ng-template",null,1,e.W1O)),2&t){const r=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,o.content$))("ngIfElse",r)}},dependencies:[f.O5,f.Ov,f.ax,_i.O,F.G],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,200px));grid-gap:1rem}.set[_ngcontent-%COMP%]{padding:1rem;font-size:3rem;cursor:pointer;border:1px solid #9e9e9e;box-shadow:0 0 10px 18px #ffffffbf;text-align:center;border-radius:5px;font-weight:700}.set[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0}),i})(),Fu]}]}]},4375:(ee,N,u)=>{u.d(N,{Q:()=>b});var v=u(4650);let b=(()=>{class C{constructor(I){this.cdRef=I,this.searchStr="",this.loaded=!1}ngOnInit(){this.buildList()}showList(){setTimeout(()=>{this.loaded=!0,this.cdRef.markForCheck()},300)}}return C.\u0275fac=function(I){return new(I||C)(v.Y36(v.sBO))},C.\u0275dir=v.lG2({type:C}),C})()},5316:(ee,N,u)=>{u.d(N,{a:()=>C});var v=u(829),b=u(4650);let C=(()=>{class P{constructor(){this.title="",this.category=null}}return P.\u0275fac=function(w){return new(w||P)},P.\u0275cmp=b.Xpm({type:P,selectors:[["category-title"]],inputs:{title:"title",category:"category"},standalone:!0,features:[b.jDz],decls:3,vars:5,consts:[[1,"title"]],template:function(w,S){1&w&&(b.TgZ(0,"div",0),b._uU(1),b.ALo(2,"capitalizeFirstLetter"),b.qZA()),2&w&&(b.Udp("color",null==S.category?null:S.category.color),b.xp6(1),b.hij(" ",b.lcZ(2,3,S.title),"\n"))},dependencies:[v.G],styles:[".title[_ngcontent-%COMP%]{font-size:2rem;text-shadow:0 1px 0 #fff,0 2px 0 #fff,0 3px 0 #fff,0 4px 2px #fff,1px 0 0 #fff,2px 0 0 #fff,3px 0 0 #fff,4px 0 2px #fff,0 -1px 0 #fff,0 -2px 0 #fff,0 -3px 0 #fff,0 -4px 2px #fff,-1px 0 0 #fff,-2px 0 0 #fff,-3px 0 0 #fff,-4px 0 2px #fff}"],changeDetection:0}),P})()},1739:(ee,N,u)=>{u.d(N,{d:()=>P});var v=u(6895),b=u(4650);const C=["*"];let P=(()=>{class I{constructor(S){this._cdRef=S,this.appearanceFrom="right",this.isActive=!1}toggleMenu(){this.isActive=!this.isActive}closeMenu(){this.isActive=!1,this._cdRef.markForCheck()}}return I.\u0275fac=function(S){return new(S||I)(b.Y36(b.sBO))},I.\u0275cmp=b.Xpm({type:I,selectors:[["menu-toggle"]],inputs:{appearanceFrom:"appearanceFrom"},standalone:!0,features:[b.jDz],ngContentSelectors:C,decls:4,vars:2,consts:[[1,"toggle","smooth-bg",3,"click"],[1,"toggle__line",3,"ngClass"],[1,"nav-container",3,"ngClass"]],template:function(S,O){1&S&&(b.F$t(),b.TgZ(0,"div",0),b.NdJ("click",function(){return O.toggleMenu()}),b._UZ(1,"div",1),b.qZA(),b.TgZ(2,"nav",2),b.Hsn(3),b.qZA()),2&S&&(b.xp6(1),b.Q6J("ngClass",O.isActive?"toggle__line--crossed":""),b.xp6(1),b.Q6J("ngClass",O.isActive?"nav-container--"+O.appearanceFrom+"-active":"nav-container--"+O.appearanceFrom))},dependencies:[v.mk],styles:['.toggle[_ngcontent-%COMP%]{display:grid;height:40px;place-items:center;position:relative;cursor:pointer;z-index:10}.toggle__line[_ngcontent-%COMP%]{width:60px;height:10px;border-radius:5px;background-color:#00d36f;position:relative}.toggle__line[_ngcontent-%COMP%]:before, .toggle__line[_ngcontent-%COMP%]:after{content:"";width:60px;height:10px;border-radius:5px;background-color:#00d36f;position:absolute;left:0;transition:transform .25s,top .25s,bottom .25s;transition-timing-function:ease-in-out}.toggle__line[_ngcontent-%COMP%]:before{top:15px}.toggle__line[_ngcontent-%COMP%]:after{top:-15px}.toggle__line--crossed[_ngcontent-%COMP%]{background-color:transparent}.toggle__line--crossed[_ngcontent-%COMP%]:before, .toggle__line--crossed[_ngcontent-%COMP%]:after{background-color:#ff2480;top:0}.toggle__line--crossed[_ngcontent-%COMP%]:before{transform:rotate(45deg)}.toggle__line--crossed[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}.nav-container[_ngcontent-%COMP%]{width:100%;max-width:480px;height:100vh;padding:4rem 1rem;position:fixed;top:0;background-color:#f3f3f3;z-index:1;overflow-y:auto;transform:translateZ(0);transition:.2s;transition-timing-function:ease-in-out}.nav-container--left[_ngcontent-%COMP%]{left:-480px}.nav-container--left-active[_ngcontent-%COMP%]{border-right:1px solid rgba(158,158,158,.25);left:0}.nav-container--right[_ngcontent-%COMP%]{right:-480px}.nav-container--right-active[_ngcontent-%COMP%]{border-left:1px solid rgba(158,158,158,.25);right:0}'],changeDetection:0}),I})()},2700:(ee,N,u)=>{u.d(N,{J:()=>T});var v=u(2346),b=u(8916),C=u(2793),P=u(4650),I=u(9771),w=u(7579),S=u(4986),O=u(4482),F=u(5403),U=u(4671);function m(q,ce){return q===ce}var _=u(8505),f=u(829),le=u(6895);const H=function(q,ce){return{color:q,"border-color":ce}};let T=(()=>{var q=new WeakMap;class ce{constructor(){(0,v.Z)(this,q,{writable:!0,value:void 0}),this.placeHolder="",this.searchStrInput=new P.vpe,this.colors=I.r,this.searchSubject$=new w.x,(0,C.Z)(this,q,null)}ngOnInit(){(0,C.Z)(this,q,this.searchSubject$.pipe(function e(q,ce=S.z){return(0,O.e)((Le,ge)=>{let he=null,Ae=null,He=null;const Be=()=>{if(he){he.unsubscribe(),he=null;const $e=Ae;Ae=null,ge.next($e)}};function cn(){const $e=He+q,je=ce.now();if(je<$e)return he=this.schedule(void 0,$e-je),void ge.add(he);Be()}Le.subscribe((0,F.x)(ge,$e=>{Ae=$e,He=ce.now(),he||(he=ce.schedule(cn,q),ge.add(he))},()=>{Be(),ge.complete()},void 0,()=>{Ae=he=null}))})}(500),function x(q,ce=U.y){return q=q??m,(0,O.e)((Le,ge)=>{let he,Ae=!0;Le.subscribe((0,F.x)(ge,He=>{const Be=ce(He);(Ae||!q(he,Be))&&(Ae=!1,he=Be,ge.next(He))}))})}(),(0,_.b)(ge=>this.searchStrInput.emit(ge))).subscribe())}ngOnDestroy(){(0,b.Z)(this,q)?.unsubscribe()}}return ce.\u0275fac=function(ge){return new(ge||ce)},ce.\u0275cmp=P.Xpm({type:ce,selectors:[["search-input"]],inputs:{placeHolder:"placeHolder"},outputs:{searchStrInput:"searchStrInput"},standalone:!0,features:[P.jDz],decls:3,vars:7,consts:[["type","text",1,"search",3,"placeholder","ngStyle","input"],["search",""]],template:function(ge,he){if(1&ge){const Ae=P.EpF();P.TgZ(0,"input",0,1),P.NdJ("input",function(){P.CHM(Ae);const Be=P.MAs(1);return P.KtG(he.searchSubject$.next(Be.value))}),P.ALo(2,"capitalizeFirstLetter"),P.qZA()}2&ge&&(P.s9C("placeholder",P.lcZ(2,2,he.placeHolder)),P.Q6J("ngStyle",P.WLB(4,H,he.colors.DARK_GREY,he.colors.LIGHT_GREY)))},dependencies:[f.G,le.PC],styles:[".search[_ngcontent-%COMP%]{width:100%;height:3rem;margin-bottom:3rem;font-family:coquettec,sans-serif;font-size:1.5rem;border-radius:12px;outline:none;border:2px solid;padding:6px 12px}"],changeDetection:0}),ce})()},965:(ee,N,u)=>{u.d(N,{C:()=>S});var v=u(2925),b=u(6895),C=u(4650);function P(O,F){1&O&&C._UZ(0,"spinner")}function I(O,F){1&O&&C.Hsn(0,0,["*ngIf","loaded"])}const w=["*"];let S=(()=>{class O{constructor(){this.loaded=!1}}return O.\u0275fac=function(e){return new(e||O)},O.\u0275cmp=C.Xpm({type:O,selectors:[["spinner-wrapper"]],inputs:{loaded:"loaded"},standalone:!0,features:[C.jDz],ngContentSelectors:w,decls:2,vars:2,consts:[[4,"ngIf"]],template:function(e,U){1&e&&(C.F$t(),C.YNc(0,P,1,0,"spinner",0),C.YNc(1,I,1,0,"ng-content",0)),2&e&&(C.Q6J("ngIf",!U.loaded),C.xp6(1),C.Q6J("ngIf",U.loaded))},dependencies:[v.O,b.O5],encapsulation:2,changeDetection:0}),O})()},2925:(ee,N,u)=>{u.d(N,{O:()=>I});var v=u(6895),b=u(4650);function C(w,S){1&w&&b._UZ(0,"div"),2&w&&b.Gre("spinner__item spinner__item--",S.$implicit,"")}const P=function(){return["first","second","third"]};let I=(()=>{class w{}return w.\u0275fac=function(O){return new(O||w)},w.\u0275cmp=b.Xpm({type:w,selectors:[["spinner"]],standalone:!0,features:[b.jDz],decls:2,vars:2,consts:[[1,"spinner"],[3,"class",4,"ngFor","ngForOf"]],template:function(O,F){1&O&&(b.TgZ(0,"div",0),b.YNc(1,C,1,3,"div",1),b.qZA()),2&O&&(b.xp6(1),b.Q6J("ngForOf",b.DdM(1,P)))},dependencies:[v.ax],styles:[".spinner[_ngcontent-%COMP%]{width:100px;margin:auto;text-align:center}.spinner__item[_ngcontent-%COMP%]{display:inline-block;width:25px;height:25px;background-color:#5c74d7;border-radius:100%;animation:_ngcontent-%COMP%_spinner 1.4s ease-in-out 0s infinite both}.spinner__item--first[_ngcontent-%COMP%]{animation-delay:-.32s}.spinner__item--second[_ngcontent-%COMP%]{animation-delay:-.16s}@keyframes _ngcontent-%COMP%_spinner{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}"],changeDetection:0}),w})()},500:(ee,N,u)=>{u.d(N,{u:()=>U});var v=u(101),b=u(2346),C=u(8916),P=u(3889),I=u(2793),w=u(294),S=u(7579),O=u(8505),F=u(2722),e=u(4650);let U=(()=>{var x=new WeakMap,m=new WeakSet;class _{constructor(H,T,q){(0,v.Z)(this,m),(0,b.Z)(this,x,{writable:!0,value:void 0}),this._vcRef=H,this._tRef=T,this._cdRef=q,(0,I.Z)(this,x,new S.x)}ngOnInit(){(0,P.Z)(this,m,f).call(this),w.u.isMobile$.pipe((0,O.b)(H=>{this.showIfMobile&&H||!this.showIfMobile&&!H?this._vcRef.createEmbeddedView(this._tRef):this._vcRef.clear(),this._cdRef.detectChanges()}),(0,F.R)((0,C.Z)(this,x))).subscribe()}ngOnDestroy(){(0,C.Z)(this,x).next(),(0,C.Z)(this,x).unsubscribe()}}function f(){w.u.observeWindowToMobileResize().subscribe()}return _.\u0275fac=function(H){return new(H||_)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.sBO))},_.\u0275dir=e.lG2({type:_,selectors:[["","ifMobile",""]],inputs:{showIfMobile:["ifMobile","showIfMobile"]},standalone:!0}),_})()},9513:(ee,N,u)=>{u.d(N,{n:()=>O});var v=u(2346),b=u(8916),C=u(2793),P=u(7926),I=u(5698),w=u(8505),S=u(4650);let O=(()=>{var F=new WeakMap;class e{constructor(x,m){(0,v.Z)(this,F,{writable:!0,value:void 0}),this._elementRef=x,this._renderer=m,(0,C.Z)(this,F,null)}ngOnInit(){if("IMG"!==this._elementRef.nativeElement.tagName)throw new Error("Element should be an image");(0,C.Z)(this,F,P.O.getImage(this.src).pipe((0,I.q)(1),(0,w.b)(x=>this._renderer.setAttribute(this._elementRef.nativeElement,"src",x.src))).subscribe())}ngOnDestroy(){(0,b.Z)(this,F)?.unsubscribe()}}return e.\u0275fac=function(x){return new(x||e)(S.Y36(S.SBq),S.Y36(S.Qsj))},e.\u0275dir=S.lG2({type:e,selectors:[["","preloadImg",""]],inputs:{src:["preloadImg","src"]},standalone:!0}),e})()},9771:(ee,N,u)=>{u.d(N,{r:()=>v});var v=(()=>{return(b=v||(v={})).BLACK="#000000",b.BLUE="#5C74D7",b.PURPLE="#7700BB",b.GREEN="#00D36F",b.ORANGE="#FF9D2A",b.PINK="#FF2480",b.WHITE="#FFFFFF",b.LIGHT_GREY="#CCCCCC",b.MEDIUM_GREY="#9E9E9E",b.DARK_GREY="#333333",v;var b})()},6871:(ee,N,u)=>{u.d(N,{s:()=>b});const b=new(u(4650).OlP)("GAME_STEPS_TOKEN")},6849:(ee,N,u)=>{u.d(N,{A:()=>C});var v=u(9902),b=u(7579);class C{static get goToNext$(){return(0,v.Z)(C,C,P).asObservable()}static goToNext(){(0,v.Z)(C,C,P).next()}static get updateStepInfo$(){return(0,v.Z)(C,C,I).asObservable()}static updateStepInfo(e){return(0,v.Z)(C,C,I).next(e)}static get gameCompleted$(){return(0,v.Z)(C,C,w).asObservable()}static gameCompleted(){return(0,v.Z)(C,C,w).next()}static get gameFailed$(){return(0,v.Z)(C,C,S).asObservable()}static gameFailed(){(0,v.Z)(C,C,S).next()}static get stepsToReset$(){return(0,v.Z)(C,C,O).asObservable()}static resetSteps(e){(0,v.Z)(C,C,O).next(e)}}var P={writable:!0,value:new b.x},I={writable:!0,value:new b.x},w={writable:!0,value:new b.x},S={writable:!0,value:new b.x},O={writable:!0,value:new b.x}},9117:(ee,N,u)=>{u.d(N,{W:()=>b});var v=u(2273);class b{constructor(P){this.id=null,this.title="",this.color="",this.route="",this.id=P.id,this.title=v.f.getTranslation(P.id),this.color=P.color,this.route=`${this.id}`}}},829:(ee,N,u)=>{u.d(N,{G:()=>b});var v=u(4650);let b=(()=>{class C{transform(I){return I&&`${I.charAt(0).toLocaleUpperCase()}${I.substring(1)}`}}return C.\u0275fac=function(I){return new(I||C)},C.\u0275pipe=v.Yjl({name:"capitalizeFirstLetter",type:C,pure:!0,standalone:!0}),C})()},8550:(ee,N,u)=>{u.d(N,{V:()=>b});var v=u(4650);let b=(()=>{class C{transform(I,w){return I?.length?w?I.filter(S=>this._searchPredicate(S,w)):I:[]}_searchPredicate(I,w){return I.title.toLowerCase().includes(w.toLowerCase())}}return C.\u0275fac=function(I){return new(I||C)},C.\u0275pipe=v.Yjl({name:"filterIcons",type:C,pure:!0,standalone:!0}),C})()},7926:(ee,N,u)=>{u.d(N,{O:()=>x});var v=u(655),b=u(9751),C=u(2076),P=u(4482),I=u(5403),w=u(5032),S=u(8421),F=u(5577),e=u(2518),U=u(9551);class x{static getImage(_){return new b.y(f=>{const le=new Image;le.src=_,le.onload=()=>{f.next(le),f.complete()},le.onerror=()=>f.error(`image ${_} not found`)})}static getImages(_){return(0,C.D)(_).pipe(function O(m,_){return(0,P.e)((f,le)=>{const H=new Set;f.subscribe((0,I.x)(le,T=>{const q=m?m(T):T;H.has(q)||(H.add(q),le.next(T))})),_&&(0,S.Xf)(_).subscribe((0,I.x)(le,()=>H.clear(),w.Z))})}(),(0,F.z)(f=>x.getImage(f)),(0,e.q)())}}(0,v.gn)([(0,U.q)()],x,"getImage",null)},9417:(ee,N,u)=>{u.d(N,{d:()=>w});var v=u(5861),b=u(3966),C=u(9902),P=u(1995),I=(()=>{return(F=I||(I={})).ERROR="error",F.GAME_FAILED="game-failed",F.RIGHT="right",F.WIN="win",I;var F})();class w{static getSound(e){return(0,v.Z)(function*(){return yield new Promise((U,x)=>{const m=new Audio;m.oncanplaythrough=()=>U(m),m.onerror=()=>x(`sound ${e} not found`),m.src=e})})()}static getSounds(e){return Promise.all(e.map(U=>w.getSound(U)))}static preloadThemeItemsTitleSounds(e){return w.getSounds(e.map(U=>U.titleSoundUrl))}static preloadThemeItemsOwnSounds(e){return w.getSounds(e.map(U=>U.ownSoundUrl))}static getBaseSounds(e){return w.getSounds(e.map(U=>`${(0,C.Z)(w,w,S)}${U}.${P.D.MP3}`))}static getAllBaseSounds(){return(0,v.Z)(function*(){return yield w.getBaseSounds(Object.values(I))})()}static playRightSound(){return(0,v.Z)(function*(){yield w.playSound(`${(0,C.Z)(w,w,S)}${I.RIGHT}.${P.D.MP3}`,.4)})()}static playErrorSound(){return(0,v.Z)(function*(){yield w.playSound(`${(0,C.Z)(w,w,S)}${I.ERROR}.${P.D.MP3}`,.4)})()}static playWinSound(){return(0,v.Z)(function*(){yield w.playSound(`${(0,C.Z)(w,w,S)}${I.WIN}.${P.D.MP3}`,.4)})()}static playGameFailedSound(){return(0,v.Z)(function*(){yield w.playSound(`${(0,C.Z)(w,w,S)}${I.GAME_FAILED}.${P.D.MP3}`,.4)})()}static playSound(e,U=1){return(0,v.Z)(function*(){return yield new Promise(function(){var x=(0,v.Z)(function*(m,_){const f=yield w.getSound(e);f.currentTime=0,f.volume=U,(0,C.Z)(w,w,O).pause(),(0,b.Z)(w,w,O,f),yield f.play(),f.onended=()=>m(),f.onerror=le=>_(`Error has been occured on sound play ${le}`)});return function(m,_){return x.apply(this,arguments)}}())})()}static stopSound(){(0,C.Z)(w,w,O).pause()}}var S={writable:!0,value:"../../../../../../assets/sounds/"},O={writable:!0,value:new Audio}},4128:(ee,N,u)=>{u.d(N,{D:()=>O});var v=u(9751),b=u(4742),C=u(8421),P=u(3269),I=u(5403),w=u(3268),S=u(1810);function O(...F){const e=(0,P.jO)(F),{args:U,keys:x}=(0,b.D)(F),m=new v.y(_=>{const{length:f}=U;if(!f)return void _.complete();const le=new Array(f);let H=f,T=f;for(let q=0;q<f;q++){let ce=!1;(0,C.Xf)(U[q]).subscribe((0,I.x)(_,Le=>{ce||(ce=!0,T--),le[q]=Le},()=>H--,void 0,()=>{(!H||!ce)&&(T||_.next(x?(0,S.n)(x,le):le),_.complete())}))}});return e?m.pipe((0,w.Z)(e)):m}},207:(ee,N,u)=>{u.d(N,{u:()=>C});var v=u(7359),b=u(4482);function C(P,I){return(0,b.e)((0,v.U)(P,I,arguments.length>=2,!1,!0))}},2518:(ee,N,u)=>{u.d(N,{q:()=>P});var v=u(207),b=u(4482);const C=(I,w)=>(I.push(w),I);function P(){return(0,b.e)((I,w)=>{(0,v.u)(C,[])(I).subscribe(w)})}},4408:(ee,N,u)=>{u.d(N,{o:()=>I});var v=u(727);class b extends v.w0{constructor(S,O){super()}schedule(S,O=0){return this}}const C={setInterval(w,S,...O){const{delegate:F}=C;return F?.setInterval?F.setInterval(w,S,...O):setInterval(w,S,...O)},clearInterval(w){const{delegate:S}=C;return(S?.clearInterval||clearInterval)(w)},delegate:void 0};var P=u(8737);class I extends b{constructor(S,O){super(S,O),this.scheduler=S,this.work=O,this.pending=!1}schedule(S,O=0){var F;if(this.closed)return this;this.state=S;const e=this.id,U=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(U,e,O)),this.pending=!0,this.delay=O,this.id=null!==(F=this.id)&&void 0!==F?F:this.requestAsyncId(U,this.id,O),this}requestAsyncId(S,O,F=0){return C.setInterval(S.flush.bind(S,this),F)}recycleAsyncId(S,O,F=0){if(null!=F&&this.delay===F&&!1===this.pending)return O;null!=O&&C.clearInterval(O)}execute(S,O){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const F=this._execute(S,O);if(F)return F;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(S,O){let e,F=!1;try{this.work(S)}catch(U){F=!0,e=U||new Error("Scheduled action threw falsy error")}if(F)return this.unsubscribe(),e}unsubscribe(){if(!this.closed){const{id:S,scheduler:O}=this,{actions:F}=O;this.work=this.state=this.scheduler=null,this.pending=!1,(0,P.P)(F,this),null!=S&&(this.id=this.recycleAsyncId(O,S,null)),this.delay=null,super.unsubscribe()}}}},7565:(ee,N,u)=>{u.d(N,{v:()=>C});var v=u(6063);class b{constructor(I,w=b.now){this.schedulerActionCtor=I,this.now=w}schedule(I,w=0,S){return new this.schedulerActionCtor(this,I).schedule(S,w)}}b.now=v.l.now;class C extends b{constructor(I,w=b.now){super(I,w),this.actions=[],this._active=!1}flush(I){const{actions:w}=this;if(this._active)return void w.push(I);let S;this._active=!0;do{if(S=I.execute(I.state,I.delay))break}while(I=w.shift());if(this._active=!1,S){for(;I=w.shift();)I.unsubscribe();throw S}}}},4986:(ee,N,u)=>{u.d(N,{P:()=>P,z:()=>C});var v=u(4408);const C=new(u(7565).v)(v.o),P=C},5861:(ee,N,u)=>{function v(C,P,I,w,S,O,F){try{var e=C[O](F),U=e.value}catch(x){return void I(x)}e.done?P(U):Promise.resolve(U).then(w,S)}function b(C){return function(){var P=this,I=arguments;return new Promise(function(w,S){var O=C.apply(P,I);function F(U){v(O,w,S,F,e,"next",U)}function e(U){v(O,w,S,F,e,"throw",U)}F(void 0)})}}u.d(N,{Z:()=>b})},3889:(ee,N,u)=>{function v(b,C,P){if(!C.has(b))throw new TypeError("attempted to get private field on non-instance");return P}u.d(N,{Z:()=>v})},101:(ee,N,u)=>{u.d(N,{Z:()=>b});var v=u(864);function b(C,P){(0,v.Z)(C,P),P.add(C)}}}]);