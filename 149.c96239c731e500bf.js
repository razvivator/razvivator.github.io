"use strict";(self.webpackChunkrazvivator=self.webpackChunkrazvivator||[]).push([[149],{6330:(f,p,t)=>{t.d(p,{a:()=>o});var a=t(9771);const o=[{id:"themes",color:a.r.BLUE},{id:"memory",color:a.r.GREEN},{id:"attention",color:a.r.ORANGE},{id:"intellect",color:a.r.PINK}]},8035:(f,p,t)=>{t.d(p,{P:()=>T});var a=t(9808),o=t(2747),u=t(5562),m=t(655),h=t(1340),e=t(1995),c=t(8397);class s{constructor(r){this.icon="",this.icon=`${c.J.getCustomGameThemeFolder()}${r.id}/img/set_icon.${r.ext}`}}var _=t(9146),P=t(4850),d=t(864),g=t(9082),v=t(5e3),C=t(520);class O extends g.S{constructor(r){super(),this._http=r}getAddItems(){const r=`${c.J.getCustomGameThemeFolder()}items_sets.${e.D.JSON}`;return this._fetchItemsSets(r).pipe((0,_.J)(),(0,P.U)(n=>new s(n)),(0,d.q)())}_fetchItemsSets(r){return this._http.get(r)}}O.\u0275fac=function(r){return new(r||O)(v.LFG(C.eN))},O.\u0275prov=v.Yz7({token:O,factory:O.\u0275fac}),(0,m.gn)([(0,h.q)()],O.prototype,"_fetchItemsSets",null);var M=t(1233);let T=(()=>{class i{static forChild(n){return{ngModule:i,providers:[{provide:g.S,useClass:(null==n?void 0:n.addStepService)||O}]}}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({providers:[],imports:[[a.ez,o.U,M.D,u.P]]}),i})()},5059:(f,p,t)=>{t.d(p,{g:()=>T});var a=t(6849),o=t(9771),u=t(1709),m=t(4850),h=t(1086),e=t(5e3),c=t(9082),s=t(2273),_=t(9808),P=t(9513),d=t(829);function g(i,r){1&i&&e.GkF(0)}const v=function(i){return{$implicit:i}};function C(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"span",5),e.NdJ("click",function(){const D=e.CHM(n).index,I=e.oxw().ngIf,A=e.oxw();return A.choosePicture(D,{title:I.stepInfoTitle,style:{color:A.colors.PINK}})}),e.YNc(1,g,1,0,"ng-container",6),e.qZA()}if(2&i){const n=r.$implicit;e.oxw();const l=e.MAs(8),E=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",E.customSetTmpl||l)("ngTemplateOutletContext",e.VKq(2,v,n))}}function O(i,r){1&i&&e._UZ(0,"img",7),2&i&&e.Q6J("preloadImg",r.$implicit.icon)}function M(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"header"),e.TgZ(2,"h1",1),e._uU(3),e.ALo(4,"capitalizeFirstLetter"),e.qZA(),e.qZA(),e.TgZ(5,"div",2),e.YNc(6,C,2,4,"span",3),e.qZA(),e.YNc(7,O,1,1,"ng-template",null,4,e.W1O),e.BQk()),2&i){const n=r.ngIf;e.xp6(3),e.hij("",e.lcZ(4,2,n.title),":"),e.xp6(3),e.Q6J("ngForOf",n.sets)}}let T=(()=>{class i{constructor(n,l){this._addStepService=n,this._translationsService=l,this.customSetTmpl=null,this.content$=null,this.colors=o.r,this.title=""}ngOnInit(){this.content$=this._addStepService.getAddItems().pipe((0,u.zg)(n=>1===n.length?(this.choosePicture(),(0,h.of)(null)):this._translationsService.loadTranslation("add_steps").pipe((0,m.U)(l=>({sets:n,title:l.choose_picture,stepInfoTitle:l.to_choose_picture})))))}choosePicture(n=0,l=null){this._addStepService.chosenSetIndex=n,a.A.updateStepInfo(l),a.A.goToNext()}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(c.S),e.Y36(s.f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pictures-choice"]],inputs:{customSetTmpl:"customSetTmpl"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"text--center"],[1,"pictures"],[3,"click",4,"ngFor","ngForOf"],["setTmpl",""],[3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d--block","w--100","cursor--pointer",3,"preloadImg"]],template:function(n,l){1&n&&(e.YNc(0,M,9,4,"ng-container",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,l.content$))},directives:[_.O5,_.sg,_.tP,P.n],pipes:[_.Ov,d.G],styles:[".pictures[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:3rem}"],changeDetection:0}),i})()},9186:(f,p,t)=>{t.d(p,{k:()=>u});var a=t(9771),o=t(5e3);let u=(()=>{class m{constructor(){this.fill="",this.colors=a.r}}return m.\u0275fac=function(e){return new(e||m)},m.\u0275cmp=o.Xpm({type:m,selectors:[["blot"]],inputs:{fill:"fill"},decls:2,vars:3,consts:[[1,"blot"],["stroke-width","8","d","M740 882 c-34 -11 -65 -52 -105 -138 -42 -90 -80 -134 -115 -134 -20 0 -25 11 -46 88 -20 75 -40 109 -74 127 -34 18 -69 12 -99 -17 -29 -26 -22 -72 25 -155 43 -77 48 -100 29 -130 -21 -31 -48 -29 -88 7 -115 101 -250 89 -243 -21 4 -57 40 -86 116 -94 100 -12 115 -15 140 -34 17 -12 26 -29 28 -53 3 -29 -4 -44 -38 -83 -43 -50 -50 -88 -19 -108 22 -14 65 -1 90 26 47 51 52 56 60 51 5 -3 9 -30 9 -60 0 -50 2 -55 27 -65 22 -8 30 -6 50 13 21 20 23 28 18 70 -6 44 -5 48 14 48 14 0 25 -11 35 -35 18 -41 45 -46 76 -13 26 28 26 28 -10 73 -22 27 -27 42 -20 49 16 16 58 -12 95 -64 20 -28 45 -50 69 -59 34 -13 39 -13 64 6 19 14 28 31 30 56 4 48 -27 78 -106 100 -67 19 -92 40 -75 65 8 13 27 17 86 18 58 1 83 6 109 22 58 36 76 109 38 150 -26 28 -32 27 -104 -2 -44 -18 -65 -22 -78 -15 -25 14 -16 42 33 101 69 83 91 160 56 195 -14 14 -56 22 -77 15z",2,"transform","scale(0.1)"]],template:function(e,c){1&e&&(o.O4$(),o.TgZ(0,"svg",0),o._UZ(1,"path",1),o.qZA()),2&e&&(o.uIk("viewBox","0 0 100 100"),o.xp6(1),o.uIk("fill",c.fill)("stroke",c.colors.LIGHT_GREY))},styles:[".blot[_ngcontent-%COMP%]{width:100%;max-width:100px}"],changeDetection:0}),m})()},8632:(f,p,t)=>{t.d(p,{R:()=>_});var s,a=t(655),o=t(5e3),u=t(1715),m=t(2986),h=t(2868),e=t(2198),c=t(1219);class _{constructor(d){this._cdRef=d,this.time=0,this.timeIsOver=new o.vpe,this.width=100,s.set(this,null)}ngOnChanges(d){d.time.currentValue!==d.time.previousValue&&this.countdown()}countdown(){const g=1e3*this.time/20;(0,a.YH)(this,s,(0,u.F)(20).pipe((0,m.q)(g),(0,h.b)(v=>{this.width=100-100*(v+1)/g,this._cdRef.detectChanges()}),(0,e.h)(v=>v===g-1),(0,h.b)(()=>this.timeIsOver.emit(!0))).subscribe(),"f")}ngOnDestroy(){var d;null===(d=(0,a.Q_)(this,s,"f"))||void 0===d||d.unsubscribe()}}s=new WeakMap,_.\u0275fac=function(d){return new(d||_)(o.Y36(o.sBO))},_.\u0275cmp=o.Xpm({type:_,selectors:[["progress-bar"]],inputs:{time:"time"},outputs:{timeIsOver:"timeIsOver"},features:[o.TTD],decls:2,vars:3,consts:[[1,"container",3,"isVisible"],[1,"container__inner"]],template:function(d,g){1&d&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.qZA()),2&d&&(o.Q6J("isVisible",g.width>0),o.xp6(1),o.Udp("width",g.width+"%"))},directives:[c.B],styles:[".container[_ngcontent-%COMP%]{height:1rem;margin-top:.5rem;margin-bottom:.5rem;padding:.1rem;border-radius:.5rem;border:1px solid #cccccc}.container__inner[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:inherit;background-color:#00d36f}"],changeDetection:0})},9513:(f,p,t)=>{t.d(p,{n:()=>c});var e,a=t(655),o=t(8744),u=t(2986),m=t(2868),h=t(5e3);class c{constructor(_,P){this._elementRef=_,this._renderer=P,e.set(this,null)}ngOnInit(){if("IMG"!==this._elementRef.nativeElement.tagName)throw new Error("Element should be an image");(0,a.YH)(this,e,o.O.getImage(this.src).pipe((0,u.q)(1),(0,m.b)(_=>this._renderer.setAttribute(this._elementRef.nativeElement,"src",_.src))).subscribe(),"f")}ngOnDestroy(){var _;null===(_=(0,a.Q_)(this,e,"f"))||void 0===_||_.unsubscribe()}}e=new WeakMap,c.\u0275fac=function(_){return new(_||c)(h.Y36(h.SBq),h.Y36(h.Qsj))},c.\u0275dir=h.lG2({type:c,selectors:[["","preloadImg",""]],inputs:{src:["preloadImg","src"]}})},9117:(f,p,t)=>{t.d(p,{W:()=>o});var a=t(2273);class o{constructor(m){this.id=null,this.title="",this.color="",this.route="",this.id=m.id,this.title=a.f.getTranslation(m.id),this.color=m.color,this.route=`${this.id}`}}},4636:(f,p,t)=>{t.d(p,{Z:()=>i});var a=t(9424),o=t(4375),u=t(9771),m=t(6849),h=t(8397),e=t(2868),c=t(2273),s=t(5e3),_=t(2205),P=t(5316),d=t(5610),g=t(965),v=t(9808),C=t(9513),O=t(8550),M=t(829);function T(r,n){if(1&r){const l=s.EpF();s.TgZ(0,"figure",5),s.NdJ("click",function(D){const A=s.CHM(l).$implicit;return s.oxw().selectIcon(D,A)}),s._UZ(1,"img",6),s.TgZ(2,"figcaption"),s.TgZ(3,"div",7),s._uU(4),s.ALo(5,"capitalizeFirstLetter"),s.qZA(),s.qZA(),s.qZA()}if(2&r){const l=n.$implicit;s.xp6(1),s.Q6J("preloadImg",l.icon),s.xp6(3),s.Oqu(s.lcZ(5,2,l.title))}}let i=(()=>{class r extends o.Q{constructor(l,E){super(E),this._themesService=l,this.cdRef=E,this.category=a.G.getCategoryById("themes"),this.title=c.f.getTranslation("choose_theme"),this.searchPlaceHolder=`${c.f.getTranslation("search_theme")}...`,this.list$=null}selectIcon(l,E){l.stopPropagation(),h.J.setChosenTheme(E),m.A.updateStepInfo({title:E.title,style:{color:u.r.BLUE}}),m.A.goToNext()}buildList(){this.list$=this._themesService.getThemes().pipe((0,e.b)(()=>this.showList()))}}return r.\u0275fac=function(l){return new(l||r)(s.Y36(_.O),s.Y36(s.sBO))},r.\u0275cmp=s.Xpm({type:r,selectors:[["theme-choice"]],features:[s.qOj],decls:7,vars:10,consts:[[3,"category","title"],[3,"placeHolder","searchStrInput"],[3,"loaded"],[1,"list"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"list-item__img",3,"preloadImg"],[1,"list-item__title"]],template:function(l,E){1&l&&(s._UZ(0,"category-title",0),s.TgZ(1,"search-input",1),s.NdJ("searchStrInput",function(I){return E.searchStr=I}),s.qZA(),s.TgZ(2,"spinner-wrapper",2),s.TgZ(3,"div",3),s.YNc(4,T,6,4,"figure",4),s.ALo(5,"filterIcons"),s.ALo(6,"async"),s.qZA(),s.qZA()),2&l&&(s.Q6J("category",E.category)("title",E.title),s.xp6(1),s.Q6J("placeHolder",E.searchPlaceHolder),s.xp6(1),s.Q6J("loaded",E.loaded),s.xp6(2),s.Q6J("ngForOf",s.xi3(5,5,s.lcZ(6,8,E.list$),E.searchStr)))},directives:[P.a,d.J,g.C,v.sg,C.n],pipes:[O.V,v.Ov,M.G],styles:[".list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:3rem}.list-item[_ngcontent-%COMP%]{padding:10px;border-radius:30px 0;box-shadow:0 0 10px 18px #ffffffbf;background-color:#ffffffbf;border:solid 2px rgba(158,158,158,.15);cursor:pointer}.list-item[_ngcontent-%COMP%]:hover{background-color:#ffffffe6;border-color:#9e9e9e4d}.list-item__img[_ngcontent-%COMP%]{display:block;margin:auto}.list-item__title[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}"],changeDetection:0}),r})()},1715:(f,p,t)=>{t.d(p,{F:()=>m});var a=t(6498),o=t(353),u=t(4241);function m(e=0,c=o.P){return(!(0,u.k)(e)||e<0)&&(e=0),(!c||"function"!=typeof c.schedule)&&(c=o.P),new a.y(s=>(s.add(c.schedule(h,e,{subscriber:s,counter:0,period:e})),s))}function h(e){const{subscriber:c,counter:s,period:_}=e;c.next(s),this.schedule({subscriber:c,counter:s+1,period:_},_)}},4241:(f,p,t)=>{t.d(p,{k:()=>o});var a=t(6688);function o(u){return!(0,a.k)(u)&&u-parseFloat(u)+1>=0}}}]);