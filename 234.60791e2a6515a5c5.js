"use strict";(self.webpackChunkrazvivator=self.webpackChunkrazvivator||[]).push([[234],{6604:(C,f,e)=>{e.r(f),e.d(f,{GamesChapterModule:()=>Y});var i=e(9808),g=e(5562),l=e(933),p=e(2747),r=e(1233),u=e(7072),s=e(9424),t=e(5e3),a=e(500),c=e(9771),_=e(829);let h=(()=>{class n{constructor(){this.category=null,this.whiteColor=c.r.WHITE}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["category"]],inputs:{category:"category"},decls:8,vars:6,consts:[[1,"category",3,"routerLink"],["width","200","height","100",1,"category__img"],["transform","translate(0,-270)"],["d","m 196.20913,337.58117 c -2.09636,14.27524 -17.07039,24.85691 -33.44199,24.45757 C 121.339,360.64119 79.910867,363.3365 39.181516,370.0249 23.009566,372.82004 7.8358861,360.44153 5.0407344,341.57424 3.5433322,330.09418 1.9461025,318.81372 0.34887315,307.43346 -2.3464516,288.5662 10.730865,271.89513 29.598137,271.19633 c 47.11827,-1.99655 94.236533,0.6988 140.556193,7.98616 18.56779,2.99481 31.84476,17.869 29.64857,32.14423 -1.0981,8.78475 -2.39584,17.4697 -3.59377,26.25445 z"],["d","m 37.397549,364.71715 c -10.748786,0.40184 -20.292102,-8.4383 -22.703045,-21.19617 L 12.785841,332.87262 8.4662352,309.56685 c -1.3059277,-7.0319 0.1004546,-13.76247 4.1186938,-19.08662 3.917782,-5.22373 9.744228,-8.43829 16.575233,-8.94061 9.945141,-0.80362 19.890275,-1.50682 29.73496,-1.90863 36.766878,-1.60731 74.036038,-0.40184 110.602018,3.71683 13.96337,1.60734 25.21442,11.9543 24.20987,22.10035 l -1.80821,17.68022 -0.90409,8.84015 c -1.00458,9.94511 -11.6529,18.18252 -24.2099,18.6848 h -0.70318 c -7.13238,0.10061 -14.46566,0.30147 -21.69848,0.60274 -34.75777,1.50683 -69.716445,5.92689 -103.771008,12.95879 -1.004562,0.30147 -2.109575,0.40186 -3.214593,0.50228 z"],["routerLinkActive","category__title--active",1,"category__title"]],template:function(o,d){1&o&&(t.TgZ(0,"figure",0),t.O4$(),t.TgZ(1,"svg",1),t.TgZ(2,"g",2),t._UZ(3,"path",3),t._UZ(4,"path",4),t.qZA(),t.qZA(),t.kcU(),t.TgZ(5,"figcaption",5),t._uU(6),t.ALo(7,"capitalizeFirstLetter"),t.qZA(),t.qZA()),2&o&&(t.Q6J("routerLink",d.category.route),t.xp6(3),t.uIk("fill",d.whiteColor),t.xp6(1),t.uIk("fill",d.category.color),t.xp6(2),t.hij(" ",t.lcZ(7,4,d.category.title)," "))},directives:[u.rH,u.Od],pipes:[_.G],styles:[".category[_ngcontent-%COMP%]{width:200px;height:100px;margin-bottom:1rem;position:relative;cursor:pointer}.category[_ngcontent-%COMP%]:hover{transform:rotate(3deg)}.category__img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:0}.category__title[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;padding:10px;align-items:center;justify-content:center;color:#fff;position:absolute;font-size:1.5rem;z-index:1}.category__title--active[_ngcontent-%COMP%]{font-weight:bolder}"],changeDetection:0}),n})();function M(n,m){1&n&&t._UZ(0,"category",4),2&n&&t.Q6J("category",m.$implicit)}function E(n,m){if(1&n&&(t.TgZ(0,"aside",2),t.YNc(1,M,1,1,"category",3),t.qZA()),2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.categories)}}let I=(()=>{class n{constructor(){this.categories=s.G.categories}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["games-list"]],decls:4,vars:1,consts:[[1,"games-chapter"],["class","games-chapter__categories",4,"ifMobile"],[1,"games-chapter__categories"],[3,"category",4,"ngFor","ngForOf"],[3,"category"]],template:function(o,d){1&o&&(t.TgZ(0,"div",0),t.YNc(1,E,2,1,"aside",1),t.TgZ(2,"div"),t._UZ(3,"router-outlet"),t.qZA(),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ifMobile",!1))},directives:[a.u,u.lC,i.sg,h],styles:[".games-chapter[_ngcontent-%COMP%]{display:grid;grid-template-columns:-webkit-max-content auto;grid-template-columns:max-content auto;grid-gap:2rem}.games-chapter__categories[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 1024px){.games-chapter[_ngcontent-%COMP%]{grid-template-columns:1fr}}"],changeDetection:0}),n})();var T=e(4375),O=e(4729),y=e(4850),A=e(2868),G=e(1709);const R=new Map([["themes",["theme_description","theme_sounds"]],["memory",["find_the_pair","who_disappeared","who_appeared","colorize_from_memory","look_at_the_picture"]],["attention",["count_how_much","find_the_same","find_differences","find_the_half","find_words_in_table","find_shadow","noised_pictures","rotate_item"]],["intellect",["what_is_unwanted","puzzle","sort_items","find_accordance","what_is_forgot","what_before","whose_sound","what_time_is_it"]]]);class B{constructor(m,o){this.id=m,this.title=o,this.route=`/${this.id}`,this.icon=`../../../assets/games/${this.id}/icon.svg`}}var S=e(9146),z=e(864),F=e(1086),L=e(2273);let x=(()=>{class n{constructor(o){this._translationService=o}getGamesList(o){return this._translationService.loadTranslation(`chapters/games/${o}`).pipe((0,G.zg)(d=>(0,F.of)(R.get(o)).pipe((0,S.J)(),(0,y.U)(v=>new B(v,d[v])),(0,z.q)())))}}return n.\u0275fac=function(o){return new(o||n)(t.LFG(L.f))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var w=e(5316),J=e(5610),Q=e(965),W=e(9513),N=e(8550);function K(n,m){if(1&n){const o=t.EpF();t.TgZ(0,"figure",5),t.NdJ("click",function(v){const b=t.CHM(o).$implicit;return t.oxw().selectIcon(v,b)}),t._UZ(1,"img",6),t.TgZ(2,"figcaption"),t.TgZ(3,"div",7),t._uU(4),t.ALo(5,"capitalizeFirstLetter"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const o=m.$implicit;t.xp6(1),t.Q6J("preloadImg",o.icon),t.xp6(3),t.Oqu(t.lcZ(5,2,o.title))}}const j=[{path:"",component:I,children:[{path:"",redirectTo:"themes",pathMatch:"full"},{path:":id",component:(()=>{class n extends T.Q{constructor(o,d,v,P){super(P),this._router=o,this._route=d,this._gamesListService=v,this.cdRef=P,this.category=null,this.title="",this.list$=null,this.searchPlaceHolder=`${L.f.getTranslation("search_game")}...`}selectIcon(o,d){o.stopPropagation(),O.B.chosenGameId=d.id,this._router.navigate([d.route])}buildList(){this.list$=this._route.params.pipe((0,y.U)(o=>o.id),(0,A.b)(o=>{this.loaded=!1,this.category=s.G.getCategoryById(o),this.title=this.category.title}),(0,G.zg)(o=>this._gamesListService.getGamesList(o)),(0,A.b)(()=>this.showList()))}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(u.F0),t.Y36(u.gz),t.Y36(x),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["games-icons-list"]],features:[t._Bn([x]),t.qOj],decls:7,vars:10,consts:[[3,"category","title"],[3,"placeHolder","searchStrInput"],[3,"loaded"],[1,"list"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"list-item__img",3,"preloadImg"],[1,"list-item__title"]],template:function(o,d){1&o&&(t._UZ(0,"category-title",0),t.TgZ(1,"search-input",1),t.NdJ("searchStrInput",function(P){return d.searchStr=P}),t.qZA(),t.TgZ(2,"spinner-wrapper",2),t.TgZ(3,"div",3),t.YNc(4,K,6,4,"figure",4),t.ALo(5,"filterIcons"),t.ALo(6,"async"),t.qZA(),t.qZA()),2&o&&(t.Q6J("category",d.category)("title",d.title),t.xp6(1),t.Q6J("placeHolder",d.searchPlaceHolder),t.xp6(1),t.Q6J("loaded",d.loaded),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,5,t.lcZ(6,8,d.list$),d.searchStr)))},directives:[w.a,J.J,Q.C,i.sg,W.n],pipes:[N.V,i.Ov,_.G],styles:[".list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:3rem}.list-item[_ngcontent-%COMP%]{padding:10px;border-radius:30px 0;box-shadow:0 0 10px 18px #ffffffbf;background-color:#ffffffbf;border:solid 2px rgba(158,158,158,.15);cursor:pointer}.list-item[_ngcontent-%COMP%]:hover{background-color:#ffffffe6;border-color:#9e9e9e4d}.list-item__img[_ngcontent-%COMP%]{display:block;margin:auto}.list-item__title[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}"],changeDetection:0}),n})()}]}];let H=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(j)],u.Bz]}),n})(),Y=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.ez,H,l.q,p.U,r.D,g.P.forChild()]]}),n})()},2925:(C,f,e)=>{e.d(f,{O:()=>g});var i=e(5e3);let g=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275cmp=i.Xpm({type:l,selectors:[["spinner"]],decls:4,vars:0,consts:[[1,"spinner"],[1,"spinner__item","spinner__item--first"],[1,"spinner__item","spinner__item--second"],[1,"spinner__item","spinner__item--third"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0),i._UZ(1,"div",1),i._UZ(2,"div",2),i._UZ(3,"div",3),i.qZA())},styles:[".spinner[_ngcontent-%COMP%]{width:100px;margin:auto;text-align:center}.spinner__item[_ngcontent-%COMP%]{display:inline-block;width:25px;height:25px;background-color:#5c74d7;border-radius:100%;-webkit-animation:spinner 1.4s ease-in-out 0s infinite both;animation:spinner 1.4s ease-in-out 0s infinite both}.spinner__item--first[_ngcontent-%COMP%]{-webkit-animation-delay:-.32s;animation-delay:-.32s}.spinner__item--second[_ngcontent-%COMP%]{-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes spinner{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}@keyframes spinner{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}"],changeDetection:0}),l})()},9417:(C,f,e)=>{e.d(f,{d:()=>s});var p,r,u,i=e(655),g=e(1995),l=(()=>{return(t=l||(l={})).ERROR="error",t.GAME_FAILED="game-failed",t.RIGHT="right",t.WIN="win",l;var t})();class s{static getSound(a){return(0,i.mG)(this,void 0,void 0,function*(){return yield new Promise((c,_)=>{const h=new Audio;h.oncanplaythrough=()=>c(h),h.onerror=()=>_(`sound ${a} not found`),h.src=a})})}static getSounds(a){return Promise.all(a.map(c=>s.getSound(c)))}static preloadThemeItemsTitleSounds(a){return s.getSounds(a.map(c=>c.titleSoundUrl))}static preloadThemeItemsOwnSounds(a){return s.getSounds(a.map(c=>c.ownSoundUrl))}static getBaseSounds(a){return s.getSounds(a.map(c=>`${(0,i.Q_)(s,p,"f",r)}${c}.${g.D.MP3}`))}static getAllBaseSounds(){return(0,i.mG)(this,void 0,void 0,function*(){return yield s.getBaseSounds(Object.values(l))})}static playRightSound(){return(0,i.mG)(this,void 0,void 0,function*(){yield s.playSound(`${(0,i.Q_)(s,p,"f",r)}${l.RIGHT}.${g.D.MP3}`)})}static playErrorSound(){return(0,i.mG)(this,void 0,void 0,function*(){yield s.playSound(`${(0,i.Q_)(s,p,"f",r)}${l.ERROR}.${g.D.MP3}`)})}static playWinSound(){return(0,i.mG)(this,void 0,void 0,function*(){yield s.playSound(`${(0,i.Q_)(s,p,"f",r)}${l.WIN}.${g.D.MP3}`)})}static playGameFailedSound(){return(0,i.mG)(this,void 0,void 0,function*(){yield s.playSound(`${(0,i.Q_)(s,p,"f",r)}${l.GAME_FAILED}.${g.D.MP3}`)})}static playSound(a){return(0,i.mG)(this,void 0,void 0,function*(){return yield new Promise((c,_)=>(0,i.mG)(this,void 0,void 0,function*(){const h=yield s.getSound(a);h.currentTime=0,(0,i.Q_)(s,p,"f",u).pause(),(0,i.YH)(s,p,h,"f",u),yield h.play(),h.onended=()=>c(),h.onerror=M=>_(`Error has been occured on sound play ${M}`)}))})}static stopSound(){(0,i.Q_)(s,p,"f",u).pause()}}p=s,r={value:"../../../../../../assets/sounds/"},u={value:new Audio}},4475:(C,f,e)=>{e.d(f,{m:()=>g});var i=e(5851);class g extends i.b{}},5851:(C,f,e)=>{e.d(f,{b:()=>l});var i=e(8397),g=e(1995);class l{constructor(r,u){this.id=null,this.title="",this.icon="",this.bg="",this.isCustomItems=!1,this.customItemImgExt=null,this.themeItemsIds=null,this.id=r.id,this.title=u[r.id],this.isCustomItems=r.customItems,this.icon=i.J.getIcon(r.id,r.customIcon),this.bg=i.J.getBg(r.id,r.customBg),this.customItemImgExt=r.customItemImgExt||g.D.PNG,this.themeItemsIds=r.themeItemsIds}}},567:(C,f,e)=>{e.d(f,{D:()=>u});var i=e(6498),g=e(6688),l=e(4850),p=e(7830),r=e(5254);function u(...t){if(1===t.length){const a=t[0];if((0,g.k)(a))return s(a,null);if((0,p.K)(a)&&Object.getPrototypeOf(a)===Object.prototype){const c=Object.keys(a);return s(c.map(_=>a[_]),c)}}if("function"==typeof t[t.length-1]){const a=t.pop();return s(t=1===t.length&&(0,g.k)(t[0])?t[0]:t,null).pipe((0,l.U)(c=>a(...c)))}return s(t,null)}function s(t,a){return new i.y(c=>{const _=t.length;if(0===_)return void c.complete();const h=new Array(_);let M=0,E=0;for(let I=0;I<_;I++){const T=(0,r.D)(t[I]);let O=!1;c.add(T.subscribe({next:y=>{O||(O=!0,E++),h[I]=y},error:y=>c.error(y),complete:()=>{M++,(M===_||!O)&&(E===_&&c.next(a?a.reduce((y,A,G)=>(y[A]=h[G],y),{}):h),c.complete())}}))}})}},353:(C,f,e)=>{e.d(f,{P:()=>p});var i=e(6686);const p=new(e(2268).v)(i.o)}}]);