"use strict";(self.webpackChunkrazvivator=self.webpackChunkrazvivator||[]).push([[327],{6327:(nt,v,n)=>{n.r(v),n.d(v,{WhatIsUnwantedConfigModule:()=>et});var g,P=n(7072),T=n(395),U=n(4636),A=n(5562),S=n(3162),m=n(655),C=n(8929),Q=n(3103),h=n(9146),W=n(4002),b=n(1709),l=n(864),M=n(7545),F=n(4850),c=n(2868),Z=n(373),z=n(1692),w=n(6849),O=n(9417),u=n(5605),J=n(8744),$=n(8004),x=n(5713),R=n(2986),e=n(5e3),D=n(9254),f=n(9808),E=n(4873);function G(r,t){if(1&r){const o=e.EpF();e.TgZ(0,"figure",2),e.NdJ("click",function(){const I=e.CHM(o).$implicit;return e.oxw().item$.next(I)}),e._UZ(1,"img",3),e.qZA()}if(2&r){const o=t.$implicit;e.xp6(1),e.Q6J("isCorrect",o.isCorrect)("src",o.item.img,e.LSH)}}class i extends $.U{constructor(){super(),this.data=null,this.columnsAmount=(x.k.getAgesConfig()+1)/2,this.item$=new C.xQ,g.set(this,null)}ngOnInit(){this.onDataLoad(this.data),this._setSubscriptions()}ngOnDestroy(){var t;null===(t=(0,m.Q_)(this,g,"f"))||void 0===t||t.unsubscribe()}_setSubscriptions(){(0,m.YH)(this,g,this.item$.pipe((0,R.q)(1),(0,c.b)(t=>{var o;t.isCorrect=1===(null===(o=this.data.filter(s=>s.item.theme.id===t.item.theme.id))||void 0===o?void 0:o.length),t.isCorrect||(this.data.find(a=>a.item.theme.id!==t.item.theme.id).isCorrect=!0),this.emitData(t.isCorrect)})).subscribe(),"f")}}g=new WeakMap,i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["question"]],inputs:{data:"data"},features:[e.qOj],decls:2,vars:2,consts:[["gridSizer","","rowsAmount","2",1,"container",3,"columnsAmount"],["class","figure curve-border border-width--1 border--dotted border--green radial-gradient--soft-grey cursor--pointer",3,"click",4,"ngFor","ngForOf"],[1,"figure","curve-border","border-width--1","border--dotted","border--green","radial-gradient--soft-grey","cursor--pointer",3,"click"],[1,"figure__img",3,"isCorrect","src"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,G,2,2,"figure",1),e.qZA()),2&t&&(e.s9C("columnsAmount",o.columnsAmount),e.xp6(1),e.Q6J("ngForOf",o.data))},directives:[D.d,f.sg,E.T],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.pulsate-fwd[_ngcontent-%COMP%]{-webkit-animation:pulsate-fwd .5s ease-in-out infinite both;animation:pulsate-fwd .5s ease-in-out infinite both}@-webkit-keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.shake-horizontal[_ngcontent-%COMP%]{-webkit-animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both;animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@-webkit-keyframes shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}@keyframes shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}"],changeDetection:0});class L{constructor(t,o=null){this.item=t,this.isCorrect=o}}var p,j=n(2281),N=n(4853),B=n(550),H=n(1643);const Y=["questions"];function X(r,t){if(1&r){const o=e.EpF();e.TgZ(0,"carousel",5,6),e.NdJ("emitDataFromItem",function(a){return e.CHM(o),e.oxw().answer$.next(a)}),e.qZA()}if(2&r){const o=e.oxw();e.Q6J("slides",o.variants)("height","100%")("blockManualSwiping",!0)("itemComponent",o.questionComponent)}}class d{constructor(t,o){this._cdRef=t,this._themesItemsService=o,this.gameLoader=null,this.variants=null,this.answers=[],this.questionComponent=i,this.answer$=new C.xQ,p.set(this,null)}ngOnInit(){this._buildGame()}ngOnDestroy(){var t;null===(t=(0,m.Q_)(this,p,"f"))||void 0===t||t.unsubscribe()}_buildGame(){this.gameLoader=this._themesItemsService.getItems().pipe((0,h.J)(),(0,W.v)(t=>t.theme.id),(0,b.zg)(t=>t.pipe((0,l.q)())),(0,l.q)(),(0,M.w)(t=>(0,Q.w)(1,5).pipe((0,F.U)(()=>this._getRandItems(t)),(0,l.q)(),(0,c.b)(o=>this.variants=o),(0,h.J)())),(0,h.J)(),(0,Z.j)("item","img"),(0,l.q)(),(0,c.b)(()=>this._setSubscriptions()),(0,b.zg)(t=>J.O.getImages(t)))}_setSubscriptions(){this.answer$.pipe((0,M.w)(t=>(0,m.mG)(this,void 0,void 0,function*(){return yield t?O.d.playRightSound():O.d.playErrorSound(),this.answers.push(t),this.questionsCarousel.slideToRight(),this._cdRef.detectChanges(),t})),(0,z.j)(5),(0,c.b)(t=>t.some(o=>!o)?w.A.gameFailed():w.A.gameCompleted())).subscribe()}_getRandItems(t){const o=Math.random()<.5?[...t].reverse():t,s=u.$.getRandItems(o[0],x.k.getAgesConfig());return s.push(u.$.getRndArrElem(o[1])),u.$.shuffle(s.map(a=>new L(a)))}}p=new WeakMap,d.\u0275fac=function(t){return new(t||d)(e.Y36(e.sBO),e.Y36(j.r))},d.\u0275cmp=e.Xpm({type:d,selectors:[["what-is-unwanted"]],viewQuery:function(t,o){if(1&t&&e.Gf(Y,5),2&t){let s;e.iGM(s=e.CRH())&&(o.questionsCarousel=s.first)}},decls:5,vars:3,consts:[[3,"gameLoader"],[1,"container"],[1,"w--100","overflow-x--hidden"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem",4,"ngIf"],[3,"answers"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem"],["questions",""]],template:function(t,o){1&t&&(e.TgZ(0,"game-spinner-wrapper",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.YNc(3,X,2,4,"carousel",3),e.qZA(),e._UZ(4,"answers-bar",4),e.qZA(),e.qZA()),2&t&&(e.Q6J("gameLoader",o.gameLoader),e.xp6(3),e.Q6J("ngIf",o.variants&&o.variants.length),e.xp6(1),e.Q6J("answers",o.answers))},directives:[N.Z,f.O5,B.r,H.F],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr -webkit-min-content;grid-template-rows:1fr min-content;height:100%;place-items:center}"],changeDetection:0});var K=n(7316),V=n(2747),k=n(933);let q=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[f.ez,k.q,V.U,K.b]]}),r})();var _=n(4106),tt=n(8450);let et=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[_.f.forChild({agesConfig:new Map([[0,3],[1,5],[2,7]])}),A.P.forChild(),q,T.GameStepsModule.forChild([tt.N,U.Z,d]),P.Bz.forChild(S.M)]]}),r})()}}]);