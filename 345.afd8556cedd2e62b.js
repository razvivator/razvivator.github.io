"use strict";(self.webpackChunkrazvivator=self.webpackChunkrazvivator||[]).push([[345],{6330:(O,u,t)=>{t.d(u,{a:()=>m});var a=t(9771);const m=[{id:"themes",color:a.r.BLUE},{id:"memory",color:a.r.GREEN},{id:"attention",color:a.r.ORANGE},{id:"intellect",color:a.r.PINK}]},1777:(O,u,t)=>{t.r(u),t.d(u,{WhoseSoundConfigModule:()=>te});var a=t(7072),m=t(395),s=t(4636),l=t(5562),c=t(3162),d=t(1086),h=t(6849),n=t(9771),g=t(5605);let P=(()=>{class o{}return o.itemsSet=null,o})();var A=t(1709),T=t(4850),e=t(5e3),W=t(2281),B=t(2273),M=t(9808),Z=t(2925),C=t(829);function y(o,i){if(1&o){const r=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){const N=e.CHM(r).$implicit,L=e.oxw().ngIf,U=e.oxw();return U.chooseSet(L.sets.get(N),{title:L.stepInfoTitle,style:{color:U.colors.PINK}})}),e._uU(1),e.qZA()}if(2&o){const r=i.$implicit;e.xp6(1),e.hij(" ",r+1," ")}}function f(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"header"),e.TgZ(2,"h1",2),e._uU(3),e.ALo(4,"capitalizeFirstLetter"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,y,2,1,"div",4),e.qZA(),e.BQk()),2&o){const r=i.ngIf;e.xp6(3),e.hij("",e.lcZ(4,2,r.title),":"),e.xp6(3),e.Q6J("ngForOf",r.sets.keys())}}function p(o,i){1&o&&e._UZ(0,"spinner")}let x=(()=>{class o{constructor(r,_){this._themeItemsService=r,this._translationsService=_,this.sets$=null,this.content$=null,this.colors=n.r}ngOnInit(){this.content$=this._themeItemsService.getItems(_=>_.hasOwnSound).pipe((0,A.zg)(_=>_.length<=8?(this.chooseSet(_),(0,d.of)(null)):this._translationsService.loadTranslation("add_steps").pipe((0,T.U)(S=>({sets:g.$.groupArrByLength(_,8),title:S.choose_set,stepInfoTitle:S.to_choose_set})))))}chooseSet(r,_=null){P.itemsSet=r,h.A.updateStepInfo(_),h.A.goToNext()}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(W.r),e.Y36(B.f))},o.\u0275cmp=e.Xpm({type:o,selectors:[["set-choice"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["spinnerTmpl",""],[1,"text--center"],[1,"container"],["class","set radial-gradient--soft-grey",3,"click",4,"ngFor","ngForOf"],[1,"set","radial-gradient--soft-grey",3,"click"]],template:function(r,_){if(1&r&&(e.YNc(0,f,7,4,"ng-container",0),e.ALo(1,"async"),e.YNc(2,p,1,0,"ng-template",null,1,e.W1O)),2&r){const S=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,_.content$))("ngIfElse",S)}},directives:[M.O5,M.sg,Z.O],pipes:[M.Ov,C.G],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,200px));grid-gap:1rem}.set[_ngcontent-%COMP%]{padding:1rem;font-size:3rem;cursor:pointer;border:1px solid #9e9e9e;box-shadow:0 0 10px 18px #ffffffbf;text-align:center;border-radius:5px;font-weight:700}.set[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0}),o})();var b,E=t(655),G=t(8929),K=t(567),$=t(2868),F=t(2188),w=t(9417),Y=t(4853),z=t(9254),Q=t(7112);const J=["btn"];class I{constructor(i){this._renderer=i,this.item=null,this.colors=n.r,b.set(this,null)}ngAfterViewInit(){this.addPulsate()}ngOnDestroy(){this._removePulsate()}play(){return(0,E.mG)(this,void 0,void 0,function*(){this._removePulsate(),yield this.item.playOwnSound(),(0,E.YH)(this,b,setTimeout(()=>this.addPulsate(),3e3),"f")})}addPulsate(){this._renderer.addClass(this.btnEl.nativeElement,Q.C.PULSATE_FWD)}_removePulsate(){clearTimeout((0,E.Q_)(this,b,"f")),this._renderer.removeClass(this.btnEl.nativeElement,Q.C.PULSATE_FWD)}}var R;b=new WeakMap,I.\u0275fac=function(i){return new(i||I)(e.Y36(e.Qsj))},I.\u0275cmp=e.Xpm({type:I,selectors:[["play-button"]],viewQuery:function(i,r){if(1&i&&e.Gf(J,7),2&i){let _;e.iGM(_=e.CRH())&&(r.btnEl=_.first)}},inputs:{item:"item"},decls:3,vars:4,consts:[[1,"btn-container",3,"click"],["btn",""],[1,"btn"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0,1),e.NdJ("click",function(){return r.play()}),e._UZ(2,"div",2),e.qZA()),2&i&&(e.Udp("border-color",r.colors.BLUE),e.xp6(2),e.Udp("border-left-color",r.colors.BLUE))},styles:[".pulsate-fwd[_ngcontent-%COMP%]{-webkit-animation:pulsate-fwd .5s ease-in-out infinite both;animation:pulsate-fwd .5s ease-in-out infinite both}@-webkit-keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.btn[_ngcontent-%COMP%]{width:0;height:0;margin-left:32px;border-top:30px solid transparent;border-left:45px solid;border-bottom:30px solid transparent;cursor:pointer}.btn-container[_ngcontent-%COMP%]{display:flex;width:100px;height:100px;align-items:center;border:2px solid;border-radius:50px}"],changeDetection:0});const j=["playButton"];function H(o,i){if(1&o){const r=e.EpF();e.TgZ(0,"figure",6),e.NdJ("click",function(){const N=e.CHM(r).$implicit,L=e.MAs(3),U=e.MAs(5);return e.oxw().answer$.next({id:N.id,el:L,titleEl:U})}),e.TgZ(1,"div",7),e._UZ(2,"img",8,9),e.qZA(),e.TgZ(4,"figcaption",10,11),e._uU(6),e.qZA(),e.qZA()}if(2&o){const r=i.$implicit;e.xp6(2),e.Q6J("src",r.img,e.LSH),e.xp6(4),e.Oqu(r.title)}}function X(o,i){if(1&o&&e._UZ(0,"play-button",12,13),2&o){const r=e.oxw();e.Q6J("item",r.itemsCopy[r.index])}}class D{constructor(i){this._renderer=i,this.gameLoader=null,this.items=P.itemsSet,this.itemsCopy=g.$.shuffle([...P.itemsSet]),this.index=0,this.answer$=new G.xQ,R.set(this,null)}ngOnInit(){this._buildGame()}ngOnDestroy(){var i;null===(i=(0,E.Q_)(this,R,"f"))||void 0===i||i.unsubscribe()}_buildGame(){this.gameLoader=(0,K.D)([w.d.preloadThemeItemsOwnSounds(this.items)]).pipe((0,$.b)(()=>this._setSubscriptions()))}_setSubscriptions(){(0,E.YH)(this,R,this.answer$.pipe((0,$.b)(({id:i,el:r,titleEl:_})=>(0,E.mG)(this,void 0,void 0,function*(){this.itemsCopy[this.index].id===i?(this._renderer.setStyle(r,F.L.OPACITY,.3),this._renderer.setStyle(_,F.L.TEXT_DECORATION,"line-through"),yield this._check()):yield w.d.playErrorSound()}))).subscribe(),"f")}_check(){return(0,E.mG)(this,void 0,void 0,function*(){this.index===Math.min(this.items.length,8)-1?h.A.gameCompleted():(this.index++,yield w.d.playRightSound(),this.playButton.addPulsate())})}}R=new WeakMap,D.\u0275fac=function(i){return new(i||D)(e.Y36(e.Qsj))},D.\u0275cmp=e.Xpm({type:D,selectors:[["whose-sound"]],viewQuery:function(i,r){if(1&i&&e.Gf(j,5),2&i){let _;e.iGM(_=e.CRH())&&(r.playButton=_.first)}},decls:6,vars:3,consts:[[3,"gameLoader"],[1,"container"],["gridSizer","","rowsAmount","2","columnsAmount","4"],["class","curve-border border-width--1 border--dotted border--grey radial-gradient--soft-grey cursor--pointer",3,"click",4,"ngFor","ngForOf"],[1,"play-btn-container"],[3,"item",4,"ngIf"],[1,"curve-border","border-width--1","border--dotted","border--grey","radial-gradient--soft-grey","cursor--pointer",3,"click"],[1,"img-container"],[1,"img",3,"src"],["itemImgEl",""],[1,"title","text--center"],["titleEl",""],[3,"item"],["playButton",""]],template:function(i,r){1&i&&(e.TgZ(0,"game-spinner-wrapper",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.YNc(3,H,7,2,"figure",3),e.qZA(),e.TgZ(4,"div",4),e.YNc(5,X,2,1,"play-button",5),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.Q6J("gameLoader",r.gameLoader),e.xp6(3),e.Q6J("ngForOf",r.items),e.xp6(2),e.Q6J("ngIf",r.itemsCopy))},directives:[Y.Z,z.d,M.sg,M.O5,I],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:1fr -webkit-min-content;grid-template-rows:1fr min-content;place-items:center}.img[_ngcontent-%COMP%]{display:block;margin:auto;max-width:80%;max-height:80%}.img-container[_ngcontent-%COMP%]{display:flex;height:80%;margin:auto}@media screen and (max-width: 600px){.img-container[_ngcontent-%COMP%]{height:100%}}@media screen and (max-width: 600px){.title[_ngcontent-%COMP%]{display:none}}.play-btn-container[_ngcontent-%COMP%]{display:flex;margin-top:1rem;justify-content:center}"],changeDetection:0});var V=t(933),k=t(2747),q=t(1233);let ee=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[M.ez,k.U,q.D,V.q]]}),o})(),te=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[l.P.forChild(),ee,m.GameStepsModule.forChild([s.Z,x,D]),a.Bz.forChild(c.M)]]}),o})()},9254:(O,u,t)=>{t.d(u,{d:()=>h});var a=t(9808),m=t(2188),s=t(4729),l=t(8889),c=t(1834),d=t(5e3);let h=(()=>{class n extends l.l{constructor(v,P,A,T){super(A,T),this._elementRef=v,this._renderer=P,this.rowsAmount=1,this.columnsAmount=1,this.itemSize=300,this.coeff=1}ngOnInit(){super.ngOnInit(),this._renderer.setStyle(this._elementRef.nativeElement,m.L.DISPLAY,"grid"),this._renderer.setStyle(this._elementRef.nativeElement,m.L.GRID_GAP,`0.5${c.N.REM}`),this._renderer.setStyle(this._elementRef.nativeElement,m.L.JUSTIFY_CONTENT,"center")}setGameSizes(){const v=Math.min(this.itemSize,s.B.getGridContainerMinDimension()/Math.max(this.rowsAmount,this.columnsAmount)-12);this._renderer.setStyle(this._elementRef.nativeElement,m.L.GRID_TEMPLATE_COLUMNS,`repeat(${this.columnsAmount}, ${v}${c.N.PX})`),this._renderer.setStyle(this._elementRef.nativeElement,m.L.GRID_TEMPLATE_ROWS,`repeat(${this.rowsAmount}, ${v*this.coeff}${c.N.PX})`)}}return n.\u0275fac=function(v){return new(v||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.R0b),d.Y36(a.K0))},n.\u0275dir=d.lG2({type:n,selectors:[["","gridSizer",""]],inputs:{rowsAmount:"rowsAmount",columnsAmount:"columnsAmount",itemSize:"itemSize",coeff:"coeff"},features:[d.qOj]}),n})()},9513:(O,u,t)=>{t.d(u,{n:()=>h});var d,a=t(655),m=t(8744),s=t(2986),l=t(2868),c=t(5e3);class h{constructor(g,v){this._elementRef=g,this._renderer=v,d.set(this,null)}ngOnInit(){if("IMG"!==this._elementRef.nativeElement.tagName)throw new Error("Element should be an image");(0,a.YH)(this,d,m.O.getImage(this.src).pipe((0,s.q)(1),(0,l.b)(g=>this._renderer.setAttribute(this._elementRef.nativeElement,"src",g.src))).subscribe(),"f")}ngOnDestroy(){var g;null===(g=(0,a.Q_)(this,d,"f"))||void 0===g||g.unsubscribe()}}d=new WeakMap,h.\u0275fac=function(g){return new(g||h)(c.Y36(c.SBq),c.Y36(c.Qsj))},h.\u0275dir=c.lG2({type:h,selectors:[["","preloadImg",""]],inputs:{src:["preloadImg","src"]}})},7112:(O,u,t)=>{t.d(u,{C:()=>a});var a=(()=>{return(m=a||(a={})).SHAKE_HORIZONTAL="shake-horizontal",m.SLIDE_IN_FWD_CENTER="slide-in-fwd-center",m.PULSATE_FWD="pulsate-fwd",m.ROTATE_IN_CENTER="rotate-in-center",m.ROTATE_OUT_CENTER="rotate-out-center",m.BOUNCE_IN_FWD="bounce-in-fwd",a;var m})()},3162:(O,u,t)=>{t.d(u,{M:()=>a});const a=[{path:"",loadChildren:()=>Promise.resolve().then(t.bind(t,395)).then(m=>m.GameStepsModule)}]},9117:(O,u,t)=>{t.d(u,{W:()=>m});var a=t(2273);class m{constructor(l){this.id=null,this.title="",this.color="",this.route="",this.id=l.id,this.title=a.f.getTranslation(l.id),this.color=l.color,this.route=`${this.id}`}}},5605:(O,u,t)=>{t.d(u,{$:()=>a});class a{static shuffle(s){if(s.length<1)return console.warn("Empty array!"),s;const l=[...s];for(;!a._isArrShuffled(s,l);)l.sort(()=>Math.random()-.5);return l}static _isArrShuffled(s,l){let c=!1;for(const[d,h]of s.entries())if(h!==l[d]){c=!0;break}return c}static getRandItems(s,l=s.length){if(l>s.length)throw new Error(`maxArrLength ${l} should be equal or less than items length ${s.length}`);const c=a.shuffle(s);return c.length=l,c}static getDoubledRandItems(s,l=s.length){const c=a.getRandItems(s,l);return a.shuffle([...c,...c])}static uniq(s){return Array.from(new Set(s))}static getSequence(s,l=0){const c=[];for(let d=l;d<s;d++)c.push(d);return c}static groupArrByLength(s,l){const c=new Map;let d=0,h=0,n=0;for(;n<s.length;)h=d*l,n=h+l,c.set(d,s.slice(h,n)),d++;return c}static getRndInteger(s,l){return Math.floor(Math.random()*(l-s))+s}static getRndArrElem(s){return s[a.getRndInteger(0,s.length)]}}},4636:(O,u,t)=>{t.d(u,{Z:()=>Z});var a=t(9424),m=t(4375),s=t(9771),l=t(6849),c=t(8397),d=t(2868),h=t(2273),n=t(5e3),g=t(2205),v=t(5316),P=t(5610),A=t(965),T=t(9808),e=t(9513),W=t(8550),B=t(829);function M(C,y){if(1&C){const f=n.EpF();n.TgZ(0,"figure",5),n.NdJ("click",function(x){const G=n.CHM(f).$implicit;return n.oxw().selectIcon(x,G)}),n._UZ(1,"img",6),n.TgZ(2,"figcaption"),n.TgZ(3,"div",7),n._uU(4),n.ALo(5,"capitalizeFirstLetter"),n.qZA(),n.qZA(),n.qZA()}if(2&C){const f=y.$implicit;n.xp6(1),n.Q6J("preloadImg",f.icon),n.xp6(3),n.Oqu(n.lcZ(5,2,f.title))}}let Z=(()=>{class C extends m.Q{constructor(f,p){super(p),this._themesService=f,this.cdRef=p,this.category=a.G.getCategoryById("themes"),this.title=h.f.getTranslation("choose_theme"),this.searchPlaceHolder=`${h.f.getTranslation("search_theme")}...`,this.list$=null}selectIcon(f,p){f.stopPropagation(),c.J.setChosenTheme(p),l.A.updateStepInfo({title:p.title,style:{color:s.r.BLUE}}),l.A.goToNext()}buildList(){this.list$=this._themesService.getThemes().pipe((0,d.b)(()=>this.showList()))}}return C.\u0275fac=function(f){return new(f||C)(n.Y36(g.O),n.Y36(n.sBO))},C.\u0275cmp=n.Xpm({type:C,selectors:[["theme-choice"]],features:[n.qOj],decls:7,vars:10,consts:[[3,"category","title"],[3,"placeHolder","searchStrInput"],[3,"loaded"],[1,"list"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"list-item__img",3,"preloadImg"],[1,"list-item__title"]],template:function(f,p){1&f&&(n._UZ(0,"category-title",0),n.TgZ(1,"search-input",1),n.NdJ("searchStrInput",function(E){return p.searchStr=E}),n.qZA(),n.TgZ(2,"spinner-wrapper",2),n.TgZ(3,"div",3),n.YNc(4,M,6,4,"figure",4),n.ALo(5,"filterIcons"),n.ALo(6,"async"),n.qZA(),n.qZA()),2&f&&(n.Q6J("category",p.category)("title",p.title),n.xp6(1),n.Q6J("placeHolder",p.searchPlaceHolder),n.xp6(1),n.Q6J("loaded",p.loaded),n.xp6(2),n.Q6J("ngForOf",n.xi3(5,5,n.lcZ(6,8,p.list$),p.searchStr)))},directives:[v.a,P.J,A.C,T.sg,e.n],pipes:[W.V,T.Ov,B.G],styles:[".list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:3rem}.list-item[_ngcontent-%COMP%]{padding:10px;border-radius:30px 0;box-shadow:0 0 10px 18px #ffffffbf;background-color:#ffffffbf;border:solid 2px rgba(158,158,158,.15);cursor:pointer}.list-item[_ngcontent-%COMP%]:hover{background-color:#ffffffe6;border-color:#9e9e9e4d}.list-item__img[_ngcontent-%COMP%]{display:block;margin:auto}.list-item__title[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}"],changeDetection:0}),C})()}}]);