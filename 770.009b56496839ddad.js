"use strict";(self.webpackChunkrazvivator=self.webpackChunkrazvivator||[]).push([[770],{6330:(S,p,e)=>{e.d(p,{a:()=>t});var i=e(9771);const t=[{id:"themes",color:i.r.BLUE},{id:"memory",color:i.r.GREEN},{id:"attention",color:i.r.ORANGE},{id:"intellect",color:i.r.PINK}]},2220:(S,p,e)=>{e.r(p),e.d(p,{FindShadowConfigModule:()=>N});var i=e(9808),t=e(7072),r=e(4106),a=e(8450),l=e(395),c=e(4636),d=e(5562),n=e(3162),s=e(655),g=e(8929),f=e(567),h=e(2868),E=e(1709),x=e(2198),y=e(5713),L=e(2188),M=e(6849),A=e(2281),u=e(5605),I=e(9417),D=e(8004),o=e(5e3);let O=(()=>{class v extends D.U{constructor(){super()}ngOnInit(){super.onDataLoad(this.data)}}return v.\u0275fac=function(T){return new(T||v)},v.\u0275cmp=o.Xpm({type:v,selectors:[["item"]],inputs:{data:"data"},features:[o.qOj],decls:2,vars:1,consts:[[1,"img","d--block","m--auto",3,"src"]],template:function(T,w){1&T&&(o.TgZ(0,"figure"),o._UZ(1,"img",0),o.qZA()),2&T&&(o.xp6(1),o.Q6J("src",w.data.img,o.LSH))},styles:[".img[_ngcontent-%COMP%]{max-width:100%;max-height:400px}"],changeDetection:0}),v})();var R,B,_=e(4853),m=e(3832),P=e(1643);const U=["itemsCarousel"];function F(v,C){if(1&v){const T=o.EpF();o.TgZ(0,"carousel",6,7),o.NdJ("transitionEnd",function(){return o.CHM(T),o.oxw().unblock()}),o.qZA()}if(2&v){const T=o.oxw();o.Q6J("slides",T.items)("blockManualSwiping",!0)("itemComponent",T.itemComponent)}}class W{constructor(C){this._themeItemsService=C,this.gameLoader=null,this.items=null,this.shadowedItems=null,this.itemComponent=O,this.item$=new g.xQ,R.set(this,!1),B.set(this,null)}ngOnInit(){this._buildGame()}ngOnDestroy(){var C;null===(C=(0,s.Q_)(this,B,"f"))||void 0===C||C.unsubscribe()}_buildGame(){this.gameLoader=(0,f.D)({items:this._themeItemsService.getItems(),sounds:I.d.getAllBaseSounds()}).pipe((0,h.b)(C=>{this.shadowedItems=u.$.getRandItems(C.items,y.k.getAgesConfig()),this.items=u.$.getRandItems(this.shadowedItems),this.shadowedItems.forEach(T=>this._setBrightnessToItem(T,0)),this._setSubscriptions()}),(0,E.zg)(()=>(0,f.D)([A.r.preloadThemeItemsImgs(this.shadowedItems),I.d.preloadThemeItemsTitleSounds(this.shadowedItems)])))}unblock(){(0,s.YH)(this,R,!1,"f")}_setSubscriptions(){(0,s.YH)(this,B,this.item$.pipe((0,x.h)(()=>!(0,s.Q_)(this,R,"f")),(0,h.b)(C=>(0,s.mG)(this,void 0,void 0,function*(){(0,s.YH)(this,R,!0,"f"),C.id===this.itemsCarouselVCh.currentItem.id?(this._setBrightnessToItem(C,1),yield C.playTitle(),this._checkComplete()):(yield I.d.playErrorSound(),this.unblock())}))).subscribe(),"f")}_setBrightnessToItem(C,T){C.imgStyle={[L.L.FILTER]:`brightness(${T})`}}_checkComplete(){this.itemsCarouselVCh.activeSlideIndex===this.items.length?M.A.gameCompleted():this.itemsCarouselVCh.slideToRight()}}R=new WeakMap,B=new WeakMap,W.\u0275fac=function(C){return new(C||W)(o.Y36(A.r))},W.\u0275cmp=o.Xpm({type:W,selectors:[["find-shadow"]],viewQuery:function(C,T){if(1&C&&o.Gf(U,5),2&C){let w;o.iGM(w=o.CRH())&&(T.itemsCarouselVCh=w.first)}},decls:6,vars:3,consts:[[3,"gameLoader"],[1,"container","h--100"],[1,"carousel-container","overflow--hidden"],[3,"slides","blockManualSwiping","itemComponent","transitionEnd",4,"ngIf"],[1,"items-container"],[3,"items","itemClick"],[3,"slides","blockManualSwiping","itemComponent","transitionEnd"],["itemsCarousel",""]],template:function(C,T){1&C&&(o.TgZ(0,"game-spinner-wrapper",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.YNc(3,F,2,3,"carousel",3),o.qZA(),o.TgZ(4,"div",4),o.TgZ(5,"theme-items-bar",5),o.NdJ("itemClick",function(Z){return T.item$.next(Z)}),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&C&&(o.Q6J("gameLoader",T.gameLoader),o.xp6(3),o.Q6J("ngIf",T.items&&T.items.length),o.xp6(2),o.Q6J("items",T.shadowedItems))},directives:[_.Z,i.O5,m.M,P.F],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr -webkit-min-content;grid-template-rows:1fr min-content}.carousel-container[_ngcontent-%COMP%]{align-self:center}"],changeDetection:0});var K=e(7316),z=e(933);let Q=(()=>{class v{}return v.\u0275fac=function(T){return new(T||v)},v.\u0275mod=o.oAB({type:v}),v.\u0275inj=o.cJS({imports:[[i.ez,z.q,K.b,d.P.forChild()]]}),v})(),N=(()=>{class v{}return v.\u0275fac=function(T){return new(T||v)},v.\u0275mod=o.oAB({type:v}),v.\u0275inj=o.cJS({imports:[[i.ez,r.f.forChild({agesConfig:new Map([[0,4],[1,6],[2,8]])}),d.P.forChild(),Q,l.GameStepsModule.forChild([a.N,c.Z,W]),t.Bz.forChild(n.M)]]}),v})()},4106:(S,p,e)=>{e.d(p,{f:()=>c});var i=e(9808),t=e(933),r=e(6007),a=e(1233),l=e(5e3);let c=(()=>{class d{static forChild(s){return{ngModule:d,providers:[{provide:r.n,useValue:s.agesConfig},{provide:r.O,useValue:s.stepsToReset}]}}}return d.\u0275fac=function(s){return new(s||d)},d.\u0275mod=l.oAB({type:d}),d.\u0275inj=l.cJS({imports:[[i.ez,a.D,t.q]]}),d})()},8450:(S,p,e)=>{e.d(p,{N:()=>L});var i=e(6849),t=e(9771);const r={0:t.r.PINK,1:t.r.ORANGE,2:t.r.GREEN},a={0:"3 - 4",1:"4 - 5",2:"5 - 6"};class l{constructor(A,u){this.id=A;const I=a[this.id];this.title=`${I} ${u[I]}`,this.color=r[this.id]}}var c=e(5713),d=e(6007),n=e(4850),s=e(5e3),g=e(2273),f=e(9808);let h=(()=>{class M{static _getStyleProp(u){return`style.${u}`}ngOnInit(){this._setDefaultColors()}onMouseEnter(){this.color=this.borderColor=t.r.WHITE,this.bgColor=this.age.color,this.boxShadow=`0 0 16px 3px ${t.r.LIGHT_GREY}`}onMouseLeave(){this._setDefaultColors()}_setDefaultColors(){this.color=this.borderColor=this.age.color,this.bgColor=t.r.WHITE,this.boxShadow="none"}}return M.\u0275fac=function(u){return new(u||M)},M.\u0275dir=s.lG2({type:M,selectors:[["","ageItemColorize",""]],hostVars:8,hostBindings:function(u,I){1&u&&s.NdJ("mouseenter",function(){return I.onMouseEnter()})("mouseleave",function(){return I.onMouseLeave()}),2&u&&s.Udp("color",I.color)("border-color",I.borderColor)("background-color",I.bgColor)("box-shadow",I.boxShadow)},inputs:{age:["ageItemColorize","age"]}}),M})();var E=e(829);function x(M,A){if(1&M){const u=s.EpF();s.TgZ(0,"div",4),s.NdJ("click",function(){const o=s.CHM(u).$implicit;return s.oxw(2).chooseAge(o)}),s._uU(1),s.qZA()}if(2&M){const u=A.$implicit;s.Q6J("ageItemColorize",u),s.xp6(1),s.hij(" ",u.title," ")}}function y(M,A){if(1&M&&(s.TgZ(0,"div",1),s.TgZ(1,"div",2),s._uU(2),s.ALo(3,"capitalizeFirstLetter"),s.qZA(),s.YNc(4,x,2,2,"div",3),s.qZA()),2&M){const u=A.ngIf;s.xp6(2),s.hij("",s.lcZ(3,2,u.title),"?"),s.xp6(2),s.Q6J("ngForOf",u.ages)}}let L=(()=>{class M{constructor(u,I,D){this._agesConfig=u,this._stepsToReset=I,this._translationsService=D,this.content$=this._translationsService.loadTranslation("ages").pipe((0,n.U)(o=>({title:o.title,ages:Array.from(this._agesConfig.keys()).map(O=>new l(O,o))})))}ngOnInit(){c.k.setAgesConfig(this._agesConfig),this._stepsToReset&&i.A.resetSteps(this._stepsToReset)}chooseAge(u){c.k.setAgeId(u.id),i.A.updateStepInfo({title:u.title,style:{color:u.color}}),i.A.goToNext()}}return M.\u0275fac=function(u){return new(u||M)(s.Y36(d.n),s.Y36(d.O),s.Y36(g.f))},M.\u0275cmp=s.Xpm({type:M,selectors:[["age-choice"]],decls:2,vars:3,consts:[["class","ages-choice",4,"ngIf"],[1,"ages-choice"],[1,"ages-choice__title"],["class","ages-choice__age",3,"ageItemColorize","click",4,"ngFor","ngForOf"],[1,"ages-choice__age",3,"ageItemColorize","click"]],template:function(u,I){1&u&&(s.YNc(0,y,5,4,"div",0),s.ALo(1,"async")),2&u&&s.Q6J("ngIf",s.lcZ(1,1,I.content$))},directives:[f.O5,f.sg,h],pipes:[f.Ov,E.G],styles:[".ages-choice__title[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center;font-size:3rem;color:#70b}.ages-choice__age[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:2rem auto;padding:.5rem;text-align:center;font-size:2rem;font-weight:bolder;border:2px solid;border-radius:50%;cursor:pointer}"],changeDetection:0}),M})()},6007:(S,p,e)=>{e.d(p,{n:()=>t,O:()=>r});var i=e(5e3);const t=new i.OlP("AGES_CONFIG_TOKEN"),r=new i.OlP("STEPS_TO_RESET_TOKEN")},7316:(S,p,e)=>{e.d(p,{b:()=>r});var i=e(9808),t=e(5e3);let r=(()=>{class a{}return a.\u0275fac=function(c){return new(c||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[i.ez]]}),a})()},1643:(S,p,e)=>{e.d(p,{F:()=>o});var h,E,x,i=e(655),t=e(5e3),r=e(8929),a=e(2868),l=e(7625),c=e(9771),d=e(294),n=e(1009),s=e(1834),g=e(9808),f=e(645);const y=["slidesContainer"],L=["carouselSlides"];function M(O,_){if(1&O){const m=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){return t.CHM(m),t.oxw().slideToLeft()}),t._uU(1," \u25b7 "),t.qZA()}if(2&O){const m=t.oxw();t.Udp("color",m.controlColor)}}function A(O,_){if(1&O){const m=t.EpF();t.TgZ(0,"slide-item-resolver",11),t.NdJ("loadedData",function(){return t.CHM(m),t.oxw(2).onLoadData()})("emittedData",function(R){return t.CHM(m),t.oxw(2).onEmitDataFromItem(R)}),t.qZA()}if(2&O){const m=t.oxw().$implicit,P=t.oxw();t.Q6J("component",P.itemComponent)("data",m)}}function u(O,_){if(1&O){const m=t.EpF();t.TgZ(0,"div",9),t.NdJ("click",function(R){const U=t.CHM(m).index;return t.oxw().onSlideClick(R,U)})("swipeleft",function(){return t.CHM(m),t.oxw().swipeToRight()})("swiperight",function(){return t.CHM(m),t.oxw().swipeToLeft()}),t.YNc(1,A,1,2,"slide-item-resolver",10),t.qZA()}if(2&O){const m=_.index,P=t.oxw();t.Udp("width",P.slideWidth),t.xp6(1),t.Q6J("ngIf",P.shouldSlideBeenShown(m))}}function I(O,_){if(1&O){const m=t.EpF();t.TgZ(0,"div",12),t.NdJ("click",function(){return t.CHM(m),t.oxw().slideToRight()}),t._uU(1," \u25b7 "),t.qZA()}if(2&O){const m=t.oxw();t.Udp("color",m.controlColor)}}const D=function(O,_,m){return{width:O,transform:_,transition:m}};class o{constructor(_,m){this.cdRef=_,this.ngZone=m,this.slides=[],this.slidesCount=1,this.height="400px",this.activeSlideIndex=0,this.showControls=!1,this.controlColor=c.r.GREEN,this.blockManualSwiping=!1,this.slideClick=new t.vpe,this.transitionEnd=new t.vpe,this.emitDataFromItem=new t.vpe,this.items=[],this.sliderContainerWidth=0,this.transition="none",this.isMobile=!1,this.canShift=!0,h.set(this,void 0),E.set(this,void 0),x.set(this,new r.xQ)}ngOnInit(){this.activeSlideIndex+=this.slidesCount,this._buildItems(),this._setSliderContainerWidth(),this.loadData(),this._observeWindowResize(),d.u.resize$.pipe((0,a.b)(()=>this._setSliderContainerWidth()),(0,l.R)((0,i.Q_)(this,x,"f"))).subscribe(),d.u.isMobile$.pipe((0,a.b)(_=>{this.isMobile=_,this.cdRef.markForCheck()}),(0,l.R)((0,i.Q_)(this,x,"f"))).subscribe()}ngOnDestroy(){(0,i.Q_)(this,x,"f").next(),(0,i.Q_)(this,x,"f").unsubscribe()}onLoadData(){this.canShift=!0}loadData(_=this.getDefaultIndex()){(0,i.YH)(this,E,this.activeSlideIndex,"f"),this.cdRef.detectChanges()}getDefaultIndex(){return 0===(0,i.Q_)(this,h,"f")?this.activeSlideIndex+this.slidesCount-1:this.activeSlideIndex}doSlide(){this.canShift=!1,this.transition="0.4s ease-in-out"}get slidesWidth(){return`${this.sliderContainerWidth*this.items.length}${s.N.PX}`}get slideWidth(){return`${this.sliderContainerWidth/this.slidesCount}${s.N.PX}`}get shift(){return`translate3d(-${this.activeSlideIndex*this.sliderContainerWidth/this.slidesCount}${s.N.PX}, 0${s.N.PX}, 0${s.N.PX})`}shouldSlideBeenShown(_){return(0,i.Q_)(this,E,"f")===_}swipeToRight(){this.blockManualSwiping||this.slideToRight()}swipeToLeft(){this.blockManualSwiping||this.slideToLeft()}slideToRight(){this.canShift&&((0,i.YH)(this,h,0,"f"),this.doSlide(),this.activeSlideIndex++,this.cdRef.detectChanges())}get currentItem(){return this.items[this.activeSlideIndex]}slideToLeft(){this.canShift&&((0,i.YH)(this,h,1,"f"),this.doSlide(),this.activeSlideIndex--,this.cdRef.detectChanges())}onTransitionEnd(){this.transition="none",setTimeout(()=>{if(this.activeSlideIndex===this.slidesCount-1){this.activeSlideIndex=this.items.length-(this.slidesCount+1);for(let _=this.activeSlideIndex+this.slidesCount;_>=this.activeSlideIndex;_--)this.loadData(_)}else this.activeSlideIndex===this.items.length-this.slidesCount?(this.activeSlideIndex=this.slidesCount,this.loadData()):this.loadData();this.cdRef.detectChanges(),this.transitionEnd.emit()},0)}onSlideClick(_,m){_.stopPropagation(),this.slideClick.emit(m-this.slidesCount)}_buildItems(){for(let _=this.slidesCount;_>0;_--)this.items.push(this.slides[this.slides.length-_]);Array.prototype.push.apply(this.items,this.slides);for(let _=0;_<this.slidesCount;_++)this.items.push(this.slides[_])}onEmitDataFromItem(_){this.emitDataFromItem.emit(_)}_setSliderContainerWidth(){this.sliderContainerWidth=this.slidesContainerEl.nativeElement.offsetWidth,this.cdRef.markForCheck()}_observeWindowResize(){d.u.observeWindowResize().pipe((0,l.R)((0,i.Q_)(this,x,"f"))).subscribe()}}h=new WeakMap,E=new WeakMap,x=new WeakMap,o.\u0275fac=function(_){return new(_||o)(t.Y36(t.sBO),t.Y36(t.R0b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["carousel"]],viewQuery:function(_,m){if(1&_&&(t.Gf(y,7),t.Gf(L,7)),2&_){let P;t.iGM(P=t.CRH())&&(m.slidesContainerEl=P.first),t.iGM(P=t.CRH())&&(m.carouselSlidesEl=P.first)}},inputs:{slides:"slides",itemComponent:"itemComponent",slidesCount:"slidesCount",height:"height",activeSlideIndex:"activeSlideIndex",showControls:"showControls",controlColor:"controlColor",blockManualSwiping:"blockManualSwiping"},outputs:{slideClick:"slideClick",transitionEnd:"transitionEnd",emitDataFromItem:"emitDataFromItem"},decls:8,vars:10,consts:[[1,"carousel"],["class","carousel__control carousel__control--left",3,"color","click",4,"ngIf"],[1,"carousel__slides-container"],["slidesContainer",""],[1,"carousel__slides",3,"ngStyle","transitionend"],["carouselSlides",""],["class","carousel__slide",3,"width","click","swipeleft","swiperight",4,"ngFor","ngForOf"],["class","carousel__control carousel__control--right",3,"color","click",4,"ngIf"],[1,"carousel__control","carousel__control--left",3,"click"],[1,"carousel__slide",3,"click","swipeleft","swiperight"],[3,"component","data","loadedData","emittedData",4,"ngIf"],[3,"component","data","loadedData","emittedData"],[1,"carousel__control","carousel__control--right",3,"click"]],template:function(_,m){1&_&&(t.TgZ(0,"div",0),t.YNc(1,M,2,2,"div",1),t.TgZ(2,"div",2,3),t.TgZ(4,"div",4,5),t.NdJ("transitionend",function(){return m.onTransitionEnd()}),t.YNc(6,u,2,3,"div",6),t.qZA(),t.qZA(),t.YNc(7,I,2,2,"div",7),t.qZA()),2&_&&(t.xp6(1),t.Q6J("ngIf",m.showControls&&!m.isMobile),t.xp6(1),t.Udp("height",m.height),t.xp6(2),t.Q6J("ngStyle",t.kEZ(6,D,m.slidesWidth,m.shift,m.transition)),t.xp6(2),t.Q6J("ngForOf",m.items),t.xp6(1),t.Q6J("ngIf",m.showControls&&!m.isMobile))},directives:[g.O5,g.PC,g.sg,f.l],styles:[".carousel[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;position:relative}.carousel__control[_ngcontent-%COMP%]{display:grid;place-items:center;justify-content:center;width:4rem;height:100%;position:absolute;top:0;font-size:4rem;font-weight:700;cursor:pointer;z-index:1}.carousel__control--right[_ngcontent-%COMP%]{right:0}.carousel__control--left[_ngcontent-%COMP%]{left:0;transform:rotateY(180deg)}.carousel__slides[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.carousel__slides-container[_ngcontent-%COMP%]{width:100%;overflow:hidden}.carousel__slide[_ngcontent-%COMP%]{height:100%;float:left}"],changeDetection:0}),(0,i.gn)([n.A],o.prototype,"_observeWindowResize",null)},645:(S,p,e)=>{e.d(p,{l:()=>s});var c,d,i=e(655),t=e(5e3),r=e(8929),a=e(2868),l=e(7625);const n=["content"];class s{constructor(f){this._resolver=f,this.loadedData=new t.vpe,this.emittedData=new t.vpe,c.set(this,void 0),d.set(this,new r.xQ)}ngOnInit(){const f=this._resolver.resolveComponentFactory(this.component);(0,i.YH)(this,c,this.content.createComponent(f),"f"),(0,i.Q_)(this,c,"f").instance.data=this.data,(0,i.Q_)(this,c,"f").instance.loadedData.pipe((0,a.b)(h=>this.loadedData.emit(h)),(0,l.R)((0,i.Q_)(this,d,"f"))).subscribe(),(0,i.Q_)(this,c,"f").instance.emittedData.pipe((0,a.b)(h=>this.emittedData.emit(h)),(0,l.R)((0,i.Q_)(this,d,"f"))).subscribe()}ngOnDestroy(){(0,i.Q_)(this,d,"f").next(),(0,i.Q_)(this,d,"f").unsubscribe(),(0,i.Q_)(this,c,"f").destroy()}}c=new WeakMap,d=new WeakMap,s.\u0275fac=function(f){return new(f||s)(t.Y36(t._Vd))},s.\u0275cmp=t.Xpm({type:s,selectors:[["slide-item-resolver"]],viewQuery:function(f,h){if(1&f&&t.Gf(n,7,t.s_b),2&f){let E;t.iGM(E=t.CRH())&&(h.content=E.first)}},inputs:{component:"component",data:"data"},outputs:{loadedData:"loadedData",emittedData:"emittedData"},decls:2,vars:0,consts:[["content",""]],template:function(f,h){1&f&&t._UZ(0,"template",null,0)},styles:["[_nghost-%COMP%]{height:100%}"]})},8004:(S,p,e)=>{e.d(p,{U:()=>t});var i=e(5e3);let t=(()=>{class r{constructor(){this.loadedData=new i.vpe,this.emittedData=new i.vpe}onDataLoad(l){this.loadedData.emit(l)}emitData(l){this.emittedData.emit(l)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275dir=i.lG2({type:r,inputs:{data:"data"},outputs:{loadedData:"loadedData",emittedData:"emittedData"}}),r})()},9254:(S,p,e)=>{e.d(p,{d:()=>d});var i=e(9808),t=e(2188),r=e(4729),a=e(8889),l=e(1834),c=e(5e3);let d=(()=>{class n extends a.l{constructor(g,f,h,E){super(h,E),this._elementRef=g,this._renderer=f,this.rowsAmount=1,this.columnsAmount=1,this.itemSize=300,this.coeff=1}ngOnInit(){super.ngOnInit(),this._renderer.setStyle(this._elementRef.nativeElement,t.L.DISPLAY,"grid"),this._renderer.setStyle(this._elementRef.nativeElement,t.L.GRID_GAP,`0.5${l.N.REM}`),this._renderer.setStyle(this._elementRef.nativeElement,t.L.JUSTIFY_CONTENT,"center")}setGameSizes(){const g=Math.min(this.itemSize,r.B.getGridContainerMinDimension()/Math.max(this.rowsAmount,this.columnsAmount)-12);this._renderer.setStyle(this._elementRef.nativeElement,t.L.GRID_TEMPLATE_COLUMNS,`repeat(${this.columnsAmount}, ${g}${l.N.PX})`),this._renderer.setStyle(this._elementRef.nativeElement,t.L.GRID_TEMPLATE_ROWS,`repeat(${this.rowsAmount}, ${g*this.coeff}${l.N.PX})`)}}return n.\u0275fac=function(g){return new(g||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.R0b),c.Y36(i.K0))},n.\u0275dir=c.lG2({type:n,selectors:[["","gridSizer",""]],inputs:{rowsAmount:"rowsAmount",columnsAmount:"columnsAmount",itemSize:"itemSize",coeff:"coeff"},features:[c.qOj]}),n})()},9513:(S,p,e)=>{e.d(p,{n:()=>d});var c,i=e(655),t=e(8744),r=e(2986),a=e(2868),l=e(5e3);class d{constructor(s,g){this._elementRef=s,this._renderer=g,c.set(this,null)}ngOnInit(){if("IMG"!==this._elementRef.nativeElement.tagName)throw new Error("Element should be an image");(0,i.YH)(this,c,t.O.getImage(this.src).pipe((0,r.q)(1),(0,a.b)(s=>this._renderer.setAttribute(this._elementRef.nativeElement,"src",s.src))).subscribe(),"f")}ngOnDestroy(){var s;null===(s=(0,i.Q_)(this,c,"f"))||void 0===s||s.unsubscribe()}}c=new WeakMap,d.\u0275fac=function(s){return new(s||d)(l.Y36(l.SBq),l.Y36(l.Qsj))},d.\u0275dir=l.lG2({type:d,selectors:[["","preloadImg",""]],inputs:{src:["preloadImg","src"]}})},3162:(S,p,e)=>{e.d(p,{M:()=>i});const i=[{path:"",loadChildren:()=>Promise.resolve().then(e.bind(e,395)).then(t=>t.GameStepsModule)}]},9117:(S,p,e)=>{e.d(p,{W:()=>t});var i=e(2273);class t{constructor(a){this.id=null,this.title="",this.color="",this.route="",this.id=a.id,this.title=i.f.getTranslation(a.id),this.color=a.color,this.route=`${this.id}`}}},5605:(S,p,e)=>{e.d(p,{$:()=>i});class i{static shuffle(r){if(r.length<1)return console.warn("Empty array!"),r;const a=[...r];for(;!i._isArrShuffled(r,a);)a.sort(()=>Math.random()-.5);return a}static _isArrShuffled(r,a){let l=!1;for(const[c,d]of r.entries())if(d!==a[c]){l=!0;break}return l}static getRandItems(r,a=r.length){if(a>r.length)throw new Error(`maxArrLength ${a} should be equal or less than items length ${r.length}`);const l=i.shuffle(r);return l.length=a,l}static getDoubledRandItems(r,a=r.length){const l=i.getRandItems(r,a);return i.shuffle([...l,...l])}static uniq(r){return Array.from(new Set(r))}static getSequence(r,a=0){const l=[];for(let c=a;c<r;c++)l.push(c);return l}static groupArrByLength(r,a){const l=new Map;let c=0,d=0,n=0;for(;n<r.length;)d=c*a,n=d+a,l.set(c,r.slice(d,n)),c++;return l}static getRndInteger(r,a){return Math.floor(Math.random()*(a-r))+r}static getRndArrElem(r){return r[i.getRndInteger(0,r.length)]}}},4636:(S,p,e)=>{e.d(p,{Z:()=>A});var i=e(9424),t=e(4375),r=e(9771),a=e(6849),l=e(8397),c=e(2868),d=e(2273),n=e(5e3),s=e(2205),g=e(5316),f=e(5610),h=e(965),E=e(9808),x=e(9513),y=e(8550),L=e(829);function M(u,I){if(1&u){const D=n.EpF();n.TgZ(0,"figure",5),n.NdJ("click",function(O){const m=n.CHM(D).$implicit;return n.oxw().selectIcon(O,m)}),n._UZ(1,"img",6),n.TgZ(2,"figcaption"),n.TgZ(3,"div",7),n._uU(4),n.ALo(5,"capitalizeFirstLetter"),n.qZA(),n.qZA(),n.qZA()}if(2&u){const D=I.$implicit;n.xp6(1),n.Q6J("preloadImg",D.icon),n.xp6(3),n.Oqu(n.lcZ(5,2,D.title))}}let A=(()=>{class u extends t.Q{constructor(D,o){super(o),this._themesService=D,this.cdRef=o,this.category=i.G.getCategoryById("themes"),this.title=d.f.getTranslation("choose_theme"),this.searchPlaceHolder=`${d.f.getTranslation("search_theme")}...`,this.list$=null}selectIcon(D,o){D.stopPropagation(),l.J.setChosenTheme(o),a.A.updateStepInfo({title:o.title,style:{color:r.r.BLUE}}),a.A.goToNext()}buildList(){this.list$=this._themesService.getThemes().pipe((0,c.b)(()=>this.showList()))}}return u.\u0275fac=function(D){return new(D||u)(n.Y36(s.O),n.Y36(n.sBO))},u.\u0275cmp=n.Xpm({type:u,selectors:[["theme-choice"]],features:[n.qOj],decls:7,vars:10,consts:[[3,"category","title"],[3,"placeHolder","searchStrInput"],[3,"loaded"],[1,"list"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"list-item__img",3,"preloadImg"],[1,"list-item__title"]],template:function(D,o){1&D&&(n._UZ(0,"category-title",0),n.TgZ(1,"search-input",1),n.NdJ("searchStrInput",function(_){return o.searchStr=_}),n.qZA(),n.TgZ(2,"spinner-wrapper",2),n.TgZ(3,"div",3),n.YNc(4,M,6,4,"figure",4),n.ALo(5,"filterIcons"),n.ALo(6,"async"),n.qZA(),n.qZA()),2&D&&(n.Q6J("category",o.category)("title",o.title),n.xp6(1),n.Q6J("placeHolder",o.searchPlaceHolder),n.xp6(1),n.Q6J("loaded",o.loaded),n.xp6(2),n.Q6J("ngForOf",n.xi3(5,5,n.lcZ(6,8,o.list$),o.searchStr)))},directives:[g.a,f.J,h.C,E.sg,x.n],pipes:[y.V,E.Ov,L.G],styles:[".list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:3rem}.list-item[_ngcontent-%COMP%]{padding:10px;border-radius:30px 0;box-shadow:0 0 10px 18px #ffffffbf;background-color:#ffffffbf;border:solid 2px rgba(158,158,158,.15);cursor:pointer}.list-item[_ngcontent-%COMP%]:hover{background-color:#ffffffe6;border-color:#9e9e9e4d}.list-item__img[_ngcontent-%COMP%]{display:block;margin:auto}.list-item__title[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}"],changeDetection:0}),u})()},3832:(S,p,e)=>{e.d(p,{M:()=>s});var i=e(5e3),t=e(9808),r=e(9254),a=e(829);function l(g,f){if(1&g&&(i.TgZ(0,"header",2),i._uU(1),i.ALo(2,"capitalizeFirstLetter"),i.qZA()),2&g){const h=i.oxw();i.xp6(1),i.Oqu(i.lcZ(2,1,h.header))}}function c(g,f){if(1&g&&(i.TgZ(0,"figcaption",8),i._uU(1),i.qZA()),2&g){const h=i.oxw().$implicit;i.Q6J("ngStyle",h.titleStyle),i.xp6(1),i.hij(" ",h.title," ")}}function d(g,f){if(1&g){const h=i.EpF();i.TgZ(0,"figure",5),i.TgZ(1,"img",6),i.NdJ("click",function(x){const L=i.CHM(h).$implicit;return i.oxw(2).onItemClick(x,L)}),i.qZA(),i.YNc(2,c,2,2,"figcaption",7),i.qZA()}if(2&g){const h=f.$implicit,E=i.oxw(2);i.xp6(1),i.Q6J("src",h.img,i.LSH)("ngStyle",h.imgStyle),i.xp6(1),i.Q6J("ngIf",E.showTitle)}}function n(g,f){if(1&g&&(i.TgZ(0,"div",3),i.YNc(1,d,3,3,"figure",4),i.qZA()),2&g){const h=i.oxw();i.s9C("columnsAmount",h.items.length),i.xp6(1),i.Q6J("ngForOf",h.items)}}let s=(()=>{class g{constructor(){this.items=[],this.header="",this.showTitle=!1,this.itemClick=new i.vpe}onItemClick(h,E){h.stopPropagation(),this.itemClick.emit(E)}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275cmp=i.Xpm({type:g,selectors:[["theme-items-bar"]],inputs:{items:"items",header:"header",showTitle:"showTitle"},outputs:{itemClick:"itemClick"},decls:2,vars:2,consts:[["class","header text--center",4,"ngIf"],["gridSizer","","itemSize","100",3,"columnsAmount",4,"ngIf"],[1,"header","text--center"],["gridSizer","","itemSize","100",3,"columnsAmount"],["class","figure d--flex m--auto h--100",4,"ngFor","ngForOf"],[1,"figure","d--flex","m--auto","h--100"],[1,"figure__img","d--block","m--auto","cursor--pointer",3,"src","ngStyle","click"],["class","figure__title text--center",3,"ngStyle",4,"ngIf"],[1,"figure__title","text--center",3,"ngStyle"]],template:function(h,E){1&h&&(i.YNc(0,l,3,3,"header",0),i.YNc(1,n,2,2,"div",1)),2&h&&(i.Q6J("ngIf",E.header),i.xp6(1),i.Q6J("ngIf",null==E.items?null:E.items.length))},directives:[t.O5,r.d,t.sg,t.PC],pipes:[a.G],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.header[_ngcontent-%COMP%]{font-size:2rem;font-style:italic}@media screen and (max-width: 567px){.header[_ngcontent-%COMP%]{font-size:1rem}}.figure[_ngcontent-%COMP%]{flex-direction:column}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.figure__title[_ngcontent-%COMP%]{font-size:1.25rem}@media screen and (max-width: 567px){.figure__title[_ngcontent-%COMP%]{font-size:1rem}}@media screen and (max-width: 480px){.figure__title[_ngcontent-%COMP%]{display:none}}"]}),g})()}}]);