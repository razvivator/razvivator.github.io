"use strict";(self.webpackChunkrazvivator=self.webpackChunkrazvivator||[]).push([[908],{6330:(I,C,e)=>{e.d(C,{a:()=>f});var m=e(9771);const f=[{id:"themes",color:m.r.BLUE},{id:"memory",color:m.r.GREEN},{id:"attention",color:m.r.ORANGE},{id:"intellect",color:m.r.PINK}]},8965:(I,C,e)=>{e.r(C),e.d(C,{FindTheSameConfigModule:()=>se});var m=e(9808),f=e(7072),c=e(4106),h=e(8450),_=e(395),t=e(4636),u=e(5562),r=e(3162),o=e(655),E=e(8929),A=e(3103),T=e(7545),P=e(4850),S=e(864),M=e(2868),y=e(9146),v=e(1709),l=e(1692),s=e(6849),p=e(2198),O=e(8004),D=e(5713),R=e(9417),n=e(5e3),W=e(9254),K=e(2188),Z=e(1834);let J=(()=>{class g{constructor(d,x){this._elementRef=d,this._renderer=x,this.isActive=!1,this.borderStyle="solid",this.borderWidth=`1${Z.N.PX}`}ngOnChanges(){this._renderer.setStyle(this._elementRef.nativeElement,K.L.BORDER_STYLE,this.isActive?"solid":this.borderStyle),this._renderer.setStyle(this._elementRef.nativeElement,K.L.BORDER_WIDTH,this.isActive?`2${Z.N.PX}`:this.borderWidth)}}return g.\u0275fac=function(d){return new(d||g)(n.Y36(n.SBq),n.Y36(n.Qsj))},g.\u0275dir=n.lG2({type:g,selectors:[["","isActiveCell",""]],inputs:{isActive:["isActiveCell","isActive"],borderStyle:"borderStyle",borderWidth:"borderWidth"},features:[n.TTD]}),g})();var B,Y=e(4873);function w(g,i){if(1&g){const d=n.EpF();n.TgZ(0,"figure",2),n.NdJ("click",function(){const N=n.CHM(d).$implicit;return n.oxw().img$.next(N)}),n._UZ(1,"img",3),n.qZA()}if(2&g){const d=i.$implicit;n.Q6J("isActiveCell",d.isActive)("borderStyle","dotted"),n.xp6(1),n.Q6J("src",d.item.img,n.LSH)("isCorrect",d.isCorrect)}}class b extends O.U{constructor(){super(...arguments),this.data=null,this.items=null,this.rowsAmount=D.k.getAgesConfig().rowsAmount,this.columnsAmount=D.k.getAgesConfig().columnsAmount,this.img$=new E.xQ,B.set(this,null)}ngOnInit(){this.items=this.data.map(i=>({item:i,isActive:!1,isCorrect:null})),this.onDataLoad(this.data),this._setSubscriptions()}ngOnDestroy(){var i;null===(i=(0,o.Q_)(this,B,"f"))||void 0===i||i.unsubscribe()}_setSubscriptions(){(0,o.YH)(this,B,this.img$.pipe((0,M.b)(i=>i.isActive=!i.isActive),(0,l.j)(2),(0,p.h)(i=>i.every(d=>d.isActive)),(0,T.w)(i=>(0,o.mG)(this,void 0,void 0,function*(){const d=i[0].item.img===i[1].item.img;i.forEach(x=>x.isCorrect=d),d?yield R.d.playRightSound():yield R.d.playErrorSound(),this.emitData(d)}))).subscribe(),"f")}}B=new WeakMap,b.\u0275fac=function(){let g;return function(d){return(g||(g=n.n5z(b)))(d||b)}}(),b.\u0275cmp=n.Xpm({type:b,selectors:[["item"]],inputs:{data:"data"},features:[n.qOj],decls:2,vars:3,consts:[["gridSizer","",3,"rowsAmount","columnsAmount"],["class","figure curve-border border--blue radial-gradient--soft-grey cursor--pointer",3,"isActiveCell","borderStyle","click",4,"ngFor","ngForOf"],[1,"figure","curve-border","border--blue","radial-gradient--soft-grey","cursor--pointer",3,"isActiveCell","borderStyle","click"],[1,"figure__img",3,"src","isCorrect"]],template:function(i,d){1&i&&(n.TgZ(0,"div",0),n.YNc(1,w,2,4,"figure",1),n.qZA()),2&i&&(n.s9C("rowsAmount",d.rowsAmount),n.s9C("columnsAmount",d.columnsAmount),n.xp6(1),n.Q6J("ngForOf",d.items))},directives:[W.d,m.sg,J,Y.T],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.shake-horizontal[_ngcontent-%COMP%]{-webkit-animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both;animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@-webkit-keyframes shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}@keyframes shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.pulsate-fwd[_ngcontent-%COMP%]{-webkit-animation:pulsate-fwd .5s ease-in-out infinite both;animation:pulsate-fwd .5s ease-in-out infinite both}@-webkit-keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}"],changeDetection:0});var $=e(2281),F=e(5605),Q=e(4853),z=e(4729);let j=(()=>{class g{constructor(d){this._elementRef=d}ngAfterViewInit(){z.B.gridContainer=this._elementRef.nativeElement}ngOnDestroy(){z.B.gridContainer=null}}return g.\u0275fac=function(d){return new(d||g)(n.Y36(n.SBq))},g.\u0275dir=n.lG2({type:g,selectors:[["","gridContainer",""]]}),g})();var U,H=e(550),X=e(1643);const V=["itemsCarousel"];function k(g,i){if(1&g){const d=n.EpF();n.TgZ(0,"carousel",5,6),n.NdJ("emitDataFromItem",function(G){return n.CHM(d),n.oxw().answer$.next(G)}),n.qZA()}if(2&g){const d=n.oxw();n.Q6J("slides",d.items)("height","100%")("blockManualSwiping",!0)("itemComponent",d.itemComponent)}}class L{constructor(i){this._themeItemsService=i,this.gameLoader=null,this.imgs=null,this.items=null,this.answers=[],this.itemComponent=b,this.answer$=new E.xQ,U.set(this,null)}ngOnInit(){this._buildGame()}ngOnDestroy(){var i;null===(i=(0,o.Q_)(this,U,"f"))||void 0===i||i.unsubscribe()}_buildGame(){this.gameLoader=this._themeItemsService.getItems().pipe((0,T.w)(i=>(0,A.w)(1,5).pipe((0,P.U)(()=>{const d=F.$.getRandItems(i,D.k.getAgesConfig().amount);return d.push(F.$.getRndArrElem(d)),F.$.shuffle(d)}))),(0,S.q)(),(0,M.b)(i=>{this.items=i,this._setSubscriptions()}),(0,y.J)(),(0,v.zg)(i=>$.r.preloadThemeItemsImgs(i)))}_setSubscriptions(){(0,o.YH)(this,U,this.answer$.pipe((0,M.b)(i=>{this.answers.push(i),this.itemsCarouselVCh.slideToRight()}),(0,l.j)(5),(0,M.b)(i=>{i.some(d=>!d)?s.A.gameFailed():s.A.gameCompleted()})).subscribe(),"f")}}U=new WeakMap,L.\u0275fac=function(i){return new(i||L)(n.Y36($.r))},L.\u0275cmp=n.Xpm({type:L,selectors:[["find-the-same"]],viewQuery:function(i,d){if(1&i&&n.Gf(V,5),2&i){let x;n.iGM(x=n.CRH())&&(d.itemsCarouselVCh=x.first)}},decls:5,vars:3,consts:[[3,"gameLoader"],[1,"container"],["gridContainer","",1,"w--100","h--100","overflow-x--hidden"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem",4,"ngIf"],[3,"answers"],[3,"slides","height","blockManualSwiping","itemComponent","emitDataFromItem"],["itemsCarousel",""]],template:function(i,d){1&i&&(n.TgZ(0,"game-spinner-wrapper",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.YNc(3,k,2,4,"carousel",3),n.qZA(),n._UZ(4,"answers-bar",4),n.qZA(),n.qZA()),2&i&&(n.Q6J("gameLoader",d.gameLoader),n.xp6(3),n.Q6J("ngIf",null==d.items?null:d.items.length),n.xp6(1),n.Q6J("answers",d.answers))},directives:[Q.Z,j,m.O5,H.r,X.F],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(white,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-rows:1fr -webkit-min-content;grid-template-rows:1fr min-content;place-items:center}"],changeDetection:0});var q=e(7316),ee=e(933),te=e(2747);let oe=(()=>{class g{}return g.\u0275fac=function(d){return new(d||g)},g.\u0275mod=n.oAB({type:g}),g.\u0275inj=n.cJS({imports:[[m.ez,ee.q,te.U,q.b]]}),g})();var ne=e(8035),re=e(5059);let se=(()=>{class g{}return g.\u0275fac=function(d){return new(d||g)},g.\u0275mod=n.oAB({type:g}),g.\u0275inj=n.cJS({imports:[[m.ez,_.GameStepsModule.forChild([h.N,t.Z,re.g,L]),c.f.forChild({agesConfig:new Map([[0,{amount:3,rowsAmount:2,columnsAmount:2}],[1,{amount:5,rowsAmount:2,columnsAmount:3}],[2,{amount:8,rowsAmount:3,columnsAmount:3}]])}),u.P.forChild(),ne.P.forChild(),oe,f.Bz.forChild(r.M)]]}),g})()},8035:(I,C,e)=>{e.d(C,{P:()=>v});var m=e(9808),f=e(2747),c=e(5562),h=e(655),_=e(1340),t=e(1995),u=e(8397);class r{constructor(s){this.icon="",this.icon=`${u.J.getCustomGameThemeFolder()}${s.id}/img/set_icon.${s.ext}`}}var o=e(9146),E=e(4850),A=e(864),T=e(9082),P=e(5e3),S=e(520);class M extends T.S{constructor(s){super(),this._http=s}getAddItems(){const s=`${u.J.getCustomGameThemeFolder()}items_sets.${t.D.JSON}`;return this._fetchItemsSets(s).pipe((0,o.J)(),(0,E.U)(a=>new r(a)),(0,A.q)())}_fetchItemsSets(s){return this._http.get(s)}}M.\u0275fac=function(s){return new(s||M)(P.LFG(S.eN))},M.\u0275prov=P.Yz7({token:M,factory:M.\u0275fac}),(0,h.gn)([(0,_.q)()],M.prototype,"_fetchItemsSets",null);var y=e(1233);let v=(()=>{class l{static forChild(a){return{ngModule:l,providers:[{provide:T.S,useClass:(null==a?void 0:a.addStepService)||M}]}}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275mod=P.oAB({type:l}),l.\u0275inj=P.cJS({providers:[],imports:[[m.ez,f.U,y.D,c.P]]}),l})()},5059:(I,C,e)=>{e.d(C,{g:()=>v});var m=e(6849),f=e(9771),c=e(1709),h=e(4850),_=e(1086),t=e(5e3),u=e(9082),r=e(2273),o=e(9808),E=e(9513),A=e(829);function T(l,s){1&l&&t.GkF(0)}const P=function(l){return{$implicit:l}};function S(l,s){if(1&l){const a=t.EpF();t.TgZ(0,"span",5),t.NdJ("click",function(){const D=t.CHM(a).index,R=t.oxw().ngIf,n=t.oxw();return n.choosePicture(D,{title:R.stepInfoTitle,style:{color:n.colors.PINK}})}),t.YNc(1,T,1,0,"ng-container",6),t.qZA()}if(2&l){const a=s.$implicit;t.oxw();const p=t.MAs(8),O=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",O.customSetTmpl||p)("ngTemplateOutletContext",t.VKq(2,P,a))}}function M(l,s){1&l&&t._UZ(0,"img",7),2&l&&t.Q6J("preloadImg",s.$implicit.icon)}function y(l,s){if(1&l&&(t.ynx(0),t.TgZ(1,"header"),t.TgZ(2,"h1",1),t._uU(3),t.ALo(4,"capitalizeFirstLetter"),t.qZA(),t.qZA(),t.TgZ(5,"div",2),t.YNc(6,S,2,4,"span",3),t.qZA(),t.YNc(7,M,1,1,"ng-template",null,4,t.W1O),t.BQk()),2&l){const a=s.ngIf;t.xp6(3),t.hij("",t.lcZ(4,2,a.title),":"),t.xp6(3),t.Q6J("ngForOf",a.sets)}}let v=(()=>{class l{constructor(a,p){this._addStepService=a,this._translationsService=p,this.customSetTmpl=null,this.content$=null,this.colors=f.r,this.title=""}ngOnInit(){this.content$=this._addStepService.getAddItems().pipe((0,c.zg)(a=>1===a.length?(this.choosePicture(),(0,_.of)(null)):this._translationsService.loadTranslation("add_steps").pipe((0,h.U)(p=>({sets:a,title:p.choose_picture,stepInfoTitle:p.to_choose_picture})))))}choosePicture(a=0,p=null){this._addStepService.chosenSetIndex=a,m.A.updateStepInfo(p),m.A.goToNext()}}return l.\u0275fac=function(a){return new(a||l)(t.Y36(u.S),t.Y36(r.f))},l.\u0275cmp=t.Xpm({type:l,selectors:[["pictures-choice"]],inputs:{customSetTmpl:"customSetTmpl"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"text--center"],[1,"pictures"],[3,"click",4,"ngFor","ngForOf"],["setTmpl",""],[3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d--block","w--100","cursor--pointer",3,"preloadImg"]],template:function(a,p){1&a&&(t.YNc(0,y,9,4,"ng-container",0),t.ALo(1,"async")),2&a&&t.Q6J("ngIf",t.lcZ(1,1,p.content$))},directives:[o.O5,o.sg,o.tP,E.n],pipes:[o.Ov,A.G],styles:[".pictures[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:3rem}"],changeDetection:0}),l})()},4106:(I,C,e)=>{e.d(C,{f:()=>t});var m=e(9808),f=e(933),c=e(6007),h=e(1233),_=e(5e3);let t=(()=>{class u{static forChild(o){return{ngModule:u,providers:[{provide:c.n,useValue:o.agesConfig},{provide:c.O,useValue:o.stepsToReset}]}}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[[m.ez,h.D,f.q]]}),u})()},8450:(I,C,e)=>{e.d(C,{N:()=>y});var m=e(6849),f=e(9771);const c={0:f.r.PINK,1:f.r.ORANGE,2:f.r.GREEN},h={0:"3 - 4",1:"4 - 5",2:"5 - 6"};class _{constructor(l,s){this.id=l;const a=h[this.id];this.title=`${a} ${s[a]}`,this.color=c[this.id]}}var t=e(5713),u=e(6007),r=e(4850),o=e(5e3),E=e(2273),A=e(9808);let T=(()=>{class v{static _getStyleProp(s){return`style.${s}`}ngOnInit(){this._setDefaultColors()}onMouseEnter(){this.color=this.borderColor=f.r.WHITE,this.bgColor=this.age.color,this.boxShadow=`0 0 16px 3px ${f.r.LIGHT_GREY}`}onMouseLeave(){this._setDefaultColors()}_setDefaultColors(){this.color=this.borderColor=this.age.color,this.bgColor=f.r.WHITE,this.boxShadow="none"}}return v.\u0275fac=function(s){return new(s||v)},v.\u0275dir=o.lG2({type:v,selectors:[["","ageItemColorize",""]],hostVars:8,hostBindings:function(s,a){1&s&&o.NdJ("mouseenter",function(){return a.onMouseEnter()})("mouseleave",function(){return a.onMouseLeave()}),2&s&&o.Udp("color",a.color)("border-color",a.borderColor)("background-color",a.bgColor)("box-shadow",a.boxShadow)},inputs:{age:["ageItemColorize","age"]}}),v})();var P=e(829);function S(v,l){if(1&v){const s=o.EpF();o.TgZ(0,"div",4),o.NdJ("click",function(){const O=o.CHM(s).$implicit;return o.oxw(2).chooseAge(O)}),o._uU(1),o.qZA()}if(2&v){const s=l.$implicit;o.Q6J("ageItemColorize",s),o.xp6(1),o.hij(" ",s.title," ")}}function M(v,l){if(1&v&&(o.TgZ(0,"div",1),o.TgZ(1,"div",2),o._uU(2),o.ALo(3,"capitalizeFirstLetter"),o.qZA(),o.YNc(4,S,2,2,"div",3),o.qZA()),2&v){const s=l.ngIf;o.xp6(2),o.hij("",o.lcZ(3,2,s.title),"?"),o.xp6(2),o.Q6J("ngForOf",s.ages)}}let y=(()=>{class v{constructor(s,a,p){this._agesConfig=s,this._stepsToReset=a,this._translationsService=p,this.content$=this._translationsService.loadTranslation("ages").pipe((0,r.U)(O=>({title:O.title,ages:Array.from(this._agesConfig.keys()).map(D=>new _(D,O))})))}ngOnInit(){t.k.setAgesConfig(this._agesConfig),this._stepsToReset&&m.A.resetSteps(this._stepsToReset)}chooseAge(s){t.k.setAgeId(s.id),m.A.updateStepInfo({title:s.title,style:{color:s.color}}),m.A.goToNext()}}return v.\u0275fac=function(s){return new(s||v)(o.Y36(u.n),o.Y36(u.O),o.Y36(E.f))},v.\u0275cmp=o.Xpm({type:v,selectors:[["age-choice"]],decls:2,vars:3,consts:[["class","ages-choice",4,"ngIf"],[1,"ages-choice"],[1,"ages-choice__title"],["class","ages-choice__age",3,"ageItemColorize","click",4,"ngFor","ngForOf"],[1,"ages-choice__age",3,"ageItemColorize","click"]],template:function(s,a){1&s&&(o.YNc(0,M,5,4,"div",0),o.ALo(1,"async")),2&s&&o.Q6J("ngIf",o.lcZ(1,1,a.content$))},directives:[A.O5,A.sg,T],pipes:[A.Ov,P.G],styles:[".ages-choice__title[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center;font-size:3rem;color:#70b}.ages-choice__age[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:2rem auto;padding:.5rem;text-align:center;font-size:2rem;font-weight:bolder;border:2px solid;border-radius:50%;cursor:pointer}"],changeDetection:0}),v})()},6007:(I,C,e)=>{e.d(C,{n:()=>f,O:()=>c});var m=e(5e3);const f=new m.OlP("AGES_CONFIG_TOKEN"),c=new m.OlP("STEPS_TO_RESET_TOKEN")},9254:(I,C,e)=>{e.d(C,{d:()=>u});var m=e(9808),f=e(2188),c=e(4729),h=e(8889),_=e(1834),t=e(5e3);let u=(()=>{class r extends h.l{constructor(E,A,T,P){super(T,P),this._elementRef=E,this._renderer=A,this.rowsAmount=1,this.columnsAmount=1,this.itemSize=300,this.coeff=1}ngOnInit(){super.ngOnInit(),this._renderer.setStyle(this._elementRef.nativeElement,f.L.DISPLAY,"grid"),this._renderer.setStyle(this._elementRef.nativeElement,f.L.GRID_GAP,`0.5${_.N.REM}`),this._renderer.setStyle(this._elementRef.nativeElement,f.L.JUSTIFY_CONTENT,"center")}setGameSizes(){const E=Math.min(this.itemSize,c.B.getGridContainerMinDimension()/Math.max(this.rowsAmount,this.columnsAmount)-12);this._renderer.setStyle(this._elementRef.nativeElement,f.L.GRID_TEMPLATE_COLUMNS,`repeat(${this.columnsAmount}, ${E}${_.N.PX})`),this._renderer.setStyle(this._elementRef.nativeElement,f.L.GRID_TEMPLATE_ROWS,`repeat(${this.rowsAmount}, ${E*this.coeff}${_.N.PX})`)}}return r.\u0275fac=function(E){return new(E||r)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.R0b),t.Y36(m.K0))},r.\u0275dir=t.lG2({type:r,selectors:[["","gridSizer",""]],inputs:{rowsAmount:"rowsAmount",columnsAmount:"columnsAmount",itemSize:"itemSize",coeff:"coeff"},features:[t.qOj]}),r})()},9513:(I,C,e)=>{e.d(C,{n:()=>u});var t,m=e(655),f=e(8744),c=e(2986),h=e(2868),_=e(5e3);class u{constructor(o,E){this._elementRef=o,this._renderer=E,t.set(this,null)}ngOnInit(){if("IMG"!==this._elementRef.nativeElement.tagName)throw new Error("Element should be an image");(0,m.YH)(this,t,f.O.getImage(this.src).pipe((0,c.q)(1),(0,h.b)(o=>this._renderer.setAttribute(this._elementRef.nativeElement,"src",o.src))).subscribe(),"f")}ngOnDestroy(){var o;null===(o=(0,m.Q_)(this,t,"f"))||void 0===o||o.unsubscribe()}}t=new WeakMap,u.\u0275fac=function(o){return new(o||u)(_.Y36(_.SBq),_.Y36(_.Qsj))},u.\u0275dir=_.lG2({type:u,selectors:[["","preloadImg",""]],inputs:{src:["preloadImg","src"]}})},9117:(I,C,e)=>{e.d(C,{W:()=>f});var m=e(2273);class f{constructor(h){this.id=null,this.title="",this.color="",this.route="",this.id=h.id,this.title=m.f.getTranslation(h.id),this.color=h.color,this.route=`${this.id}`}}},5605:(I,C,e)=>{e.d(C,{$:()=>m});class m{static shuffle(c){if(c.length<1)return console.warn("Empty array!"),c;const h=[...c];for(;!m._isArrShuffled(c,h);)h.sort(()=>Math.random()-.5);return h}static _isArrShuffled(c,h){let _=!1;for(const[t,u]of c.entries())if(u!==h[t]){_=!0;break}return _}static getRandItems(c,h=c.length){if(h>c.length)throw new Error(`maxArrLength ${h} should be equal or less than items length ${c.length}`);const _=m.shuffle(c);return _.length=h,_}static getDoubledRandItems(c,h=c.length){const _=m.getRandItems(c,h);return m.shuffle([..._,..._])}static uniq(c){return Array.from(new Set(c))}static getSequence(c,h=0){const _=[];for(let t=h;t<c;t++)_.push(t);return _}static groupArrByLength(c,h){const _=new Map;let t=0,u=0,r=0;for(;r<c.length;)u=t*h,r=u+h,_.set(t,c.slice(u,r)),t++;return _}static getRndInteger(c,h){return Math.floor(Math.random()*(h-c))+c}static getRndArrElem(c){return c[m.getRndInteger(0,c.length)]}}},4636:(I,C,e)=>{e.d(C,{Z:()=>l});var m=e(9424),f=e(4375),c=e(9771),h=e(6849),_=e(8397),t=e(2868),u=e(2273),r=e(5e3),o=e(2205),E=e(5316),A=e(5610),T=e(965),P=e(9808),S=e(9513),M=e(8550),y=e(829);function v(s,a){if(1&s){const p=r.EpF();r.TgZ(0,"figure",5),r.NdJ("click",function(D){const n=r.CHM(p).$implicit;return r.oxw().selectIcon(D,n)}),r._UZ(1,"img",6),r.TgZ(2,"figcaption"),r.TgZ(3,"div",7),r._uU(4),r.ALo(5,"capitalizeFirstLetter"),r.qZA(),r.qZA(),r.qZA()}if(2&s){const p=a.$implicit;r.xp6(1),r.Q6J("preloadImg",p.icon),r.xp6(3),r.Oqu(r.lcZ(5,2,p.title))}}let l=(()=>{class s extends f.Q{constructor(p,O){super(O),this._themesService=p,this.cdRef=O,this.category=m.G.getCategoryById("themes"),this.title=u.f.getTranslation("choose_theme"),this.searchPlaceHolder=`${u.f.getTranslation("search_theme")}...`,this.list$=null}selectIcon(p,O){p.stopPropagation(),_.J.setChosenTheme(O),h.A.updateStepInfo({title:O.title,style:{color:c.r.BLUE}}),h.A.goToNext()}buildList(){this.list$=this._themesService.getThemes().pipe((0,t.b)(()=>this.showList()))}}return s.\u0275fac=function(p){return new(p||s)(r.Y36(o.O),r.Y36(r.sBO))},s.\u0275cmp=r.Xpm({type:s,selectors:[["theme-choice"]],features:[r.qOj],decls:7,vars:10,consts:[[3,"category","title"],[3,"placeHolder","searchStrInput"],[3,"loaded"],[1,"list"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"list-item__img",3,"preloadImg"],[1,"list-item__title"]],template:function(p,O){1&p&&(r._UZ(0,"category-title",0),r.TgZ(1,"search-input",1),r.NdJ("searchStrInput",function(R){return O.searchStr=R}),r.qZA(),r.TgZ(2,"spinner-wrapper",2),r.TgZ(3,"div",3),r.YNc(4,v,6,4,"figure",4),r.ALo(5,"filterIcons"),r.ALo(6,"async"),r.qZA(),r.qZA()),2&p&&(r.Q6J("category",O.category)("title",O.title),r.xp6(1),r.Q6J("placeHolder",O.searchPlaceHolder),r.xp6(1),r.Q6J("loaded",O.loaded),r.xp6(2),r.Q6J("ngForOf",r.xi3(5,5,r.lcZ(6,8,O.list$),O.searchStr)))},directives:[E.a,A.J,T.C,P.sg,S.n],pipes:[M.V,P.Ov,y.G],styles:[".list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:3rem}.list-item[_ngcontent-%COMP%]{padding:10px;border-radius:30px 0;box-shadow:0 0 10px 18px #ffffffbf;background-color:#ffffffbf;border:solid 2px rgba(158,158,158,.15);cursor:pointer}.list-item[_ngcontent-%COMP%]:hover{background-color:#ffffffe6;border-color:#9e9e9e4d}.list-item__img[_ngcontent-%COMP%]{display:block;margin:auto}.list-item__title[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}"],changeDetection:0}),s})()}}]);