import{a as yo}from"./chunk-7WTQ3LXT.js";import{a as qn,b as q,c as oe,d as j}from"./chunk-BGTDJZQO.js";import{a as go,b as Q,c as Y}from"./chunk-LWSWHT3V.js";import{a as bo,b as qi,c as yt,d as So,e as Io,f as Eo,g as Do,h as To}from"./chunk-OLTTIQRY.js";import{a as Z,b as wo,c as ct}from"./chunk-SG4JUGDG.js";import{c as fo,d as N,e as Wi,f as Rt,g as ke,h as _o,j as Co,k as vo,l as ii,m as Ki,p as ni}from"./chunk-7YRR4ONJ.js";import{a as Be}from"./chunk-SQADIMNP.js";import{$b as T,$c as Ze,A as z,Ab as no,Bb as ee,Bc as At,C as X,Cb as yi,Cc as ho,D as Se,Db as P,Dc as Ui,E as jr,Ea as Jr,Ec as jt,Fc as po,Ga as Qe,H as De,Ha as M,Hc as Kn,I as ei,Ia as O,J as Wr,Ja as ot,Jb as ro,K as Vi,Ka as eo,Kc as xe,L as Ni,La as Ue,M as ye,Mb as oo,N as Kr,Na as Ut,Nb as Le,O as Li,Ob as C,P as zn,Pa as de,Pb as pe,Q as ze,Qa as Pe,Qb as st,R as Hn,Rb as zi,Rc as ji,S as qr,Sb as L,Sc as tt,T as fe,Ta as me,Tb as be,Tc as Pt,Ub as B,Uc as at,Va as to,Vb as $,Wb as f,X as We,Xa as io,Xb as _,Xc as uo,Yb as x,Z as qe,Za as $i,Zb as ft,_b as R,a as Te,ac as y,b as rt,ba as Qr,bc as jn,bd as Ve,ca as Zr,cc as Wn,cd as Ye,dc as Hi,dd as Ae,e as c,ea as Gi,f as u,g,gc as te,h as w,ha as Et,hc as ie,i as zt,ic as ne,j as ki,ja as Yr,jb as J,jc as Ge,k as ce,ka as Xr,kc as re,l as Ht,la as Bi,lb as Un,lc as so,ma as ve,mc as we,n as Ci,na as Ie,nb as p,nc as ao,oa as I,ob as V,oc as K,pc as co,q as k,qc as Ct,r as Hr,ra as ti,rc as lo,s as $n,sa as ue,sb as he,sc as Ot,ta as gt,tb as vi,tc as ge,u as He,ub as Mt,uc as Ce,v as dt,va as Ne,vc as mo,w as Re,wc as vt,x as Ur,xa as et,xb as D,ya as b,yb as _t,yc as Fe,zb as U}from"./chunk-RJ2WF6JB.js";var Qn=[{id:"games",color:Z.BLUE,chapters:bo},{id:"contacts",color:Z.GREEN},{id:"acknowledgment",color:Z.ORANGE},{id:"about",color:Z.PINK}];var Qi=class i extends qi{constructor(e){super(e),this.chapters=null,this.absoluteRoute="",this.parentRoute="",this.isExpanded=!1,this.parentRoute=e.parentRoute||"",this.absoluteRoute=this.parentRoute?`${this.parentRoute}/${this.route}`:this.route,this.chapters=e.chapters?e.chapters.map(t=>new i(rt(Te({},t),{parentRoute:this.route}))):[]}toggleExpanded(){this.chapters?.length&&(this.isExpanded=!this.isExpanded)}};var ri=class{static getDesktopChapters(){return Qn.map(e=>new qi(e))}static getMobileChapters(){return Qn.map(e=>new Qi(e))}};var Mo=(()=>{let e=class e{constructor(){this.chapter=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["chapter"]],inputs:{chapter:"chapter"},decls:6,vars:5,consts:[[1,"chapter",3,"routerLink"],["width","200","height","50","routerLinkActive","chapter__img--active",1,"chapter__img"],["d","m 197.03362,37.791399 c 5.63757,3.866462 3.62414,12.20988 -6.44295,12.108132 C 132.30221,49.696033 73.510371,50.204777 15.523913,45.829571 12.101102,45.524323 11.195062,43.082347 12.805798,41.657861 11.094392,41.454363 9.2823156,41.250865 7.5709095,41.047367 -4.8116155,39.419383 -0.38209431,27.107754 10.289024,26.497259 c 0.704698,0 1.308722,-0.101748 2.013419,-0.101748 C 2.3360208,24.055284 3.8460849,13.473386 14.315863,12.964642 9.0809737,8.6911837 11.396405,0.44951471 21.765511,0.44951471 75.725132,0.95825974 130.79213,-1.5854654 184.44975,3.2984868 c 7.65099,0.712243 9.76506,6.613685 5.73824,9.6661552 7.14765,2.848972 6.44294,10.683645 -1.00671,12.413378 1.30873,0.101749 2.61745,0.305247 3.8255,0.406996 7.65098,1.017491 9.06037,8.852164 4.02684,12.006383 z",1,"chapter__path"],["routerLinkActive","chapter__title--active",1,"chapter__title"]],template:function(r,o){r&1&&(f(0,"div",0),ot(),f(1,"svg",1),x(2,"path",2),_(),eo(),f(3,"div",3),re(4),ge(5,"capitalizeFirstLetter"),_()()),r&2&&(C("routerLink",o.chapter.route),p(2),Le("fill",o.chapter.color),p(2),we(" ",Ce(5,3,o.chapter.title)," "))},dependencies:[ni,ii,Ki,Be],styles:[".chapter[_ngcontent-%COMP%]{width:200px;height:50px;margin:auto;position:relative;cursor:pointer}.chapter[_ngcontent-%COMP%]:hover{transform:rotate(3deg)}.chapter__img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:0}.chapter__img--active[_ngcontent-%COMP%]{transform:scale(1.1)}.chapter__title[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center;color:#fff;position:absolute;font-size:1.5rem;z-index:1}.chapter__title--active[_ngcontent-%COMP%]{font-weight:bolder}"],changeDetection:0});let i=e;return i})();var Rl=(i,e)=>e.id,Oo=i=>({$implicit:i});function Fl(i,e){i&1&&ft(0)}function kl(i,e){if(i&1){let t=R();f(0,"span",8),T("click",function(r){M(t);let o=y().$implicit,s=y(2);return O(s.onItemClick(r,o))}),f(1,"span",9),re(2),ge(3,"capitalizeFirstLetter"),_(),x(4,"span",10),_()}if(i&2){let t=y().$implicit;p(2),so(Ce(3,5,t.title)),p(2),pe("border-left-color",t.color),st("items-header__triangle--expanded",t.isExpanded)}}function Vl(i,e){if(i&1&&(f(0,"span",7),re(1),ge(2,"capitalizeFirstLetter"),_()),i&2){let t=y().$implicit;C("routerLink",t.absoluteRoute),p(),we(" ",Ce(2,2,t.title)," ")}}function Nl(i,e){i&1&&ft(0)}function Ll(i,e){if(i&1&&P(0,Nl,1,0,"ng-container",2),i&2){let t=y().$implicit;y(2);let n=Ge(3);C("ngTemplateOutlet",n)("ngTemplateOutletContext",Ct(2,Oo,t.chapters))}}function Gl(i,e){if(i&1&&(f(0,"li",5),P(1,kl,5,7,"span",6)(2,Vl,3,4,"span",7)(3,Ll,1,4,"ng-container"),_()),i&2){let t=e.$implicit;pe("color",t.color),p(),L(t.chapters.length?1:-1),p(),L(t.chapters.length?-1:2),p(),L(t.chapters.length&&t.isExpanded?3:-1)}}function Bl(i,e){if(i&1&&(f(0,"ul",3),B(1,Gl,4,5,"li",4,Rl),_()),i&2){let t=e.$implicit;p(),$(t)}}var Ao=(()=>{var e;let t=class t{constructor(r){u(this,e);this._router=r,this.appearanceFrom="right",this.chapters=ri.getMobileChapters()}ngOnInit(){g(this,e,this._router.events.pipe(ye(r=>r instanceof _o),I(()=>this.menuToggle.closeMenu())).subscribe())}ngOnDestroy(){c(this,e)?.unsubscribe()}onItemClick(r,o){r.stopPropagation(),o.toggleExpanded()}};e=new WeakMap,t.\u0275fac=function(o){return new(o||t)(V(vo))},t.\u0275cmp=D({type:t,selectors:[["nav-mobile"]],viewQuery:function(o,s){if(o&1&&te(qn,7),o&2){let a;ie(a=ne())&&(s.menuToggle=a.first)}},decls:4,vars:5,consts:[["navItems",""],[3,"appearanceFrom"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"nav"],[1,"nav__item",3,"color"],[1,"nav__item"],[1,"items-header"],["routerLinkActive","nav__item--active",3,"routerLink"],[1,"items-header",3,"click"],[1,"items-header__title"],[1,"items-header__triangle"]],template:function(o,s){if(o&1&&(f(0,"menu-toggle",1),P(1,Fl,1,0,"ng-container",2),_(),P(2,Bl,3,0,"ng-template",null,0,vt)),o&2){let a=Ge(3);C("appearanceFrom",s.appearanceFrom),p(),C("ngTemplateOutlet",a)("ngTemplateOutletContext",Ct(3,Oo,s.chapters))}},dependencies:[Pt,ni,ii,Ki,qn,Be],styles:[".nav[_ngcontent-%COMP%]{padding-left:1rem}.nav__item[_ngcontent-%COMP%]{font-size:2rem;cursor:pointer}.nav__item--active[_ngcontent-%COMP%]{font-weight:700}.items-header[_ngcontent-%COMP%]{display:flex;align-items:center}.items-header__triangle[_ngcontent-%COMP%]{width:0;height:0;margin-left:10px;border-style:solid;border-width:6px 0 6px 12px;border-color:transparent;transition:.25s}.items-header__triangle--expanded[_ngcontent-%COMP%]{transform:rotate(90deg)}.translations[_ngcontent-%COMP%]{margin-top:1rem;margin-left:1rem}"],changeDetection:0});let i=t;return i})();function $l(i,e){i&1&&(f(0,"div",6),x(1,"img",7),_()),i&2&&(p(),C("preloadImg","../../assets/img/logo.png"))}function zl(i,e){i&1&&x(0,"nav-mobile",8)}function Hl(i,e){if(i&1&&x(0,"chapter",10),i&2){let t=e.$implicit;C("chapter",t)}}function Ul(i,e){if(i&1&&(f(0,"div",9),B(1,Hl,1,1,"chapter",10,be),_()),i&2){let t=y();p(),$(t.chapters)}}var Po=(()=>{let e=class e{constructor(){this.chapters=ri.getDesktopChapters(),this.colors=Z,this.title=Ae.getTranslation("title")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["main"]],decls:9,vars:8,consts:[[1,"main"],["class","main__logo","routerLink","/",4,"ifMobile"],[1,"main__title"],["class","main__nav-mobile",4,"ifMobile"],["class","main__chapters",4,"ifMobile"],[1,"main__container"],["routerLink","/",1,"main__logo"],[3,"preloadImg"],[1,"main__nav-mobile"],[1,"main__chapters"],[3,"chapter"]],template:function(r,o){r&1&&(f(0,"div",0),P(1,$l,2,1,"div",1),f(2,"div",2),re(3),ge(4,"capitalizeFirstLetter"),_(),P(5,zl,1,0,"nav-mobile",3)(6,Ul,3,0,"div",4),f(7,"div",5),x(8,"router-outlet"),_()()),r&2&&(p(),C("ifMobile",!1),p(),pe("color",o.colors.BLUE),p(),we(" ",Ce(4,6,o.title)," "),p(2),C("ifMobile",!0),p(),C("ifMobile",!1))},dependencies:[Mo,ni,Co,ii,Ao,wo,yt,Be],styles:[".main[_ngcontent-%COMP%]{display:grid;grid-template-columns:min-content auto;grid-template-rows:max-content auto;grid-gap:2rem}.main__logo[_ngcontent-%COMP%]{grid-row-start:1;grid-row-end:3;text-align:center;cursor:pointer}.main__title[_ngcontent-%COMP%]{font-size:3rem;text-shadow:0 1px 0 #fff,0 2px 0 #fff,0 3px 0 #fff,0 4px 2px #fff,1px 0 0 #fff,2px 0 0 #fff,3px 0 0 #fff,4px 0 2px #fff,0 -1px 0 #fff,0 -2px 0 #fff,0 -3px 0 #fff,0 -4px 2px #fff,-1px 0 0 #fff,-2px 0 0 #fff,-3px 0 0 #fff,-4px 0 2px #fff}.main__translations[_ngcontent-%COMP%]{align-self:center;justify-self:end}.main__chapters[_ngcontent-%COMP%]{display:grid;grid-column-start:2;grid-column-end:4;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:1rem;place-items:center}.main__container[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:4}@media screen and (max-width: 1024px){.main[_ngcontent-%COMP%]{grid-template-columns:1fr 60px}.main__nav-mobile[_ngcontent-%COMP%]{align-self:center;position:fixed;top:1rem;right:.5rem;z-index:1}.main__title[_ngcontent-%COMP%]{font-size:2rem}}"],changeDetection:0});let i=e;return i})();var se=()=>import("./chunk-4XXS4NI7.js").then(i=>i.GameStepsComponent);var oi=class{constructor(e,t){this.id=null,this.title="",this.icon="",this.bg="",this.isCustomItems=!1,this.customItemImgExt=null,this.themeItemsIds=null,this.id=e.id,this.title=t[e.id],this.isCustomItems=e.customItems,this.icon=Y.getIcon(e.id,e.customIcon),this.bg=Y.getBg(e.id,e.customBg),this.customItemImgExt=e.customItemImgExt||Ve.PNG,this.themeItemsIds=e.themeItemsIds}};var bt=class extends oi{};var si=class extends oi{constructor(e,t){super(e,t),this.themes=null,this.themes=this.#e(e).map(n=>new bt(n,t))}#e(e){return e.themes||this.id.split("__").map(t=>({id:t}))}};var Zi=new Ne("AGE_DEPENDENCY");var wt,Ro,Fo,ko,Vo,Wt=class Wt{constructor(e,t,n){u(this,wt);this._http=e,this._translationsService=t,this._ageDependency=n}getThemes(e=ke.chosenGameId){return this._fetchThemes(Y.getGameThemesUrl(e,this._ageDependency)).pipe(X(t=>De({commonThemesTranslations:w(this,wt,Ro).call(this,t),commonCustomThemesTranslations:w(this,wt,Fo).call(this,t,e),combinedThemesTranslations:w(this,wt,ko).call(this,t),combinedCustomThemesTranslations:w(this,wt,Vo).call(this,t,e),config:Re(t)}).pipe(X(n=>Re(n.config).pipe(Se(),z(r=>Y.isCommonTheme(r)?new bt(r,Te(Te({},n.commonThemesTranslations),n.commonCustomThemesTranslations)):Y.isCombinedTheme(r)?new si(r,Te(Te({},n.combinedThemesTranslations),n.combinedCustomThemesTranslations)):(console.error(`Unknown theme ${r.id} in config ${JSON.stringify(r)}`),null)),fe())))))}_fetchThemes(e){return this._http.get(e)}};wt=new WeakSet,Ro=function(e){return e.some(t=>Y.isCommonTheme(t))?this._translationsService.loadTranslation("themes/common"):Re(null)},Fo=function(e,t){return e.some(n=>Y.isCommonTheme(n))?this._translationsService.loadTranslation(`themes/common_custom/${t}`).pipe(Hn(()=>Re(null))):Re(null)},ko=function(e){return e.some(t=>Y.isCombinedTheme(t))?this._translationsService.loadTranslation("themes/combined"):Re(null)},Vo=function(e,t){return e.some(n=>Y.isCombinedTheme(n))?this._translationsService.loadTranslation(`themes/combined_custom/${t}`).pipe(Hn(()=>Re(null))):Re(null)},Wt.\u0275fac=function(t){return new(t||Wt)(et(Ze),et(Ae),et(Zi,8))},Wt.\u0275prov=ue({token:Wt,factory:Wt.\u0275fac});var ai=Wt;He([Ye()],ai.prototype,"_fetchThemes",null);var jl=(i,e)=>e.title;function Wl(i,e){if(i&1){let t=R();f(0,"figure",4),T("click",function(r){let o=M(t).$implicit,s=y();return r.stopPropagation(),O(s.selectIcon(o))}),x(1,"img",5),f(2,"figcaption")(3,"div",6),re(4),ge(5,"capitalizeFirstLetter"),_()()()}if(i&2){let t=e.$implicit;p(),C("preloadImg",t.icon),p(3),we(" ",Ce(5,2,t.title)," ")}}var le=(()=>{var e;let t=class t extends So{constructor(){super(...arguments);u(this,e);this.category=Io.getCategoryById("themes"),this.title=Ae.getTranslation("choose_theme"),this.searchPlaceHolder=`${Ae.getTranslation("search_theme")}...`,g(this,e,b(ai)),this.list$=c(this,e).getThemes()}selectIcon(o){Y.setChosenTheme(o),j.updateStepInfo({title:o.title,style:{color:Z.BLUE}}),j.goToNext()}};e=new WeakMap,t.\u0275fac=(()=>{let o;return function(a){return(o||(o=Ue(t)))(a||t)}})(),t.\u0275cmp=D({type:t,selectors:[["theme-choice"]],features:[K([ai]),ee],decls:7,vars:8,consts:[[3,"category","title"],[3,"searchStrInput","placeHolder"],[1,"list"],[1,"list-item"],[1,"list-item",3,"click"],[1,"list-item__img",3,"preloadImg"],[1,"list-item__title"]],template:function(s,a){s&1&&(x(0,"category-title",0),f(1,"search-input",1),T("searchStrInput",function(d){return a.searchStr=d}),_(),f(2,"div",2),B(3,Wl,6,4,"figure",3,jl),ge(5,"async"),ge(6,"filterIcons"),_()),s&2&&(C("category",a.category)("title",a.title),p(),C("placeHolder",a.searchPlaceHolder),p(2),$(mo(6,5,Ce(5,3,a.list$),a.searchStr)))},dependencies:[Be,Eo,Do,yt,at,To],styles:[".list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:3rem}.list-item[_ngcontent-%COMP%]{padding:10px;border-radius:30px 0;box-shadow:0 0 10px 18px #ffffffbf;background-color:#ffffffbf;border:solid 2px rgba(158,158,158,.15);cursor:pointer}.list-item[_ngcontent-%COMP%]:hover{background-color:#ffffffe6;border-color:#9e9e9e4d}.list-item__img[_ngcontent-%COMP%]{display:block;margin:auto}.list-item__title[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}"],changeDetection:0});let i=t;return i})();var Xi=class{constructor(e,t,n,r){this.theme=t,this.title=n,this.id="",this.img="",this.hasOwnSound=!1,this.titleSoundUrl="",this.ownSoundUrl="",this.titleStyle=null,this.imgStyle=null,this.id=e.id,this.img=Y.getItemImg(e,t.id,t.isCustomItems,r),this.hasOwnSound=e.hasOwnSound,this.titleSoundUrl=Y.getTitleSoundUrl(t.id,this.id),this.ownSoundUrl=Y.getOwnSoundUrl(t.id,this.id)}playTitle(){return ce(this,null,function*(){yield q.playSound(this.titleSoundUrl)})}playOwnSound(){return ce(this,null,function*(){yield q.playSound(this.ownSoundUrl)})}};var Me=(()=>{let e=class e{constructor(){this.chosenSetIndex=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})();var qt,Lo,Yn,Kt=class Kt{constructor(e,t,n){u(this,qt);this._http=e,this._translationsService=t,this._addStepsService=n}static preloadThemeItemsImgs(e){return ct.getImages(e.map(t=>t.img))}getItems(e=()=>!0){let t=Y.getChosenTheme();return t instanceof bt?w(this,qt,Yn).call(this,t,e):t instanceof si?w(this,qt,Lo).call(this,t,e):Ur("Unknown theme instance")}_fetchItems(e){return this._http.get(e)}};qt=new WeakSet,Lo=function(e,t){return Re(e.isCustomItems?[e]:e.themes).pipe(Se(),X(n=>w(this,qt,Yn).call(this,n,t)),Se(),fe())},Yn=function(e,t){let n=this._fetchItems(Y.getItemsUrl(e.id,e.isCustomItems,this._addStepsService?.chosenSetIndex)),r=e.isCustomItems?Re({}):this._translationsService.loadTranslation(`themes/items/${e.id}`);return De([n,r]).pipe(X(([o,s])=>Re(o).pipe(z(a=>a.filter(t)),X(a=>Wr(()=>e.themeItemsIds?.length>0,Re(e.themeItemsIds).pipe(Se(),z(l=>a.find(d=>d.id===l))),Re(a).pipe(Se()))),z(a=>new Xi(a,e,s[a.id],this._addStepsService?.chosenSetIndex)),fe())))},Kt.\u0275fac=function(t){return new(t||Kt)(et(Ze),et(Ae),et(Me,8))},Kt.\u0275prov=ue({token:Kt,factory:Kt.\u0275fac});var F=Kt;He([Ye()],F.prototype,"_fetchItems",null);var Xe=(()=>{let e=class e{constructor(){this.loadedData=new de,this.emittedData=new de}onDataLoad(n){this.loadedData.emit(n)}emitData(n){this.emittedData.emit(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=U({type:e,inputs:{data:"data"},outputs:{loadedData:"loadedData",emittedData:"emittedData"}});let i=e;return i})();var Kl=()=>["first","second","third"];function ql(i,e){if(i&1&&x(0,"div"),i&2){let t=e.$implicit;zi("spinner__item spinner__item--",t,"")}}var Ft=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["spinner"]],decls:3,vars:1,consts:[[1,"spinner"],[3,"class"]],template:function(r,o){r&1&&(f(0,"div",0),B(1,ql,1,3,"div",1,be),_()),r&2&&(p(),$(co(0,Kl)))},styles:[".spinner[_ngcontent-%COMP%]{width:100px;margin:auto;text-align:center}.spinner__item[_ngcontent-%COMP%]{display:inline-block;width:25px;height:25px;background-color:#5c74d7;border-radius:100%;animation:_ngcontent-%COMP%_spinner 1.4s ease-in-out 0s infinite both}.spinner__item--first[_ngcontent-%COMP%]{animation-delay:-.32s}.spinner__item--second[_ngcontent-%COMP%]{animation-delay:-.16s}@keyframes _ngcontent-%COMP%_spinner{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}"],changeDetection:0});let i=e;return i})();function Ql(i,e){if(i&1&&(f(0,"figure",0),x(1,"img",1),f(2,"div",2),re(3),ge(4,"capitalizeFirstLetter"),_()()),i&2){let t=y();p(),C("src",t.data.img,J),p(2),we(" ",Ce(4,2,t.data.title)," ")}}function Zl(i,e){i&1&&x(0,"spinner")}var Go=(()=>{var e,t,Bo;let r=class r extends Xe{constructor(a){super();u(this,t);u(this,e);this._cdRef=a,this.loaded=!1,g(this,e,null)}ngAfterViewInit(){w(this,t,Bo).call(this)}ngOnDestroy(){c(this,e)?.unsubscribe()}onDataLoad(a){return ce(this,null,function*(){this.loaded=!0,this._cdRef.detectChanges(),yield this.data.playTitle(),ki(r.prototype,this,"onDataLoad").call(this,a)})}};e=new WeakMap,t=new WeakSet,Bo=function(){g(this,e,ct.getImage(this.data.img).pipe(We(1),qe(300),I(()=>this.onDataLoad(this.data))).subscribe())},r.\u0275fac=function(l){return new(l||r)(V(Fe))},r.\u0275cmp=D({type:r,selectors:[["ng-component"]],inputs:{data:"data"},features:[ee],decls:2,vars:2,consts:[[1,"item"],[1,"item__img",3,"src"],[1,"item__title"]],template:function(l,d){l&1&&P(0,Ql,5,4,"figure",0)(1,Zl,1,0,"spinner"),l&2&&(L(d.loaded?0:-1),p(),L(d.loaded?-1:1))},dependencies:[Ft,Be],styles:[".item[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.item__img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:400px;margin:auto}.item__title[_ngcontent-%COMP%]{text-align:center;font-size:3rem}"],changeDetection:0});let i=r;return i})();var W=function(i){return i.PX="px",i.DEG="deg",i.REM="rem",i.PERCENTAGE="%",i}(W||{});var Yl=["content"],Ji=(()=>{var e,t;let n=class n{constructor(){u(this,e);u(this,t);this.loadedData=new de,this.emittedData=new de,g(this,t,new k)}ngOnInit(){g(this,e,this.content.createComponent(this.component)),c(this,e).instance.data=this.data,c(this,e).instance.loadedData.pipe(I(o=>this.loadedData.emit(o)),Ie(c(this,t))).subscribe(),c(this,e).instance.emittedData.pipe(I(o=>this.emittedData.emit(o)),Ie(c(this,t))).subscribe()}ngOnDestroy(){c(this,t).next(),c(this,t).unsubscribe(),c(this,e).destroy()}};e=new WeakMap,t=new WeakMap,n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=D({type:n,selectors:[["slide-item-resolver"]],viewQuery:function(s,a){if(s&1&&te(Yl,7,vi),s&2){let l;ie(l=ne())&&(a.content=l.first)}},inputs:{component:"component",data:"data"},outputs:{loadedData:"loadedData",emittedData:"emittedData"},decls:2,vars:0,consts:[["content",""]],template:function(s,a){s&1&&x(0,"template",null,0)},styles:["[_nghost-%COMP%]{height:100%}"]});let i=n;return i})();var Xl=["slidesContainer"],Jl=["carouselSlides"],ed=(i,e,t)=>({width:i,transform:e,transition:t});function td(i,e){if(i&1){let t=R();f(0,"div",8),T("click",function(){M(t);let r=y();return O(r.slideToLeft())}),re(1," \u25B7 "),_()}if(i&2){let t=y();pe("color",t.controlColor)}}function id(i,e){if(i&1){let t=R();f(0,"slide-item-resolver",11),T("loadedData",function(){M(t);let r=y(2);return O(r.onLoadData())})("emittedData",function(r){M(t);let o=y(2);return O(o.onEmitDataFromItem(r))}),_()}if(i&2){let t=y().$implicit,n=y();C("component",n.itemComponent)("data",t)}}function nd(i,e){if(i&1){let t=R();f(0,"div",9),T("click",function(r){let o=M(t).$index,s=y();return O(s.onSlideClick(r,o))})("swipeleft",function(){M(t);let r=y();return O(r.swipeToRight())})("swiperight",function(){M(t);let r=y();return O(r.swipeToLeft())}),P(1,id,1,2,"slide-item-resolver",10),_()}if(i&2){let t=e.$index,n=y();pe("width",n.slideWidth),p(),L(n.shouldSlideBeenShown(t)?1:-1)}}function rd(i,e){if(i&1){let t=R();f(0,"div",12),T("click",function(){M(t);let r=y();return O(r.slideToRight())}),re(1," \u25B7 "),_()}if(i&2){let t=y();pe("color",t.controlColor)}}var je=(()=>{var e,t,n,r,o,$o,Xn,zo;let d=class d{constructor(){u(this,o);u(this,e);u(this,t);u(this,n);u(this,r);this.slides=[],this.slidesCount=1,this.height="400px",this.activeSlideIndex=0,this.showControls=!1,this.controlColor=Z.GREEN,this.blockManualSwiping=!1,this.slideClick=new de,this.transitionEnd=new de,this.emitDataFromItem=new de,this.items=[],this.sliderContainerWidth=0,this.transition="none",this.isMobile=!1,this.canShift=!0,g(this,n,new k),g(this,r,b(Fe))}ngOnInit(){this.activeSlideIndex+=this.slidesCount,w(this,o,$o).call(this),w(this,o,Xn).call(this),this.loadData(),w(this,o,zo).call(this),Rt.resize$.pipe(I(()=>w(this,o,Xn).call(this)),Ie(c(this,n))).subscribe(),Rt.isMobile$.pipe(I(m=>{this.isMobile=m,c(this,r).markForCheck()}),Ie(c(this,n))).subscribe()}ngOnDestroy(){c(this,n).next(),c(this,n).unsubscribe()}onLoadData(){this.canShift=!0}loadData(m=this.getDefaultIndex()){g(this,t,this.activeSlideIndex),c(this,r).markForCheck(),c(this,r).detectChanges()}getDefaultIndex(){return c(this,e)===0?this.activeSlideIndex+this.slidesCount-1:this.activeSlideIndex}doSlide(){this.canShift=!1,this.transition="0.4s ease-in-out"}get slidesWidth(){return`${this.sliderContainerWidth*this.items.length}${W.PX}`}get slideWidth(){return`${this.sliderContainerWidth/this.slidesCount}${W.PX}`}get shift(){return`translate3d(-${this.activeSlideIndex*this.sliderContainerWidth/this.slidesCount}${W.PX}, 0${W.PX}, 0${W.PX})`}shouldSlideBeenShown(m){return c(this,t)===m}swipeToRight(){this.blockManualSwiping||this.slideToRight()}swipeToLeft(){this.blockManualSwiping||this.slideToLeft()}slideToRight(){this.canShift&&(g(this,e,0),this.doSlide(),this.activeSlideIndex++,c(this,r).detectChanges())}get currentItem(){return this.items[this.activeSlideIndex]}slideToLeft(){this.canShift&&(g(this,e,1),this.doSlide(),this.activeSlideIndex--,c(this,r).detectChanges())}onTransitionEnd(){this.transition="none",setTimeout(()=>{if(this.activeSlideIndex===this.slidesCount-1){this.activeSlideIndex=this.items.length-(this.slidesCount+1);for(let m=this.activeSlideIndex+this.slidesCount;m>=this.activeSlideIndex;m--)this.loadData(m)}else this.activeSlideIndex===this.items.length-this.slidesCount?(this.activeSlideIndex=this.slidesCount,this.loadData()):this.loadData();c(this,r).detectChanges(),this.transitionEnd.emit()},0)}onSlideClick(m,v){m.stopPropagation(),this.slideClick.emit(v-this.slidesCount)}onEmitDataFromItem(m){this.emitDataFromItem.emit(m)}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakSet,$o=function(){for(let m=this.slidesCount;m>0;m--)this.items.push(this.slides[this.slides.length-m]);Array.prototype.push.apply(this.items,this.slides);for(let m=0;m<this.slidesCount;m++)this.items.push(this.slides[m])},Xn=function(){this.sliderContainerWidth=this.slidesContainerEl.nativeElement.offsetWidth,c(this,r).markForCheck()},zo=function(){Rt.observeWindowResize().pipe(Ie(c(this,n))).subscribe()},d.\u0275fac=function(v){return new(v||d)},d.\u0275cmp=D({type:d,selectors:[["carousel"]],viewQuery:function(v,S){if(v&1&&(te(Xl,7),te(Jl,7)),v&2){let E;ie(E=ne())&&(S.slidesContainerEl=E.first),ie(E=ne())&&(S.carouselSlidesEl=E.first)}},inputs:{slides:"slides",itemComponent:"itemComponent",slidesCount:"slidesCount",height:"height",activeSlideIndex:"activeSlideIndex",showControls:"showControls",controlColor:"controlColor",blockManualSwiping:"blockManualSwiping"},outputs:{slideClick:"slideClick",transitionEnd:"transitionEnd",emitDataFromItem:"emitDataFromItem"},decls:9,vars:9,consts:[["slidesContainer",""],["carouselSlides",""],[1,"carousel"],[1,"carousel__control","carousel__control--left",3,"color"],[1,"carousel__slides-container"],[1,"carousel__slides",3,"transitionend","ngStyle"],[1,"carousel__slide",3,"width"],[1,"carousel__control","carousel__control--right",3,"color"],[1,"carousel__control","carousel__control--left",3,"click"],[1,"carousel__slide",3,"click","swipeleft","swiperight"],[3,"component","data"],[3,"loadedData","emittedData","component","data"],[1,"carousel__control","carousel__control--right",3,"click"]],template:function(v,S){if(v&1){let E=R();f(0,"div",2),P(1,td,2,2,"div",3),f(2,"div",4,0)(4,"div",5,1),T("transitionend",function(){return M(E),O(S.onTransitionEnd())}),B(6,nd,2,3,"div",6,be),_()(),P(8,rd,2,2,"div",7),_()}v&2&&(p(),L(S.showControls&&!S.isMobile?1:-1),p(),pe("height",S.height),p(2),C("ngStyle",Ot(5,ed,S.slidesWidth,S.shift,S.transition)),p(2),$(S.items),p(2),L(S.showControls&&!S.isMobile?8:-1))},dependencies:[tt,Ji],styles:[".carousel[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;position:relative}.carousel__control[_ngcontent-%COMP%]{display:grid;place-items:center;justify-content:center;width:4rem;height:100%;position:absolute;top:0;font-size:4rem;font-weight:700;cursor:pointer;z-index:1}.carousel__control--right[_ngcontent-%COMP%]{right:0}.carousel__control--left[_ngcontent-%COMP%]{left:0;transform:rotateY(180deg)}.carousel__slides[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.carousel__slides-container[_ngcontent-%COMP%]{width:100%;overflow:hidden}.carousel__slide[_ngcontent-%COMP%]{height:100%;float:left}"],changeDetection:0});let i=d;return i})();var od=(i,e,t)=>({width:i,transform:e,transition:t});function sd(i,e){if(i&1){let t=R();f(0,"div",8),T("click",function(){M(t);let r=y();return O(r.slideToLeft())}),re(1," \u25B7 "),_()}if(i&2){let t=y();pe("color",t.controlColor)}}function ad(i,e){if(i&1){let t=R();f(0,"slide-item-resolver",11),T("loadedData",function(){M(t);let r=y(2);return O(r.onLoadData())})("emittedData",function(r){M(t);let o=y(2);return O(o.onEmitDataFromItem(r))}),_()}if(i&2){let t=y().$implicit,n=y();C("component",n.itemComponent)("data",t)}}function cd(i,e){if(i&1){let t=R();f(0,"div",9),T("click",function(r){let o=M(t).$index,s=y();return O(s.onSlideClick(r,o))})("swipeleft",function(){M(t);let r=y();return O(r.swipeToRight())})("swiperight",function(){M(t);let r=y();return O(r.swipeToLeft())}),P(1,ad,1,2,"slide-item-resolver",10),_()}if(i&2){let t=e.$index,n=y();pe("width",n.slideWidth),p(),L(n.shouldSlideBeenShown(t)?1:-1)}}function ld(i,e){if(i&1){let t=R();f(0,"div",12),T("click",function(){M(t);let r=y();return O(r.slideToRight())}),re(1," \u25B7 "),_()}if(i&2){let t=y();pe("color",t.controlColor)}}var en=(()=>{var e;let t=class t extends je{constructor(){super(...arguments);u(this,e);this.interval=5e3}ngOnDestroy(){super.ngOnDestroy(),clearTimeout(c(this,e))}onBlur(){clearTimeout(c(this,e))}onFocus(){this._startAutoSliding()}onLoadData(){this._startAutoSliding()}doSlide(){clearTimeout(c(this,e)),super.doSlide()}loadData(){clearTimeout(c(this,e)),super.loadData()}_startAutoSliding(){clearTimeout(c(this,e)),this.canShift=!0,g(this,e,setTimeout(()=>this.slideToRight(),this.interval))}};e=new WeakMap,t.\u0275fac=(()=>{let o;return function(a){return(o||(o=Ue(t)))(a||t)}})(),t.\u0275cmp=D({type:t,selectors:[["auto-carousel"]],hostBindings:function(s,a){s&1&&T("blur",function(){return a.onBlur()},!1,Un)("focus",function(){return a.onFocus()},!1,Un)},inputs:{interval:"interval"},features:[ee],decls:9,vars:9,consts:[["slidesContainer",""],["carouselSlides",""],[1,"carousel"],[1,"carousel__control","carousel__control--left",3,"color"],[1,"carousel__slides-container"],[1,"carousel__slides",3,"transitionend","ngStyle"],[1,"carousel__slide",3,"width"],[1,"carousel__control","carousel__control--right",3,"color"],[1,"carousel__control","carousel__control--left",3,"click"],[1,"carousel__slide",3,"click","swipeleft","swiperight"],[3,"component","data"],[3,"loadedData","emittedData","component","data"],[1,"carousel__control","carousel__control--right",3,"click"]],template:function(s,a){if(s&1){let l=R();f(0,"div",2),P(1,sd,2,2,"div",3),f(2,"div",4,0)(4,"div",5,1),T("transitionend",function(){return M(l),O(a.onTransitionEnd())}),B(6,cd,2,3,"div",6,be),_()(),P(8,ld,2,2,"div",7),_()}s&2&&(p(),L(a.showControls&&!a.isMobile?1:-1),p(),pe("height",a.height),p(2),C("ngStyle",Ot(5,od,a.slidesWidth,a.shift,a.transition)),p(2),$(a.items),p(2),L(a.showControls&&!a.isMobile?8:-1))},dependencies:[tt,Ji],styles:[".carousel[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;position:relative}.carousel__control[_ngcontent-%COMP%]{display:grid;place-items:center;justify-content:center;width:4rem;height:100%;position:absolute;top:0;font-size:4rem;font-weight:700;cursor:pointer;z-index:1}.carousel__control--right[_ngcontent-%COMP%]{right:0}.carousel__control--left[_ngcontent-%COMP%]{left:0;transform:rotateY(180deg)}.carousel__slides[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.carousel__slides-container[_ngcontent-%COMP%]{width:100%;overflow:hidden}.carousel__slide[_ngcontent-%COMP%]{height:100%;float:left}"],changeDetection:0});let i=t;return i})();var St=(()=>{var e,t;let n=class n{constructor(){u(this,e,b(me));u(this,t,b(he))}ngOnChanges(){c(this,t).setStyle(c(this,e).nativeElement,N.VISIBILITY,this.isVisible?"visible":"hidden")}};e=new WeakMap,t=new WeakMap,n.\u0275fac=function(s){return new(s||n)},n.\u0275dir=U({type:n,selectors:[["","isVisible",""]],inputs:{isVisible:"isVisible"},features:[Qe]});let i=n;return i})();var kt,ci=class ci{constructor(e,t){u(this,kt,new k);this.ngZone=e,this.document=t}ngOnInit(){this._observeWindowResize(),Rt.resize$.pipe(I(()=>this.setGameSizes()),Ie(c(this,kt))).subscribe(),Rt.isMobile$.pipe(I(()=>ke.setBodyPadding(this.document.body)),Ie(c(this,kt))).subscribe()}ngAfterViewInit(){this.setGameSizes()}ngOnDestroy(){c(this,kt).next(null),c(this,kt).unsubscribe()}_observeWindowResize(){Rt.observeWindowResize().pipe(Ie(c(this,kt))).subscribe()}};kt=new WeakMap,ci.\u0275fac=function(t){return new(t||ci)(V(Pe),V(xe))},ci.\u0275dir=U({type:ci});var Ke=ci;He([yo],Ke.prototype,"_observeWindowResize",null);var Ho=(()=>{let e=class e extends Ke{constructor(n,r,o,s){super(o,s),this._elementRef=n,this._renderer=r}setGameSizes(){this._renderer.setStyle(this._elementRef.nativeElement,N.HEIGHT,`${ke.getViewPortHeight()}${W.PX}`)}};e.\u0275fac=function(r){return new(r||e)(V(me),V(he),V(Pe),V(xe))},e.\u0275dir=U({type:e,selectors:[["","gameViewportSizer",""]],features:[ee]});let i=e;return i})();var dd=["*"];function md(i,e){i&1&&x(0,"spinner")}var ae=(()=>{var e,t,Uo;let r=class r{constructor(){u(this,t);u(this,e);this.loadGame=new de,g(this,e,b(Ae))}ngOnInit(){this.gameLoaded$=De([this.gameLoader,q.getAllBaseSounds(),Re(null).pipe(qe(300)),w(this,t,Uo).call(this)]).pipe(z(()=>(this.loadGame.emit(),!0)),Xr())}};e=new WeakMap,t=new WeakSet,Uo=function(){return c(this,e).loadTranslation("game_started").pipe(z(s=>j.updateStepInfo({title:s.start_game,style:{color:Z.PURPLE}})))},r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=D({type:r,selectors:[["game-spinner-wrapper"]],inputs:{gameLoader:"gameLoader"},outputs:{loadGame:"loadGame"},ngContentSelectors:dd,decls:5,vars:6,consts:[["gameViewportSizer","",1,"h--100",3,"isVisible"]],template:function(a,l){a&1&&(jn(),P(0,md,1,0,"spinner"),ge(1,"async"),f(2,"div",0),ge(3,"async"),Wn(4),_()),a&2&&(L(Ce(1,2,l.gameLoaded$)?-1:0),p(2),C("isVisible",Ce(3,4,l.gameLoaded$)))},dependencies:[at,St,Ft,Ho],encapsulation:2,changeDetection:0});let i=r;return i})();function hd(i,e){if(i&1&&(f(0,"div",1)(1,"div",2),x(2,"auto-carousel",3),_()()),i&2){let t=y();p(2),C("slides",t.items)("itemComponent",t.itemComponent)("height","500px")("showControls",!0)}}var jo=(()=>{var e,t,Wo;let r=class r{constructor(){u(this,t);u(this,e);this.items=null,this.gameLoader=null,this.itemComponent=Go,g(this,e,b(F))}ngOnInit(){w(this,t,Wo).call(this)}};e=new WeakMap,t=new WeakSet,Wo=function(){this.gameLoader=c(this,e).getItems().pipe(I(s=>this.items=s))},r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=D({type:r,selectors:[["ng-component"]],features:[K([F])],decls:2,vars:2,consts:[[3,"gameLoader"],[1,"theme"],[1,"theme__carousel"],[3,"slides","itemComponent","height","showControls"]],template:function(a,l){a&1&&(f(0,"game-spinner-wrapper",0),P(1,hd,3,4,"div",1),_()),a&2&&(C("gameLoader",l.gameLoader),p(),L(l.items!=null&&l.items.length?1:-1))},dependencies:[en,ae],styles:[".theme[_ngcontent-%COMP%]{display:grid;width:100%;max-width:700px;height:100%;margin:auto}.theme__carousel[_ngcontent-%COMP%]{overflow:hidden;align-self:center}"],changeDetection:0});let i=r;return i})();var Ko={path:"theme_description",loadComponent:se,providers:[{provide:oe,useValue:[le,jo]}]};function pd(i,e){if(i&1&&(f(0,"figure",0),x(1,"img",1),f(2,"div",2),re(3),ge(4,"capitalizeFirstLetter"),_()()),i&2){let t=y();p(),C("src",t.data.img,J),p(2),we(" ",Ce(4,2,t.data.title)," ")}}function ud(i,e){i&1&&x(0,"spinner")}var qo=(()=>{var e;let t=class t extends Xe{constructor(o){super();u(this,e);this._cdRef=o,this.loaded=!1,g(this,e,null)}ngAfterViewInit(){this._showItem()}ngOnDestroy(){c(this,e)?.unsubscribe()}_showItem(){g(this,e,ct.getImage(this.data.img).pipe(qe(300),I(()=>this.onDataLoad(this.data))).subscribe())}onDataLoad(o){return ce(this,null,function*(){this.loaded=!0,this._cdRef.detectChanges(),yield o.playTitle(),yield o.playOwnSound(),ki(t.prototype,this,"onDataLoad").call(this,o)})}};e=new WeakMap,t.\u0275fac=function(s){return new(s||t)(V(Fe))},t.\u0275cmp=D({type:t,selectors:[["ng-component"]],viewQuery:function(s,a){if(s&1&&te(yt,5),s&2){let l;ie(l=ne())&&(a.preloadImgVCh=l.first)}},inputs:{data:"data"},features:[ee],decls:2,vars:2,consts:[[1,"item"],[1,"item__img",3,"src"],[1,"item__title"]],template:function(s,a){s&1&&P(0,pd,5,4,"figure",0)(1,ud,1,0,"spinner"),s&2&&(L(a.loaded?0:-1),p(),L(a.loaded?-1:1))},dependencies:[Ft,Be],styles:[".item[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.item__img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:400px;margin:auto}.item__title[_ngcontent-%COMP%]{text-align:center;font-size:3rem}"],changeDetection:0});let i=t;return i})();function fd(i,e){if(i&1&&(f(0,"div",1)(1,"div",2),x(2,"auto-carousel",3),_()()),i&2){let t=y();p(2),C("slides",t.items)("itemComponent",t.itemComponent)("interval",2e3)("height","500px")("showControls",!0)}}var Qo=(()=>{var e,t,Zo;let r=class r{constructor(){u(this,t);u(this,e);this.gameLoader=null,this.items=null,this.itemComponent=qo,g(this,e,b(F))}ngOnInit(){w(this,t,Zo).call(this)}};e=new WeakMap,t=new WeakSet,Zo=function(){let s=a=>a.hasOwnSound;this.gameLoader=c(this,e).getItems(s).pipe(I(a=>this.items=a))},r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=D({type:r,selectors:[["ng-component"]],features:[K([F])],decls:2,vars:2,consts:[[3,"gameLoader"],[1,"theme"],[1,"theme__carousel"],[3,"slides","itemComponent","interval","height","showControls"]],template:function(a,l){a&1&&(f(0,"game-spinner-wrapper",0),P(1,fd,3,5,"div",1),_()),a&2&&(C("gameLoader",l.gameLoader),p(),L(l.items!=null&&l.items.length?1:-1))},dependencies:[ae,en],styles:[".theme[_ngcontent-%COMP%]{display:grid;width:100%;max-width:700px;height:100%;margin:auto}.theme__carousel[_ngcontent-%COMP%]{overflow:hidden;align-self:center}"],changeDetection:0});let i=r;return i})();var Yo={path:"theme_sounds",loadComponent:se,providers:[{provide:oe,useValue:[le,Qo]}]};var Xo={0:Z.PINK,1:Z.ORANGE,2:Z.GREEN};var Jo={0:"3 - 4",1:"4 - 5",2:"5 - 6"};var tn=class{constructor(e,t){this.id=e;let n=Jo[this.id];this.title=`${n} ${t[n]}`,this.color=Xo[this.id]}};var Ee=new Ne("AGES_CONFIG_TOKEN"),nn=new Ne("STEPS_TO_RESET_TOKEN");var es=(()=>{var e,Jn;let n=class n{constructor(){u(this,e)}static _getStyleProp(o){return`style.${o}`}ngOnInit(){w(this,e,Jn).call(this)}onMouseEnter(){this.color=this.borderColor=Z.WHITE,this.bgColor=this.age.color,this.boxShadow=`0 0 16px 3px ${Z.LIGHT_GREY}`}onMouseLeave(){w(this,e,Jn).call(this)}};e=new WeakSet,Jn=function(){this.color=this.borderColor=this.age.color,this.bgColor=Z.WHITE,this.boxShadow="none"},n.\u0275fac=function(s){return new(s||n)},n.\u0275dir=U({type:n,selectors:[["","ageItemColorize",""]],hostVars:8,hostBindings:function(s,a){s&1&&T("mouseenter",function(){return a.onMouseEnter()})("mouseleave",function(){return a.onMouseLeave()}),s&2&&pe("color",a.color)("border-color",a.borderColor)("background-color",a.bgColor)("box-shadow",a.boxShadow)},inputs:{age:[0,"ageItemColorize","age"]}});let i=n;return i})();function gd(i,e){if(i&1){let t=R();f(0,"div",3),T("click",function(){let r=M(t).$implicit,o=y(2);return O(o.chooseAge(r))}),re(1),_()}if(i&2){let t=e.$implicit;C("ageItemColorize",t),p(),we(" ",t.title," ")}}function _d(i,e){if(i&1&&(f(0,"div",0)(1,"div",1),re(2),ge(3,"capitalizeFirstLetter"),_(),B(4,gd,2,2,"div",2,be),_()),i&2){let t=e;p(2),we("",Ce(3,1,t.title),"?"),p(2),$(t.ages)}}var Oe=(()=>{let e=class e{constructor(n,r,o){this._agesConfig=n,this._stepsToReset=r,this._translationsService=o,this.content$=this._translationsService.loadTranslation("ages").pipe(z(s=>({title:s.title,ages:Array.from(this._agesConfig.keys()).map(a=>new tn(a,s))})))}ngOnInit(){Q.setAgesConfig(this._agesConfig),this._stepsToReset&&j.resetSteps(this._stepsToReset)}chooseAge(n){Q.setAgeId(n.id),j.updateStepInfo({title:n.title,style:{color:n.color}}),j.goToNext()}};e.\u0275fac=function(r){return new(r||e)(V(Ee),V(nn,8),V(Ae))},e.\u0275cmp=D({type:e,selectors:[["age-choice"]],decls:2,vars:3,consts:[[1,"ages-choice"],[1,"ages-choice__title"],[1,"ages-choice__age",3,"ageItemColorize"],[1,"ages-choice__age",3,"click","ageItemColorize"]],template:function(r,o){if(r&1&&(P(0,_d,6,3,"div",0),ge(1,"async")),r&2){let s;L((s=Ce(1,1,o.content$))?0:-1,s)}},dependencies:[Be,es,at],styles:[".ages-choice__title[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center;font-size:3rem;color:#70b}.ages-choice__age[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:2rem auto;padding:.5rem;text-align:center;font-size:2rem;font-weight:bolder;border:2px solid;border-radius:50%;cursor:pointer}"],changeDetection:0});let i=e;return i})();var G=class i{static shuffle(e){if(e.length<1)return console.warn("Empty array!"),e;let t=[...e];for(;!i.#e(e,t);)t.sort(()=>Math.random()-.5);return t}static getRandItems(e,t=e.length){if(t>e.length)throw new Error(`maxArrLength ${t} should be equal or less than items length ${e.length}`);let n=i.shuffle(e);return n.length=t,n}static getDoubledRandItems(e,t=e.length){let n=i.getRandItems(e,t);return i.shuffle([...n,...n])}static uniq(e){return Array.from(new Set(e))}static getSequence(e,t=0){let n=[];for(let r=t;r<e;r++)n.push(r);return n}static groupArrByLength(e,t){let n=new Map,r=0,o=0,s=0;for(;s<e.length;)o=r*t,s=o+t,n.set(r,e.slice(o,s)),r++;return n}static getRndInteger(e,t){return Math.floor(Math.random()*(t-e))+e}static getRndArrElem(e){return e[i.getRndInteger(0,e.length)]}static#e(e,t){for(let[n,r]of e.entries())if(r!==t[n])return!0;return!1}};var er="card--rotated";var Cd=["card"],ts=(()=>{var e,t;let n=class n{constructor(){u(this,e);u(this,t);this.cardRotate=new de,this.transitionEnd=new de,g(this,e,!1),g(this,t,b(he))}isOpen(){return c(this,e)}rotateForward(){g(this,e,!0),c(this,t).addClass(this.cardVCh.nativeElement,er)}rotateBack(){g(this,e,!1),c(this,t).removeClass(this.cardVCh.nativeElement,er)}onCardClick(){c(this,e)||this.cardRotate.emit(this)}onTransitionEnd(){this.transitionEnd.emit(this)}};e=new WeakMap,t=new WeakMap,n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=D({type:n,selectors:[["card"]],viewQuery:function(s,a){if(s&1&&te(Cd,7),s&2){let l;ie(l=ne())&&(a.cardVCh=l.first)}},inputs:{item:"item"},outputs:{cardRotate:"cardRotate",transitionEnd:"transitionEnd"},decls:7,vars:1,consts:[["card",""],[1,"card-container",3,"click"],[1,"card",3,"transitionend"],[1,"card__front"],[1,"card__back","radial-gradient--medium-grey"],[1,"card__img",3,"src"]],template:function(s,a){if(s&1){let l=R();f(0,"div",1),T("click",function(){return M(l),O(a.onCardClick())}),f(1,"div",2,0),T("transitionend",function(){return M(l),O(a.onTransitionEnd())}),f(3,"div",3),re(4,"?"),_(),f(5,"div",4),x(6,"img",5),_()()()}s&2&&(p(6),C("src",a.item.img,J))},styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#dbdbdb)}[_nghost-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center;transition:transform 1s;transform-style:preserve-3d}.card-container[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto;perspective:1000px}.card--rotated[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card__front[_ngcontent-%COMP%], .card__back[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center;position:absolute;backface-visibility:hidden;border-radius:8px}.card__front[_ngcontent-%COMP%]{background:radial-gradient(#7085dc,#5c74d7);color:#fff;font-family:Helvetica,sans-serif;font-size:4rem;cursor:pointer}.card__back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}"],changeDetection:0});let i=n;return i})();var $e=(()=>{let e=class e extends Ke{constructor(n,r,o,s){super(o,s),this._elementRef=n,this._renderer=r,this.rowsAmount=1,this.columnsAmount=1,this.itemSize=300,this.coeff=1}ngOnInit(){super.ngOnInit(),this._renderer.setStyle(this._elementRef.nativeElement,N.DISPLAY,"grid"),this._renderer.setStyle(this._elementRef.nativeElement,N.GRID_GAP,`0.5${W.REM}`),this._renderer.setStyle(this._elementRef.nativeElement,N.JUSTIFY_CONTENT,"center")}setGameSizes(){let n=Math.min(this.itemSize,ke.getGridContainerMinDimension()/Math.max(this.rowsAmount,this.columnsAmount)-12);this._renderer.setStyle(this._elementRef.nativeElement,N.GRID_TEMPLATE_COLUMNS,`repeat(${this.columnsAmount}, ${n}${W.PX})`),this._renderer.setStyle(this._elementRef.nativeElement,N.GRID_TEMPLATE_ROWS,`repeat(${this.rowsAmount}, ${n*this.coeff}${W.PX})`)}};e.\u0275fac=function(r){return new(r||e)(V(me),V(he),V(Pe),V(xe))},e.\u0275dir=U({type:e,selectors:[["","gridSizer",""]],inputs:{rowsAmount:"rowsAmount",columnsAmount:"columnsAmount",itemSize:"itemSize",coeff:"coeff"},features:[ee]});let i=e;return i})();function vd(i,e){if(i&1){let t=R();f(0,"card",3),T("cardRotate",function(r){M(t);let o=y();return O(o.card$.next(r))})("transitionEnd",function(r){M(t);let o=y();return O(o.onCardTransitionEnd(r))}),_()}if(i&2){let t=e.$implicit;C("item",t)}}var is=(()=>{var e,t,n,r,o,s,a,ns,rs,rn,os;let v=class v{constructor(){u(this,a);u(this,e);u(this,t);u(this,n);u(this,r);u(this,o);u(this,s);this.gameLoader=null,this.items=null,this.card$=new k,this.rowsAmount=Q.getAgesConfig().totalCards/2,g(this,e,new k),g(this,t,new k),g(this,n,new k),g(this,r,0),g(this,o,0),g(this,s,b(F))}ngOnInit(){w(this,a,ns).call(this)}ngOnDestroy(){c(this,n).next(),c(this,n).unsubscribe()}onCardTransitionEnd(E){E.isOpen()?c(this,e).next(E):c(this,t).next(E)}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakSet,ns=function(){this.gameLoader=c(this,s).getItems().pipe(I(E=>{this.items=G.getDoubledRandItems(E,Q.getAgesConfig().totalCards),g(this,o,0),w(this,a,rn).call(this),w(this,a,os).call(this)}),X(()=>De([F.preloadThemeItemsImgs(this.items),q.preloadThemeItemsTitleSounds(this.items)])))},rs=function(E){return ce(this,null,function*(){E[0].item.img===E[1].item.img?(w(this,a,rn).call(this),yield E[0].item.playTitle(),setTimeout(()=>{++zt(this,o)._===Q.getAgesConfig().totalCards&&j.gameCompleted()},100)):setTimeout(()=>{E.forEach(H=>H.rotateBack())},Q.getAgesConfig().openCardsShowTime)})},rn=function(){g(this,r,0)},os=function(){this.card$.pipe(ye(()=>++zt(this,r)._<=2),I(E=>E.rotateForward()),Ie(c(this,n))).subscribe(),c(this,e).pipe(ze(2),I(E=>w(this,a,rs).call(this,E)),Ie(c(this,n))).subscribe(),c(this,t).pipe(ze(2),I(()=>w(this,a,rn).call(this)),Ie(c(this,n))).subscribe()},v.\u0275fac=function(H){return new(H||v)},v.\u0275cmp=D({type:v,selectors:[["ng-component"]],features:[K([F])],decls:4,vars:3,consts:[[3,"gameLoader"],["gridSizer","",3,"rowsAmount","columnsAmount"],[3,"item"],[3,"cardRotate","transitionEnd","item"]],template:function(H,_e){H&1&&(f(0,"game-spinner-wrapper",0)(1,"div",1),B(2,vd,1,1,"card",2,be),_()()),H&2&&(C("gameLoader",_e.gameLoader),p(),C("rowsAmount",_e.rowsAmount)("columnsAmount",4),p(),$(_e.items))},dependencies:[ts,ae,$e],encapsulation:2,changeDetection:0});let i=v;return i})();var ss={path:"find_the_pair",loadComponent:se,providers:[{provide:oe,useValue:[Oe,le,is]},{provide:Ee,useValue:new Map([[0,{totalCards:4,openCardsShowTime:2e3}],[1,{totalCards:6,openCardsShowTime:1500}],[2,{totalCards:8,openCardsShowTime:1e3}]])}]};var on,li=class li{constructor(){u(this,on,b(Ze))}static getItemsToChoose(e){return li.itemsToChoose=G.getRandItems(e,8),li.itemsToChoose}static get bgUrl(){return`${Y.getGameThemeFolderById("who_disappeared")}bg.${Ve.PNG}`}getCoords(){let e=`${Y.getGameThemeFolderById("who_disappeared")}coords.${Ve.JSON}`;return this._fetchCoords(e)}_fetchCoords(e){return c(this,on).get(e)}};on=new WeakMap,li.itemsToChoose=null,li.items=null;var it=li;He([Ye()],it.prototype,"_fetchCoords",null);var as=(()=>{let e=class e extends it{constructor(){super(...arguments),this.gameIdForTranslation="who_disappeared"}buildItemsAfterHiding(){return e.items.splice(1)}getIdToFind(){return e.items=G.shuffle(e.items),e.items[0].id}getRandItems(){return e.items=G.getRandItems(e.itemsToChoose,Q.getAgesConfig().amount),e.items}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})(),e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})();var Dt=(()=>{let e=class e extends Ke{constructor(n,r,o,s){super(o,s),this._elementRef=n,this._renderer=r,this.img=null}setGameSizes(){this._renderer.removeStyle(this._elementRef.nativeElement,N.MAX_WIDTH);let n=this.img?.getBoundingClientRect().width;n&&this._renderer.setStyle(this._elementRef.nativeElement,N.MAX_WIDTH,`${n}${W.PX}`)}};e.\u0275fac=function(r){return new(r||e)(V(me),V(he),V(Pe),V(xe))},e.\u0275dir=U({type:e,selectors:[["","imgWrapper",""]],inputs:{img:"img"},features:[ee]});let i=e;return i})();var Je=function(i){return i.SHAKE_HORIZONTAL="shake-horizontal",i.SLIDE_IN_FWD_CENTER="slide-in-fwd-center",i.PULSATE_FWD="pulsate-fwd",i.ROTATE_IN_CENTER="rotate-in-center",i.ROTATE_OUT_CENTER="rotate-out-center",i.BOUNCE_IN_FWD="bounce-in-fwd",i}(Je||{});var yd=["imgs"],sn=(()=>{var e,t,n,cs,ls,ir,ds,ms;let d=class d{constructor(){u(this,n);u(this,e);u(this,t);this.bgUrl=it.bgUrl,this.percentage=W.PERCENTAGE,this.gameLoader=null,this.gameLoaded=!1,this.coords=null,this.items=null,this.itemsToChoose=null,this.time=0,this.showItemsBar=!1,this.question="",this.animationEnd$=new k,this.variant$=new k,g(this,e,""),g(this,t,new k),this._commonService=b(it),this._themeItemsService=b(F),this._translationsService=b(Ae),this._renderer=b(he)}ngOnInit(){ke.chosenGameId="who_disappeared",w(this,n,cs).call(this)}ngOnDestroy(){c(this,t).next(),c(this,t).unsubscribe()}onLoadGame(){this.gameLoaded=!0,requestAnimationFrame(()=>this.imgWrapperVCh.setGameSizes())}hideItems(){w(this,n,ir).call(this,Je.ROTATE_OUT_CENTER)}animateCorrectImg(m){this._renderer.setStyle(m,N.OPACITY,1),this._renderer.removeClass(m,Je.ROTATE_IN_CENTER),this._renderer.addClass(m,Je.PULSATE_FWD)}};e=new WeakMap,t=new WeakMap,n=new WeakSet,cs=function(){this.gameLoader=De({coords:this._commonService.getCoords(),items:this._themeItemsService.getItems(),bg:ct.getImage(this.bgUrl),question:this._translationsService.loadTranslation(`games/${this._commonService.gameIdForTranslation}`)}).pipe(I(m=>{this.itemsToChoose=it.getItemsToChoose(m.items),this.items=this._commonService.getRandItems(),this.coords=G.shuffle(m.coords),this.time=Q.getAgesConfig().time,this.question=m.question[Y.getChosenTheme().id]}),X(()=>F.preloadThemeItemsImgs(this.itemsToChoose))),this.animationEnd$.pipe(We(Q.getAgesConfig().amount),ze(Q.getAgesConfig().amount),I(()=>w(this,n,ls).call(this)),qe(400),I(()=>{w(this,n,ir).call(this,Je.ROTATE_IN_CENTER),w(this,n,ds).call(this)}),Ie(c(this,t))).subscribe()},ls=function(){g(this,e,this._commonService.getIdToFind()),this.imgsVCh.changes.pipe(We(1),I(()=>{this.imgsVCh.forEach(m=>{this._renderer.setStyle(m.nativeElement,N.OPACITY,0),this._renderer.removeClass(m.nativeElement,Je.ROTATE_OUT_CENTER)})}),Ie(c(this,t))).subscribe(),this.items=this._commonService.buildItemsAfterHiding(),this.coords=G.shuffle(this.coords)},ir=function(m){this.imgsVCh.forEach(v=>this._renderer.addClass(v.nativeElement,m))},ds=function(){this.showItemsBar=!0,this.variant$.pipe(I(m=>w(this,n,ms).call(this,m)),Ie(c(this,t))).subscribe()},ms=function(m){return ce(this,null,function*(){m.id===c(this,e)?(this.variant$.complete(),this.defineCorrectImg(m),yield q.playWinSound()):yield q.playErrorSound()})},d.\u0275fac=function(v){return new(v||d)},d.\u0275dir=U({type:d,viewQuery:function(v,S){if(v&1&&(te(yt,5),te($e,5),te(Dt,5),te(yd,5)),v&2){let E;ie(E=ne())&&(S.preloadImgVCh=E.first),ie(E=ne())&&(S.gridSizerVCh=E.first),ie(E=ne())&&(S.imgWrapperVCh=E.first),ie(E=ne())&&(S.imgsVCh=E)}},standalone:!1});let i=d;return i})();var Vt=(()=>{var e,t,n,hs;let o=class o{constructor(){u(this,n);u(this,e);u(this,t);this.time=0,this.timeIsOver=new de,this.width=100,g(this,e,null),g(this,t,b(Fe))}ngOnChanges(a){a.time.currentValue!==a.time.previousValue&&w(this,n,hs).call(this)}ngOnDestroy(){c(this,e)?.unsubscribe()}};e=new WeakMap,t=new WeakMap,n=new WeakSet,hs=function(){let l=this.time*1e3/20;g(this,e,Vi(20).pipe(We(l),I(d=>{this.width=100-(d+1)*100/l,c(this,t).detectChanges()}),ye(d=>d===l-1),I(()=>this.timeIsOver.emit(!0))).subscribe())},o.\u0275fac=function(l){return new(l||o)},o.\u0275cmp=D({type:o,selectors:[["progress-bar"]],inputs:{time:"time"},outputs:{timeIsOver:"timeIsOver"},features:[Qe],decls:2,vars:3,consts:[[1,"container",3,"isVisible"],[1,"container__inner"]],template:function(l,d){l&1&&(f(0,"div",0),x(1,"div",1),_()),l&2&&(C("isVisible",d.width>0),p(),pe("width",d.width+"%"))},dependencies:[St],styles:[".container[_ngcontent-%COMP%]{height:1rem;margin-top:.5rem;margin-bottom:.5rem;padding:.1rem;border-radius:.5rem;border:1px solid #cccccc}.container__inner[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:inherit;background-color:#00d36f}"],changeDetection:0});let i=o;return i})();var bd=(i,e)=>e.title;function wd(i,e){if(i&1&&(f(0,"header",0),re(1),ge(2,"capitalizeFirstLetter"),_()),i&2){let t=y();p(),we(" ",Ce(2,1,t.header)," ")}}function Sd(i,e){if(i&1&&(f(0,"figcaption",4),re(1),_()),i&2){let t=y().$implicit;C("ngStyle",t.titleStyle),p(),we(" ",t.title," ")}}function Id(i,e){if(i&1){let t=R();f(0,"figure",2)(1,"img",3),T("click",function(r){let o=M(t).$implicit,s=y(2);return O(s.onItemClick(r,o))}),_(),P(2,Sd,2,2,"figcaption",4),_()}if(i&2){let t=e.$implicit,n=y(2);p(),C("src",t.img,J)("ngStyle",t.imgStyle),p(),L(n.showTitle?2:-1)}}function Ed(i,e){if(i&1&&(f(0,"div",1),B(1,Id,3,3,"figure",2,bd),_()),i&2){let t=y();C("itemSize",100)("columnsAmount",t.items.length),p(),$(t.items)}}var lt=(()=>{let e=class e{constructor(){this.items=[],this.header="",this.showTitle=!1,this.itemClick=new de}onItemClick(n,r){n.stopPropagation(),this.itemClick.emit(r)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["theme-items-bar"]],inputs:{items:"items",header:"header",showTitle:"showTitle"},outputs:{itemClick:"itemClick"},decls:2,vars:2,consts:[[1,"header","text--center"],["gridSizer","",3,"itemSize","columnsAmount"],[1,"figure","d--flex","m--auto","h--100"],[1,"figure__img","d--block","m--auto","cursor--pointer",3,"click","src","ngStyle"],[1,"figure__title","text--center",3,"ngStyle"]],template:function(r,o){r&1&&P(0,wd,3,3,"header",0)(1,Ed,3,2,"div",1),r&2&&(L(o.header?0:-1),p(),L(o.items!=null&&o.items.length?1:-1))},dependencies:[Be,tt,$e],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#dbdbdb)}.header[_ngcontent-%COMP%]{font-size:2rem;font-style:italic}@media screen and (max-width: 567px){.header[_ngcontent-%COMP%]{font-size:1rem}}.figure[_ngcontent-%COMP%]{flex-direction:column}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.figure__title[_ngcontent-%COMP%]{font-size:1.25rem}@media screen and (max-width: 567px){.figure__title[_ngcontent-%COMP%]{font-size:1rem}}@media screen and (max-width: 480px){.figure__title[_ngcontent-%COMP%]{display:none}}"]});let i=e;return i})();var Dd=(i,e,t)=>({top:i,left:e,maxHeight:t});function Td(i,e){if(i&1){let t=R();f(0,"progress-bar",9),T("timeIsOver",function(){M(t);let r=y();return O(r.hideItems())}),_()}if(i&2){let t=y();C("time",t.time)}}function xd(i,e){if(i&1){let t=R();f(0,"img",10,1),T("animationend",function(){M(t);let r=y();return O(r.animationEnd$.next())}),_()}if(i&2){let t=e.$implicit,n=e.$index,r=y();C("src",t.img,J)("ngStyle",Ot(2,Dd,r.coords[n].top+"%",r.coords[n].left+"%","23%"))}}var ps=(()=>{let e=class e extends sn{constructor(){super()}defineCorrectImg(n){this.imgsVCh.changes.subscribe(()=>this.animateCorrectImg(this.imgsVCh.last.nativeElement)),this.items.push(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["ng-component"]],features:[K([F,{provide:it,useClass:as}]),ee],decls:9,vars:7,consts:[["bg",""],["imgs",""],[3,"loadGame","gameLoader"],[1,"container","h-max--100"],[3,"time"],["imgWrapper","",1,"items","h--100","p--relative","overflow--hidden",3,"img"],[1,"d--block","w-max--100","h-max--100",3,"src"],[1,"p--absolute",3,"src","ngStyle"],[3,"itemClick","isVisible","items","header"],[3,"timeIsOver","time"],[1,"p--absolute",3,"animationend","src","ngStyle"]],template:function(r,o){if(r&1){let s=R();f(0,"game-spinner-wrapper",2),T("loadGame",function(){return M(s),O(o.onLoadGame())}),f(1,"div",3),P(2,Td,1,1,"progress-bar",4),f(3,"figure",5),x(4,"img",6,0),B(6,xd,2,6,"img",7,be),_(),f(8,"theme-items-bar",8),T("itemClick",function(l){return M(s),O(o.variant$.next(l))}),_()()()}if(r&2){let s=Ge(5);C("gameLoader",o.gameLoader),p(2),L(o.gameLoaded?2:-1),p(),C("img",s),p(),C("src",o.bgUrl,J),p(2),$(o.items),p(2),C("isVisible",o.showItemsBar)("items",o.itemsToChoose)("header",o.question+"?")}},dependencies:[tt,ae,Vt,Dt,lt,St],styles:[".rotate-in-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-in-center .6s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_rotate-in-center{0%{transform:rotate(-360deg);opacity:0}to{transform:rotate(0);opacity:1}}.rotate-out-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-out-center .6s cubic-bezier(.55,.085,.68,.53) both}@keyframes _ngcontent-%COMP%_rotate-out-center{0%{transform:rotate(0);opacity:1}to{transform:rotate(-360deg);opacity:0}}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.container[_ngcontent-%COMP%]{display:grid;grid-template-rows:min-content 1fr min-content}.items[_ngcontent-%COMP%]{margin:0 auto}"],changeDetection:0});let i=e;return i})();var us={path:"who_disappeared",loadComponent:se,providers:[{provide:oe,useValue:[Oe,le,ps]},{provide:Ee,useValue:new Map([[0,{time:12,amount:4}],[1,{time:10,amount:6}],[2,{time:8,amount:8}]])}]};var fs=(()=>{var e;let t=class t extends it{constructor(){super(...arguments);u(this,e);this.gameIdForTranslation="who_appeared",g(this,e,null)}buildItemsAfterHiding(){return t.items.push(c(this,e)),G.shuffle(t.items)}getIdToFind(){return c(this,e).id}getRandItems(){return t.items=G.getRandItems(t.itemsToChoose,Q.getAgesConfig().amount+1),g(this,e,t.items.pop()),t.items}};e=new WeakMap,t.\u0275fac=(()=>{let o;return function(a){return(o||(o=Ue(t)))(a||t)}})(),t.\u0275prov=ue({token:t,factory:t.\u0275fac});let i=t;return i})();var Md=(i,e,t)=>({top:i,left:e,maxHeight:t});function Od(i,e){if(i&1){let t=R();f(0,"progress-bar",9),T("timeIsOver",function(){M(t);let r=y();return O(r.hideItems())}),_()}if(i&2){let t=y();C("time",t.time)}}function Ad(i,e){if(i&1){let t=R();f(0,"img",10,1),T("animationend",function(){M(t);let r=y();return O(r.animationEnd$.next())}),_()}if(i&2){let t=e.$implicit,n=e.$index,r=y();C("src",t.img,J)("ngStyle",Ot(2,Md,r.coords[n].top+"%",r.coords[n].left+"%","23%"))}}var gs=(()=>{let e=class e extends sn{constructor(){super()}defineCorrectImg(n){let r=this.items.findIndex(s=>s.id===n.id),o=this.imgsVCh.get(r).nativeElement;this.animateCorrectImg(o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["ng-component"]],features:[K([F,{provide:it,useClass:fs}]),ee],decls:9,vars:7,consts:[["bg",""],["imgs",""],[3,"loadGame","gameLoader"],[1,"container","h-max--100"],[3,"time"],["imgWrapper","",1,"items","h--100","p--relative","overflow--hidden",3,"img"],[1,"d--block","w-max--100","h-max--100",3,"src"],[1,"p--absolute",3,"src","ngStyle"],[3,"itemClick","isVisible","items","header"],[3,"timeIsOver","time"],[1,"p--absolute",3,"animationend","src","ngStyle"]],template:function(r,o){if(r&1){let s=R();f(0,"game-spinner-wrapper",2),T("loadGame",function(){return M(s),O(o.onLoadGame())}),f(1,"div",3),P(2,Od,1,1,"progress-bar",4),f(3,"figure",5),x(4,"img",6,0),B(6,Ad,2,6,"img",7,be),_(),f(8,"theme-items-bar",8),T("itemClick",function(l){return M(s),O(o.variant$.next(l))}),_()()()}if(r&2){let s=Ge(5);C("gameLoader",o.gameLoader),p(2),L(o.gameLoaded?2:-1),p(),C("img",s),p(),C("src",o.bgUrl,J),p(2),$(o.items),p(2),C("isVisible",o.showItemsBar)("items",o.itemsToChoose)("header",o.question+"?")}},dependencies:[tt,ae,Vt,Dt,lt,St],styles:[".rotate-in-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-in-center .6s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_rotate-in-center{0%{transform:rotate(-360deg);opacity:0}to{transform:rotate(0);opacity:1}}.rotate-out-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-out-center .6s cubic-bezier(.55,.085,.68,.53) both}@keyframes _ngcontent-%COMP%_rotate-out-center{0%{transform:rotate(0);opacity:1}to{transform:rotate(-360deg);opacity:0}}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.container[_ngcontent-%COMP%]{display:grid;grid-template-rows:min-content 1fr min-content}.items[_ngcontent-%COMP%]{margin:0 auto}"],changeDetection:0});let i=e;return i})();var _s={path:"who_appeared",loadComponent:se,providers:[{provide:oe,useValue:[Oe,le,gs]},{provide:Ee,useValue:new Map([[0,{time:12,amount:3}],[1,{time:10,amount:5}],[2,{time:8,amount:7}]])}]};var nr=(()=>{let e=class e{constructor(n,r){this._addStepsService=n,this._translationsService=r}getQuestions(){let n=`games/look_at_the_picture/${Y.getChosenTheme().id}/`+Y.getChosenSetSegment(this._addStepsService.chosenSetIndex);return this._translationsService.loadTranslation(n)}};e.\u0275fac=function(r){return new(r||e)(et(Me),et(Ae))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let i=e;return i})();var Nt=(()=>{var e,t;let n=class n{constructor(){u(this,e);u(this,t);this.isCorrect=null,this.isCorrectAnimationClass=Je.PULSATE_FWD,this.isNotCorrectAnimationClass=Je.SHAKE_HORIZONTAL,g(this,e,b(me)),g(this,t,b(he))}ngOnChanges(){this.isCorrect===null&&(c(this,t).removeClass(c(this,e).nativeElement,this.isCorrectAnimationClass),c(this,t).removeClass(c(this,e).nativeElement,this.isNotCorrectAnimationClass)),this.isCorrect===!0&&c(this,t).addClass(c(this,e).nativeElement,this.isCorrectAnimationClass),this.isCorrect===!1&&c(this,t).addClass(c(this,e).nativeElement,this.isNotCorrectAnimationClass)}};e=new WeakMap,t=new WeakMap,n.\u0275fac=function(s){return new(s||n)},n.\u0275dir=U({type:n,selectors:[["","isCorrect",""]],inputs:{isCorrect:"isCorrect",isCorrectAnimationClass:"isCorrectAnimationClass",isNotCorrectAnimationClass:"isNotCorrectAnimationClass"},features:[Qe]});let i=n;return i})();var an=(()=>{let e=class e{constructor(){this.fill="",this.colors=Z}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["blot"]],inputs:{fill:"fill"},decls:2,vars:3,consts:[[1,"blot"],["stroke-width","8","d","M740 882 c-34 -11 -65 -52 -105 -138 -42 -90 -80 -134 -115 -134 -20 0 -25 11 -46 88 -20 75 -40 109 -74 127 -34 18 -69 12 -99 -17 -29 -26 -22 -72 25 -155 43 -77 48 -100 29 -130 -21 -31 -48 -29 -88 7 -115 101 -250 89 -243 -21 4 -57 40 -86 116 -94 100 -12 115 -15 140 -34 17 -12 26 -29 28 -53 3 -29 -4 -44 -38 -83 -43 -50 -50 -88 -19 -108 22 -14 65 -1 90 26 47 51 52 56 60 51 5 -3 9 -30 9 -60 0 -50 2 -55 27 -65 22 -8 30 -6 50 13 21 20 23 28 18 70 -6 44 -5 48 14 48 14 0 25 -11 35 -35 18 -41 45 -46 76 -13 26 28 26 28 -10 73 -22 27 -27 42 -20 49 16 16 58 -12 95 -64 20 -28 45 -50 69 -59 34 -13 39 -13 64 6 19 14 28 31 30 56 4 48 -27 78 -106 100 -67 19 -92 40 -75 65 8 13 27 17 86 18 58 1 83 6 109 22 58 36 76 109 38 150 -26 28 -32 27 -104 -2 -44 -18 -65 -22 -78 -15 -25 14 -16 42 33 101 69 83 91 160 56 195 -14 14 -56 22 -77 15z",2,"transform","scale(0.1)"]],template:function(r,o){r&1&&(ot(),f(0,"svg",0),x(1,"path",1),_()),r&2&&(Le("viewBox","0 0 100 100"),p(),Le("fill",o.fill)("stroke",o.colors.LIGHT_GREY))},styles:[".blot[_ngcontent-%COMP%]{width:100%;max-width:100px}"],changeDetection:0});let i=e;return i})();var Pd=(i,e)=>e.index;function Rd(i,e){if(i&1&&(f(0,"div",4),re(1),_()),i&2){let t=y().$implicit;p(),we(" ",t.value," ")}}function Fd(i,e){if(i&1&&x(0,"blot",5),i&2){let t=y().$implicit;C("fill",t.value)}}function kd(i,e){if(i&1){let t=R();f(0,"li",3),T("click",function(){let r=M(t).$implicit,o=y();return O(o.variant$.next(r))}),P(1,Rd,2,1,"div",4)(2,Fd,1,1,"blot",5),_()}if(i&2){let t=e.$implicit,n=y();C("isCorrect",t.isCorrect),p(),L(n.isColor(t.value)?-1:1),p(),L(n.isColor(t.value)?2:-1)}}var Cs=(()=>{var e;let t=class t extends Xe{constructor(){super();u(this,e);this.data=null,this.colors=Z,this.variant$=new k,g(this,e,null)}ngOnInit(){super.onDataLoad(this.data),g(this,e,this.variant$.pipe(We(1),I(o=>ce(this,null,function*(){o.isCorrect=this.data.isAnswerCorrect(o),o.isCorrect?yield q.playRightSound():yield q.playErrorSound(),this.emitData(o.isCorrect)}))).subscribe())}ngOnDestroy(){c(this,e)?.unsubscribe()}isColor(o){return o.startsWith("#")||o.startsWith("rgb(")||o.startsWith("rgba(")}};e=new WeakMap,t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=D({type:t,selectors:[["ng-component"]],inputs:{data:"data"},features:[ee],decls:7,vars:3,consts:[[1,"text--center","slide-in-fwd-center"],[1,"text--center"],[1,"variant",3,"isCorrect"],[1,"variant",3,"click","isCorrect"],[1,"variant--text"],[3,"fill"]],template:function(s,a){s&1&&(f(0,"header")(1,"h1",0),re(2),ge(3,"capitalizeFirstLetter"),_()(),f(4,"ul",1),B(5,kd,3,3,"li",2,Pd),_()),s&2&&(p(2),we("",Ce(3,1,a.data.question),"?"),p(3),$(a.data.variants))},dependencies:[Be,Nt,an],styles:[".shake-horizontal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes _ngcontent-%COMP%_shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.slide-in-fwd-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-in-fwd-center .4s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_slide-in-fwd-center{0%{transform:translateZ(-1400px);opacity:0}to{transform:translateZ(0);opacity:1}}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.variant[_ngcontent-%COMP%]{display:inline-block;margin:1rem;cursor:pointer}.variant--text[_ngcontent-%COMP%]{padding:.75rem;font-size:2rem;font-style:italic;color:#333;border-radius:.25rem;border:1px solid #9e9e9e;text-align:center;background-color:#fff;transition:.1s}.variant--text[_ngcontent-%COMP%]:hover{box-shadow:0 1px #fff,0 2px #fff,0 3px #fff,0 4px 2px #fff,1px 0 #fff,2px 0 #fff,3px 0 #fff,4px 0 2px #fff,0 -1px #fff,0 -2px #fff,0 -3px #fff,0 -4px 2px #fff,-1px 0 #fff,-2px 0 #fff,-3px 0 #fff,-4px 0 2px #fff;transform:scale(1.1)}"],changeDetection:0});let i=t;return i})();var cn=class{#e;constructor(e){this.question="",this.variants=null,this.#e=null,this.question=e.question,this.#e=e.answer,this.variants=e.variants.map((t,n)=>({value:t,index:n,isCorrect:null}))}isAnswerCorrect(e){return e.index===this.#e}};function Vd(i,e){if(i&1&&(ot(),f(0,"svg",2),x(1,"path",3),_()),i&2){let t=e.$implicit,n=y();pe("transform",t?"":"rotate(180deg)"),C("ngClass",t===!0?n.animations.BOUNCE_IN_FWD:n.animations.SHAKE_HORIZONTAL),Le("viewBox","0 0 100 100"),p(),Le("fill",t===!0?n.colors.GREEN:n.colors.PINK)}}var ht=(()=>{let e=class e{constructor(){this.answers=[],this.colors=Z,this.animations=Je}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["answers-bar"]],inputs:{answers:"answers"},decls:3,vars:0,consts:[[1,"container"],[1,"thumb",3,"ngClass","transform"],[1,"thumb",3,"ngClass"],["d","M57.9,1.8c0.7,0,1.4,0,2.1,0c0.1,0.1,0.3,0.1,0.4,0.2c4,0.9,6.8,3.2,8.1,7.1c1.7,5,1.3,10-0.8,14.8  c-1.4,3.3-3.1,6.6-4.6,9.9c-0.7,1.6-1.1,3.3-0.9,5.1c0.2,1.1,0.2,1.1,1.3,1.1c6.8-0.2,13.5-0.3,20.3,0.2c1.7,0.1,3.4,0.1,4.9,1  c2.7,1.7,4.4,4.3,5.6,7.3c0.6,1.5,0.4,2.7-0.6,3.9c-0.5,0.6-0.9,1.2-1.3,1.8c-1,1.2-1.1,2.4-0.3,3.8c0.7,1.1,1.3,2.2,1.9,3.3  c0.9,1.6,0.9,2.4-0.3,3.9c-0.7,0.9-1.5,1.8-2.3,2.8c-0.8,0.9-1,1.9-0.6,3.1c0.5,1.4,1,2.7,1.5,4c0.6,1.5,0.4,2.8-0.6,4  c-1.1,1.3-2.3,2.4-3.5,3.7c-0.7,0.8-1.1,1.7-1.1,2.7c0,1,0.1,2,0,3c0,0.6-0.2,1.2-0.5,1.7c-1,1.8-2.4,3.1-4,4.3  c-1.5,1.2-3.1,2.2-5.1,2.4c-2.4,0.3-4.8,0.6-7.2,0.6c-5.8,0-11.6-0.3-17.4-0.5c-2.2-0.1-4.5-0.2-6.7-0.6c-6.4-1.1-12.8-2.4-19.2-3.5  c-0.7-0.1-0.8-0.4-0.8-1c0-12.5,0-25,0-37.5c0-0.3,0-0.6,0-0.9c0.4,0,0.7,0,1.1,0c1.7,0.2,3.2-0.5,4.3-1.6c1.3-1.3,2.5-2.7,3.5-4.1  c2.9-4.2,5.1-8.9,6.9-13.7c1.2-3.1,3.1-5.5,5.7-7.5c1.4-1.1,2.7-2.3,3.8-3.7c2.2-2.9,3.1-6.4,3.7-9.9c0.5-2.9,0.8-5.9,1-8.9  C56.5,2.8,56.9,2.1,57.9,1.8z M3.5,92.4c0.8,2.3,2.4,3.1,4.8,3.1c3.4-0.1,6.7,0,10.1,0c0.4,0,0.9,0,1.3-0.1c1.9-0.5,3-2,3-4.2  c0-6,0-12,0-18c0-5.8,0-11.5,0-17.3c0-2.8-1.6-4.4-4.4-4.4c-3.5,0-7,0-10.5,0c-1.4,0-2.7,0.4-3.6,1.6c-0.3,0.4-0.5,0.9-0.7,1.4  C3.5,67.1,3.5,79.7,3.5,92.4z"]],template:function(r,o){r&1&&(f(0,"div",0),B(1,Vd,2,5,":svg:svg",1,be),_()),r&2&&(p(),$(o.answers))},dependencies:[ji],styles:[".bounce-in-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce-in-fwd 1.1s both}@keyframes _ngcontent-%COMP%_bounce-in-fwd{0%{transform:scale(0);animation-timing-function:ease-in;opacity:0}38%{transform:scale(1);animation-timing-function:ease-out;opacity:1}55%{transform:scale(.7);animation-timing-function:ease-in}72%{transform:scale(1);animation-timing-function:ease-out}81%{transform:scale(.84);animation-timing-function:ease-in}89%{transform:scale(1);animation-timing-function:ease-out}95%{transform:scale(.95);animation-timing-function:ease-in}to{transform:scale(1);animation-timing-function:ease-out}}.shake-horizontal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes _ngcontent-%COMP%_shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.container[_ngcontent-%COMP%]{display:flex;height:100px;align-items:center;justify-content:center}.thumb[_ngcontent-%COMP%]{width:100%;max-width:100px;margin:0 1rem}"]});let i=e;return i})();var Nd=["variants"];function Ld(i,e){if(i&1){let t=R();f(0,"progress-bar",8),T("timeIsOver",function(){M(t);let r=y();return O(r.hidePicture())}),_()}if(i&2){let t=y();C("time",t.time)}}function Gd(i,e){if(i&1&&x(0,"img",5),i&2){let t=y();C("src",t.img,J)}}function Bd(i,e){if(i&1){let t=R();f(0,"div",6)(1,"carousel",9,0),T("emitDataFromItem",function(r){M(t);let o=y();return O(o.answer$.next(r))}),_()()}if(i&2){let t=y();p(),C("slides",t.questions)("height","auto")("blockManualSwiping",!0)("itemComponent",t.questionComponent)}}var vs=(()=>{var e,t,n,r,o,ys,bs;let l=class l{constructor(){u(this,o);u(this,e);u(this,t);u(this,n);u(this,r);this.questionComponent=Cs,this.gameLoader=null,this.gameLoaded=!1,this.items=null,this.img="",this.time=20,this.showPicture=!0,this.answers=[],this.answer$=new k,g(this,e,null),g(this,t,b(Fe)),g(this,n,b(nr)),g(this,r,b(F))}ngOnInit(){w(this,o,ys).call(this)}ngOnDestroy(){c(this,e)?.unsubscribe()}hidePicture(){this.showPicture=!1,c(this,t).detectChanges()}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakSet,ys=function(){this.gameLoader=De({items:c(this,r).getItems(),questions:c(this,n).getQuestions()}).pipe(X(h=>(this.img=h.items[0].img,h.questions)),z(h=>new cn(h)),fe(),I(h=>this.questions=h),X(()=>ct.getImage(this.img)),I(()=>w(this,o,bs).call(this)))},bs=function(){g(this,e,this.answer$.pipe(I(h=>{this.answers.push(h),this.variantsCarouselVCh.slideToRight(),c(this,t).detectChanges()}),ze(this.questions.length),I(h=>h.some(m=>!m)?j.gameFailed():j.gameCompleted())).subscribe())},l.\u0275fac=function(m){return new(m||l)},l.\u0275cmp=D({type:l,selectors:[["ng-component"]],viewQuery:function(m,v){if(m&1&&te(Nd,5),m&2){let S;ie(S=ne())&&(v.variantsCarouselVCh=S.first)}},features:[K([nr,F])],decls:7,vars:5,consts:[["variants",""],[3,"loadGame","gameLoader"],[1,"container"],[1,"w--100"],[3,"time"],[1,"picture",3,"src"],[1,"w--100","overflow-x--hidden"],[3,"answers"],[3,"timeIsOver","time"],[3,"emitDataFromItem","slides","height","blockManualSwiping","itemComponent"]],template:function(m,v){m&1&&(f(0,"game-spinner-wrapper",1),T("loadGame",function(){return v.gameLoaded=!0}),f(1,"div",2)(2,"div",3),P(3,Ld,1,1,"progress-bar",4),_(),P(4,Gd,1,1,"img",5)(5,Bd,3,4,"div",6),x(6,"answers-bar",7),_()()),m&2&&(C("gameLoader",v.gameLoader),p(3),L(v.gameLoaded?3:-1),p(),L(v.showPicture&&v.img?4:-1),p(),L(v.showPicture?-1:5),p(),C("answers",v.answers))},dependencies:[ae,Vt,je,ht],styles:[".container[_ngcontent-%COMP%]{display:grid;height:100%;grid-auto-rows:min-content 1fr min-content;place-items:center}.picture[_ngcontent-%COMP%]{display:block;width:100%;max-width:600px;margin:auto}"],changeDetection:0});let i=l;return i})();var $d=i=>({$implicit:i});function zd(i,e){i&1&&ft(0)}function Hd(i,e){if(i&1){let t=R();f(0,"span",3),T("click",function(){let r=M(t).$index,o=y(),s=y();return O(s.choosePicture(r,{title:o.stepInfoTitle,style:{color:s.colors.PINK}}))}),P(1,zd,1,0,"ng-container",4),_()}if(i&2){let t=e.$implicit;y();let n=Ge(8),r=y();p(),C("ngTemplateOutlet",r.customSetTmpl||n)("ngTemplateOutletContext",Ct(2,$d,t))}}function Ud(i,e){if(i&1&&x(0,"img",5),i&2){let t=e.$implicit;C("preloadImg",t.icon)}}function jd(i,e){if(i&1&&(f(0,"header")(1,"h1",1),re(2),ge(3,"capitalizeFirstLetter"),_()(),f(4,"div",2),B(5,Hd,2,4,"span",null,be),_(),P(7,Ud,1,1,"ng-template",null,0,vt)),i&2){let t=e;p(2),we("",Ce(3,1,t.title),":"),p(3),$(t.sets)}}var pt=(()=>{var e,t;let n=class n{constructor(){u(this,e);u(this,t);this.customSetTmpl=null,this.content$=null,this.colors=Z,this.title="",g(this,e,b(Me)),g(this,t,b(Ae))}ngOnInit(){this.content$=c(this,e).getAddItems().pipe(X(o=>o.length===1?(this.choosePicture(),Re(null)):c(this,t).loadTranslation("add_steps").pipe(z(s=>({sets:o,title:s.choose_picture,stepInfoTitle:s.to_choose_picture})))))}choosePicture(o=0,s=null){c(this,e).chosenSetIndex=o,j.updateStepInfo(s),j.goToNext()}};e=new WeakMap,t=new WeakMap,n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=D({type:n,selectors:[["pictures-choice"]],inputs:{customSetTmpl:"customSetTmpl"},decls:2,vars:3,consts:[["setTmpl",""],[1,"text--center"],[1,"pictures"],[3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d--block","w--100","cursor--pointer",3,"preloadImg"]],template:function(s,a){if(s&1&&(P(0,jd,9,3),ge(1,"async")),s&2){let l;L((l=Ce(1,1,a.content$))?0:-1,l)}},dependencies:[at,Pt,yt,Be],styles:[".pictures[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:3rem}"],changeDetection:0});let i=n;return i})();var ln=class{constructor(e){this.icon="",this.icon=`${Y.getCustomGameThemeFolder()}${e.id}/img/set_icon.${e.ext}`}};var dn,Lt=class Lt extends Me{constructor(){super(...arguments);u(this,dn,b(Ze))}getAddItems(){let t=`${Y.getCustomGameThemeFolder()}items_sets.${Ve.JSON}`;return this._fetchItemsSets(t).pipe(Se(),z(n=>new ln(n)),fe())}_fetchItemsSets(t){return c(this,dn).get(t)}};dn=new WeakMap,Lt.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ue(Lt)))(r||Lt)}})(),Lt.\u0275prov=ue({token:Lt,factory:Lt.\u0275fac});var mt=Lt;He([Ye()],mt.prototype,"_fetchItemsSets",null);var ws={path:"look_at_the_picture",loadComponent:se,providers:[{provide:oe,useValue:[le,pt,vs]},{provide:Me,useClass:mt}]};var Qt=class Qt extends Me{constructor(e){super(),this._http=e}getAddItems(){let e=`${ke.getGameFolder()}themes/${Y.getChosenTheme().id}.${Ve.JSON}`;return this._fetchPictures(e).pipe(jr(),ye(t=>Q.getAgeId()>=t.minAgeId),z(t=>t.paths),fe())}_fetchPictures(e){return this._http.get(e)}};Qt.\u0275fac=function(t){return new(t||Qt)(et(Ze))},Qt.\u0275prov=ue({token:Qt,factory:Qt.\u0275fac});var Gt=Qt;He([Ye()],Gt.prototype,"_fetchPictures",null);var Ss=(()=>{var e,t,Is;let r=class r{constructor(){u(this,t);u(this,e);this.cursor=null,g(this,e,b(fo))}ngOnChanges(){this.cursor=w(this,t,Is).call(this)}};e=new WeakMap,t=new WeakSet,Is=function(){let a=`"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='40px' height='40px' viewBox='0 0 40 40' enable-background='new 0 0 40 40' xml:space='preserve'%3E%3Cpath fill='%23${this.color.substring(1)}' stroke='%23383838' stroke-miterlimit='10' d='M9.662,13.208c1.955-1.163,3.54-3.893,2.158-6.067C10.304,4.758,6.036,6.84,4.871,4.544C4.358,3.535,5.509,2.26,4.998,1.25c-1.69,1.492-3.306,3.017-3.476,5.39C1.184,11.355,4.763,16.12,9.662,13.208z'/%3E%3Cpath fill='%23383838' stroke='%23383838' stroke-miterlimit='10' d='M19.665,28.435c-7.157-6.254-11.103-13.492-9.453-15.38s8.79,1.65,15.947,7.903s14.243,14.911,12.592,16.799S26.822,34.689,19.665,28.435z'/%3E%3C/svg%3E"`;return c(this,e).bypassSecurityTrustStyle(`url(${a}), pointer`)},r.\u0275fac=function(a){return new(a||r)},r.\u0275dir=U({type:r,selectors:[["","cursorBrush",""]],hostVars:2,hostBindings:function(a,l){a&2&&pe("cursor",l.cursor)},inputs:{color:[0,"cursorBrush","color"]},features:[Qe]});let i=r;return i})();function Wd(i,e){if(i&1){let t=R();f(0,"progress-bar",7),T("timeIsOver",function(){M(t);let r=y();return O(r.discolorPicture())}),_()}if(i&2){let t=y();C("time",t.time)}}function Kd(i,e){if(i&1){let t=R();ot(),f(0,"path",8),T("click",function(r){let o=M(t).$implicit,s=y();return O(s.applyColor(r,o))}),_()}if(i&2){let t=e.$implicit,n=y();Le("d",t.d)("fill",t.fill)("stroke",n.strokeColor)}}function qd(i,e){if(i&1){let t=R();f(0,"blot",10),T("click",function(r){let o=M(t).$implicit,s=y(2);return O(s.selectColor(r,o))}),_()}if(i&2){let t=e.$implicit;C("fill",t)}}function Qd(i,e){if(i&1&&(f(0,"div",6),B(1,qd,1,1,"blot",9,be),_()),i&2){let t=y();C("itemSize",100)("rowsAmount",1)("columnsAmount",t.blotsColors==null?null:t.blotsColors.length),p(),$(t.blotsColors)}}var Es=(()=>{var e,t,n,r,o,Ds,Ts;let l=class l{constructor(){u(this,o);u(this,e);u(this,t);u(this,n);u(this,r);this.gameLoader=null,this.gameLoaded=!1,this.picture=null,this.blotsColors=null,this.time=0,this.showBlotsBar=!1,this.selectedColor=Z.WHITE,this.strokeColor=Z.BLACK,g(this,e,null),g(this,t,b(Fe)),g(this,n,b(Gt)),g(this,r,b(Me))}ngOnInit(){w(this,o,Ds).call(this)}discolorPicture(){this.picture.forEach(h=>!h.static&&(h.fill=Z.WHITE)),this.showBlotsBar=!0,c(this,t).detectChanges()}selectColor(h,m){this.showBlotsBar&&(h.stopPropagation(),this.selectedColor=m,c(this,t).detectChanges())}applyColor(h,m){!this.showBlotsBar||m.static||(h.stopPropagation(),m.fill=this.selectedColor,w(this,o,Ts).call(this))}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakSet,Ds=function(){this.gameLoader=c(this,n).getAddItems().pipe(z(h=>h[c(this,r).chosenSetIndex]),I(h=>{g(this,e,h.map(m=>Te({},m))),this.picture=h.map(m=>Te({},m)),this.blotsColors=c(this,e).reduce((m,v)=>(v.static||v.fill===Z.WHITE||m.some(S=>S===v.fill)||m.push(v.fill),m),[]),this.time=Q.getAgesConfig()}))},Ts=function(){for(let h=0;h<c(this,e).length;h++)if(c(this,e)[h].fill!==this.picture[h].fill)return;j.gameCompleted()},l.\u0275fac=function(m){return new(m||l)},l.\u0275cmp=D({type:l,selectors:[["ng-component"]],features:[K([Gt])],decls:8,vars:5,consts:[[3,"loadGame","gameLoader"],[1,"container","h--100"],[3,"time"],[1,"brush-area","h--100","overflow--hidden",3,"cursorBrush"],[1,"h-max--100","m--auto"],["stroke-width","2"],["gridSizer","",3,"itemSize","rowsAmount","columnsAmount"],[3,"timeIsOver","time"],["stroke-width","2",3,"click"],[3,"fill"],[3,"click","fill"]],template:function(m,v){m&1&&(f(0,"game-spinner-wrapper",0),T("loadGame",function(){return v.gameLoaded=!0}),f(1,"div",1),P(2,Wd,1,1,"progress-bar",2),f(3,"div",3),ot(),f(4,"svg",4),B(5,Kd,1,3,":svg:path",5,be),_(),P(7,Qd,3,3,"div",6),_()()()),m&2&&(C("gameLoader",v.gameLoader),p(2),L(v.gameLoaded?2:-1),p(),C("cursorBrush",v.selectedColor),p(),Le("viewBox","0 0 400 400"),p(),$(v.picture),p(2),L(v.showBlotsBar?7:-1))},dependencies:[ae,Vt,Ss,an,$e],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:min-content 1fr min-content}.brush-area[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content}"],changeDetection:0});let i=l;return i})();function Zd(i,e){if(i&1&&(ot(),x(0,"path",3)),i&2){let t=e.$implicit,n=y(2);Le("d",t.d)("fill",n.colors.WHITE)("stroke",n.colors.BLACK)}}function Yd(i,e){if(i&1&&(ot(),f(0,"svg",2),B(1,Zd,1,3,":svg:path",3,be),_()),i&2){let t=e.$implicit;Le("viewBox","0 0 400 400"),p(),$(t)}}var xs=(()=>{let e=class e{constructor(){this.colors=Z}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["ng-component"]],decls:3,vars:1,consts:[["pictureTmpl",""],[3,"customSetTmpl"],[1,"cursor--pointer"],["stroke-width","1"]],template:function(r,o){if(r&1&&(x(0,"pictures-choice",1),P(1,Yd,3,1,"ng-template",null,0,vt)),r&2){let s=Ge(2);C("customSetTmpl",s)}},dependencies:[pt],encapsulation:2,changeDetection:0});let i=e;return i})();var Ms={path:"colorize_from_memory",loadComponent:se,providers:[{provide:Me,useClass:Gt},{provide:nn,useValue:[1,2,3]},{provide:Zi,useValue:!0},{provide:oe,useValue:[Oe,le,xs,Es]},{provide:Ee,useValue:new Map([[0,12],[1,10],[2,8]])}]};var Bt=class{constructor(e){this._coords=e,this.style=null,this.style={top:this._getCoord(this._coords.top),left:this._getCoord(this._coords.left),bottom:this._getCoord(this._coords.bottom),right:this._getCoord(this._coords.right)}}_getCoord(e){return`${e||0}${this._coords.unit}`}};var Os=16.666666666666668;var Ls=(()=>{class i{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,n){this._renderer=t,this._elementRef=n}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(n){return new(n||i)(V(he),V(me))};static \u0275dir=U({type:i})}return i})(),ar=(()=>{class i extends Ls{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Ue(i)))(r||i)}})();static \u0275dir=U({type:i,features:[ee]})}return i})(),_n=new Ne("");var Xd={provide:_n,useExisting:ti(()=>Gs),multi:!0};function Jd(){let i=Kn()?Kn().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var em=new Ne(""),Gs=(()=>{class i extends Ls{_compositionMode;_composing=!1;constructor(t,n,r){super(t,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Jd())}writeValue(t){let n=t??"";this.setProperty("value",n)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(n){return new(n||i)(V(he),V(me),V(em,8))};static \u0275dir=U({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&T("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[K([Xd]),ee]})}return i})();var tm=new Ne(""),im=new Ne("");function Bs(i){return i!=null}function $s(i){return ro(i)?dt(i):i}function zs(i){let e={};return i.forEach(t=>{e=t!=null?Te(Te({},e),t):e}),Object.keys(e).length===0?null:e}function Hs(i,e){return e.map(t=>t(i))}function nm(i){return!i.validate}function Us(i){return i.map(e=>nm(e)?e:t=>e.validate(t))}function rm(i){if(!i)return null;let e=i.filter(Bs);return e.length==0?null:function(t){return zs(Hs(t,e))}}function js(i){return i!=null?rm(Us(i)):null}function om(i){if(!i)return null;let e=i.filter(Bs);return e.length==0?null:function(t){let n=Hs(t,e).map($s);return De(n).pipe(z(zs))}}function Ws(i){return i!=null?om(Us(i)):null}function As(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function Ks(i){return i._rawValidators}function qs(i){return i._rawAsyncValidators}function rr(i){return i?Array.isArray(i)?i:[i]:[]}function hn(i,e){return Array.isArray(i)?i.includes(e):i===e}function Ps(i,e){let t=rr(e);return rr(i).forEach(r=>{hn(t,r)||t.push(r)}),t}function Rs(i,e){return rr(e).filter(t=>!hn(i,t))}var pn=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=js(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ws(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},or=class extends pn{name;get formDirective(){return null}get path(){return null}},Ei=class extends pn{_parent=null;name=null;valueAccessor=null},un=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},sm={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ob=rt(Te({},sm),{"[class.ng-submitted]":"isSubmitted"}),Qs=(()=>{class i extends un{constructor(t){super(t)}static \u0275fac=function(n){return new(n||i)(V(Ei,2))};static \u0275dir=U({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&st("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[ee]})}return i})(),Zs=(()=>{class i extends un{constructor(t){super(t)}static \u0275fac=function(n){return new(n||i)(V(or,10))};static \u0275dir=U({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&st("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[ee]})}return i})();var bi="VALID",mn="INVALID",di="PENDING",wi="DISABLED",hi=class{},fn=class extends hi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Si=class extends hi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Ii=class extends hi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},mi=class extends hi{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function am(i){return(Cn(i)?i.validators:i)||null}function cm(i){return Array.isArray(i)?js(i):i||null}function lm(i,e){return(Cn(e)?e.asyncValidators:i)||null}function dm(i){return Array.isArray(i)?Ws(i):i||null}function Cn(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}var sr=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return jt(this.statusReactive)}set status(e){jt(()=>this.statusReactive.set(e))}_status=Ui(()=>this.statusReactive());statusReactive=Mt(void 0);get valid(){return this.status===bi}get invalid(){return this.status===mn}get pending(){return this.status==di}get disabled(){return this.status===wi}get enabled(){return this.status!==wi}errors;get pristine(){return jt(this.pristineReactive)}set pristine(e){jt(()=>this.pristineReactive.set(e))}_pristine=Ui(()=>this.pristineReactive());pristineReactive=Mt(!0);get dirty(){return!this.pristine}get touched(){return jt(this.touchedReactive)}set touched(e){jt(()=>this.touchedReactive.set(e))}_touched=Ui(()=>this.touchedReactive());touchedReactive=Mt(!1);get untouched(){return!this.touched}_events=new k;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ps(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ps(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Rs(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Rs(e,this._rawAsyncValidators))}hasValidator(e){return hn(this._rawValidators,e)}hasAsyncValidator(e){return hn(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(rt(Te({},e),{sourceControl:n})),t&&e.emitEvent!==!1&&this._events.next(new Ii(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),t&&e.emitEvent!==!1&&this._events.next(new Ii(!1,n))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(rt(Te({},e),{sourceControl:n})),t&&e.emitEvent!==!1&&this._events.next(new Si(!1,n))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),t&&e.emitEvent!==!1&&this._events.next(new Si(!0,n))}markAsPending(e={}){this.status=di;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mi(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(rt(Te({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=wi,this.errors=null,this._forEachChild(r=>{r.disable(rt(Te({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fn(this.value,n)),this._events.next(new mi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(rt(Te({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=bi,this._forEachChild(n=>{n.enable(rt(Te({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(rt(Te({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bi||this.status===di)&&this._runAsyncValidator(n,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fn(this.value,t)),this._events.next(new mi(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(rt(Te({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wi:bi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=di,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let n=$s(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((n,r)=>n&&n._find(r),this)}getError(e,t){let n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new mi(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,n)}_initObservables(){this.valueChanges=new de,this.statusChanges=new de}_calculateStatus(){return this._allControlsDisabled()?wi:this.errors?mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(di)?di:this._anyControlsHaveStatus(mn)?mn:bi}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Si(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ii(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Cn(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=cm(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=dm(this._rawAsyncValidators)}};var Ys=new Ne("CallSetDisabledState",{providedIn:"root",factory:()=>cr}),cr="always";function mm(i,e,t=cr){pm(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),fm(i,e),_m(i,e),gm(i,e),hm(i,e)}function Fs(i,e,t=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),um(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function gn(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hm(i,e){if(e.valueAccessor.setDisabledState){let t=n=>{e.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}function pm(i,e){let t=Ks(i);e.validator!==null?i.setValidators(As(t,e.validator)):typeof t=="function"&&i.setValidators([t]);let n=qs(i);e.asyncValidator!==null?i.setAsyncValidators(As(n,e.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();gn(e._rawValidators,r),gn(e._rawAsyncValidators,r)}function um(i,e){let t=!1;if(i!==null){if(e.validator!==null){let r=Ks(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,i.setValidators(o))}}if(e.asyncValidator!==null){let r=qs(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,i.setAsyncValidators(o))}}}let n=()=>{};return gn(e._rawValidators,n),gn(e._rawAsyncValidators,n),t}function fm(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Xs(i,e)})}function gm(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Xs(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function Xs(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function _m(i,e){let t=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}function Cm(i,e){if(!i.hasOwnProperty("model"))return!1;let t=i.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function vm(i){return Object.getPrototypeOf(i.constructor)===ar}function ym(i,e){if(!e)return null;Array.isArray(e);let t,n,r;return e.forEach(o=>{o.constructor===Gs?t=o:vm(o)?n=o:r=o}),r||n||t||null}function ks(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function Vs(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Js=class extends sr{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,n){super(am(t),lm(n,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cn(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Vs(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ks(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ks(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Vs(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ea=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})();var ta=new Ne(""),bm={provide:Ei,useExisting:ti(()=>lr)},lr=(()=>{class i extends Ei{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new de;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,n,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=ym(this,r)}ngOnChanges(t){if(this._isControlChanged(t)){let n=t.form.previousValue;n&&Fs(n,this,!1),mm(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Cm(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Fs(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(n){return new(n||i)(V(tm,10),V(im,10),V(_n,10),V(ta,8),V(Ys,8))};static \u0275dir=U({type:i,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[K([bm]),ee,Qe]})}return i})();var wm={provide:_n,useExisting:ti(()=>vn),multi:!0};function ia(i,e){return i==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function Sm(i){return i.split(":")[0]}var vn=(()=>{class i extends ar{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let n=this._getOptionId(t),r=ia(n,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=n=>{this.value=this._getOptionValue(n),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),t))return n;return null}_getOptionValue(t){let n=Sm(t);return this._optionMap.has(n)?this._optionMap.get(n):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Ue(i)))(r||i)}})();static \u0275dir=U({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&T("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[K([wm]),ee]})}return i})(),na=(()=>{class i{_element;_renderer;_select;id;constructor(t,n,r){this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(ia(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(V(me),V(he),V(vn,9))};static \u0275dir=U({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})(),Im={provide:_n,useExisting:ti(()=>ra),multi:!0};function Ns(i,e){return i==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function Em(i){return i.split(":")[0]}var ra=(()=>{class i extends ar{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let n;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));n=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else n=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(t){this.onChange=n=>{let r=[],o=n.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],d=this._getOptionValue(l.value);r.push(d)}}else{let s=n.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let d=this._getOptionValue(l.value);r.push(d)}}}this.value=r,t(r)}}_registerOption(t){let n=(this._idCounter++).toString();return this._optionMap.set(n,t),n}_getOptionId(t){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,t))return n;return null}_getOptionValue(t){let n=Em(t);return this._optionMap.has(n)?this._optionMap.get(n)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Ue(i)))(r||i)}})();static \u0275dir=U({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&T("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[K([Im]),ee]})}return i})(),oa=(()=>{class i{_element;_renderer;_select;id;_value;constructor(t,n,r){this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Ns(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ns(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(V(me),V(he),V(ra,9))};static \u0275dir=U({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})();var Dm=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=_t({type:i});static \u0275inj=gt({})}return i})();var sa=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:ta,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ys,useValue:t.callSetDisabledState??cr}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=_t({type:i});static \u0275inj=gt({imports:[Dm]})}return i})();var aa=[{value:"how_much",color:Z.DARK_GREY,hidden:!0},{value:"1",color:Z.PINK},{value:"2",color:Z.ORANGE},{value:"3",color:Z.GREEN},{value:"4",color:Z.BLUE},{value:"5",color:Z.PURPLE}];var xm=(i,e)=>e.color;function Mm(i,e){if(i&1&&re(0),i&2){let t=y().$implicit;we(" ",t.value," ( ")}}function Om(i,e){i&1&&re(0," ) ")}function Am(i,e){if(i&1&&(f(0,"option",6),P(1,Mm,1,1),re(2),P(3,Om,1,0),_()),i&2){let t=e.$implicit;pe("color",t.color),C("ngValue",t),Le("hidden",t.hidden),p(),L(t.hidden?-1:1),p(),we(" ",t.text," "),p(),L(t.hidden?-1:3)}}function Pm(i,e){if(i&1&&(f(0,"figure",0),x(1,"img",1),f(2,"div",2),re(3,"="),_(),f(4,"form",3)(5,"select",4),B(6,Am,4,7,"option",5,xm),_()()()),i&2){let t=y();p(),C("src",t.data.img,J),p(4),pe("color",t.selection.value.color),C("formControl",t.selection),p(),$(e)}}var ca=(()=>{var e,t,n,la;let o=class o extends Xe{constructor(){super(...arguments);u(this,n);u(this,e);u(this,t);this.selection=null,this.selections$=null,g(this,e,null),g(this,t,b(Ae))}ngOnInit(){this.selections$=c(this,t).loadTranslation("games/count_how_much").pipe(X(l=>Re(aa).pipe(Se(),z(d=>rt(Te({},d),{text:l[d.value]})),fe())),I(l=>{this.selection=new Js(l[0]),w(this,n,la).call(this),this.onDataLoad(this.data)}))}ngOnDestroy(){c(this,e)?.unsubscribe()}};e=new WeakMap,t=new WeakMap,n=new WeakSet,la=function(){g(this,e,this.selection.valueChanges.pipe(We(1),I(l=>this.emitData({id:this.data.id,count:+l.value}))).subscribe())},o.\u0275fac=(()=>{let l;return function(h){return(l||(l=Ue(o)))(h||o)}})(),o.\u0275cmp=D({type:o,selectors:[["ng-component"]],inputs:{data:"data"},features:[ee],decls:2,vars:3,consts:[[1,"item-to-count"],[1,"item-to-find__img",3,"src"],[1,"item-to-count__equal"],[1,"d--i-block"],[1,"item-to-count__answer",3,"formControl"],[3,"ngValue","color"],[3,"ngValue"]],template:function(d,h){if(d&1&&(P(0,Pm,8,4,"figure",0),ge(1,"async")),d&2){let m;L((m=Ce(1,1,h.selections$))?0:-1,m)}},dependencies:[at,sa,ea,na,oa,vn,Qs,Zs,lr],styles:[".item-to-count[_ngcontent-%COMP%]{display:flex;width:100%;max-width:300px;margin:auto;align-items:center;justify-content:space-between}.item-to-count__img[_ngcontent-%COMP%]{max-height:100%}.item-to-count__equal[_ngcontent-%COMP%], .item-to-count__answer[_ngcontent-%COMP%]{padding:5px;font-size:2rem;cursor:pointer}.item-to-count__answer[_ngcontent-%COMP%]{border:3px solid #ff2480;appearance:none;border-radius:40px 5px/10px 20px}.item-to-count__answer[_ngcontent-%COMP%]:focus{border:3px solid #5c74d7;outline:none;box-shadow:0 0 10px 4px #ffffffbf}"],changeDetection:0});let i=o;return i})();var km=["itemsToCountCarousel"],Vm=(i,e)=>e.item==null?null:e.item.id;function Nm(i,e){if(i&1&&x(0,"img",7),i&2){let t=y().$implicit;C("src",t.item.img,J)("ngClass",t.animationClass)("ngStyle",t.coords.style)}}function Lm(i,e){if(i&1&&P(0,Nm,1,3,"img",7),i&2){let t=e.$implicit;L(t.item?0:-1)}}function Gm(i,e){if(i&1){let t=R();f(0,"div",5)(1,"carousel",8,0),T("emitDataFromItem",function(r){M(t);let o=y();return O(o.answer$.next(r))}),_()()}if(i&2){let t=y();p(),C("slides",t.itemsToCount)("height","auto")("blockManualSwiping",!0)("itemComponent",t.itemToCountComponent)}}var ha=(()=>{var e,t,n,r,pa,ua,fa,ga;let d=class d{constructor(){u(this,r);u(this,e);u(this,t);u(this,n);this.gameLoader=null,this.bg=null,this.itemsToFind=null,this.itemsToCount=null,this.answers=[],this.itemToCountComponent=ca,this.answer$=new k,g(this,e,new k),g(this,t,b(Fe)),g(this,n,b(F))}ngOnInit(){w(this,r,pa).call(this)}ngOnDestroy(){c(this,e).next(),c(this,e).unsubscribe()}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakSet,pa=function(){let[m,v]=Kr(c(this,n).getItems().pipe(Se()),S=>S.id==="bg");m.pipe(I(S=>this.bg=S),Ie(c(this,e))).subscribe(),this.gameLoader=v.pipe(fe(),I(S=>{this.itemsToCount=G.getRandItems(S,Q.getAgesConfig()),this.itemsToFind=w(this,r,fa).call(this,S),w(this,r,ga).call(this)}),X(S=>F.preloadThemeItemsImgs(S)))},ua=function(m){return m.reduce((v,S)=>{let E=G.getRndInteger(0,4);for(let H=0;H<5;H++)v.push(H<=E?S:null);return v},[])},fa=function(m){let v=G.getRandItems(w(this,r,ua).call(this,m)),S=0,E=0,H=0,_e=!0;return v.map((xt,Ri)=>{let $t=_e?7:8,Fi=_e?12.5/2+2:2;return E=12.5*(H%$t)+Fi,Ri>0&&H%$t===0&&(S+=Os),H>0&&H%($t-1)===0?(H=0,_e=!_e):H++,{item:xt,coords:new Bt({top:S,left:E,unit:W.PERCENTAGE}),animationClass:null}})},ga=function(){this.answer$.pipe(z(m=>{let v=this.itemsToFind.filter(S=>S.item?.id===m.id);return{itemsToFind:v,isCorrect:v.length===m.count}}),ve(m=>ce(this,null,function*(){return m.itemsToFind.forEach(v=>v.animationClass=m.isCorrect?Je.PULSATE_FWD:Je.SHAKE_HORIZONTAL),this.answers.push(m.isCorrect),c(this,t).markForCheck(),m.isCorrect?yield q.playRightSound():yield q.playErrorSound(),m.itemsToFind})),qe(1e3),I(m=>{m.forEach(v=>v.animationClass=null),this.itemsToCountCarouselVCh.slideToRight()}),ze(this.itemsToCount.length),I(()=>this.answers.some(m=>!m)?j.gameFailed():j.gameCompleted()),Ie(c(this,e))).subscribe()},d.\u0275fac=function(v){return new(v||d)},d.\u0275cmp=D({type:d,selectors:[["ng-component"]],viewQuery:function(v,S){if(v&1&&te(km,5),v&2){let E;ie(E=ne())&&(S.itemsToCountCarouselVCh=E.first)}},features:[K([F])],decls:8,vars:4,consts:[["itemsToCountCarousel",""],[3,"gameLoader"],[1,"container"],[1,"items"],[1,"d--block","w--100",3,"src"],[1,"overflow-x--hidden","w--100"],[3,"answers"],[1,"items__item",3,"src","ngClass","ngStyle"],[3,"emitDataFromItem","slides","height","blockManualSwiping","itemComponent"]],template:function(v,S){v&1&&(f(0,"game-spinner-wrapper",1)(1,"div",2)(2,"div",3),x(3,"img",4),B(4,Lm,1,1,null,null,Vm),_(),P(6,Gm,3,4,"div",5),x(7,"answers-bar",6),_()()),v&2&&(C("gameLoader",S.gameLoader),p(3),C("src",S.bg==null?null:S.bg.img,J),p(),$(S.itemsToFind),p(2),L(S.itemsToCount!=null&&S.itemsToCount.length?6:-1),p(),C("answers",S.answers))},dependencies:[ae,je,ji,tt,ht],styles:[".shake-horizontal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes _ngcontent-%COMP%_shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-rows:1fr min-content min-content;place-items:center}.items[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:auto;position:relative}.items__item[_ngcontent-%COMP%]{max-height:16.6666666667%;position:absolute}"],changeDetection:0});let i=d;return i})();var _a={path:"count_how_much",loadComponent:se,providers:[{provide:oe,useValue:[Oe,le,ha]},{provide:Ee,useValue:new Map([[1,6],[2,8]])}]};var yn=class{constructor(e){this.id="",this.img="",this.id=e.id,this.img=`${Y.getCustomGameThemeFolder()}img/${e.id}.${e.ext}`}};var Zt=class Zt{constructor(e){this._http=e}getAccordances(){let e=`${Y.getCustomGameThemeFolder()}accordances.${Ve.JSON}`;return this._fetchAccordances(e).pipe(Se(),z(t=>new yn(t)),fe())}_fetchAccordances(e){return this._http.get(e)}};Zt.\u0275fac=function(t){return new(t||Zt)(et(Ze))},Zt.\u0275prov=ue({token:Zt,factory:Zt.\u0275fac});var pi=Zt;He([Ye()],pi.prototype,"_fetchAccordances",null);var Ca=(()=>{let e=class e extends Xe{constructor(){super()}ngOnInit(){super.onDataLoad(this.data)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["item"]],inputs:{data:"data"},features:[ee],decls:2,vars:1,consts:[[1,"img","d--block","w-max--100","m--auto",3,"src"]],template:function(r,o){r&1&&(f(0,"figure"),x(1,"img",0),_()),r&2&&(p(),C("src",o.data.img,J))},styles:[".img[_ngcontent-%COMP%]{max-height:400px}"],changeDetection:0});let i=e;return i})();var Bm=["itemsCarousel"];function $m(i,e){if(i&1){let t=R();f(0,"carousel",7,0),T("transitionEnd",function(){M(t);let r=y();return O(r.unblock())}),_()}if(i&2){let t=y();C("slides",t.items)("blockManualSwiping",!0)("itemComponent",t.itemComponent)}}var va=(()=>{var e,t,n,r,o,ya,ba;let l=class l{constructor(){u(this,o);u(this,e);u(this,t);u(this,n);u(this,r);this.gameLoader=null,this.accordances=null,this.items=null,this.itemComponent=Ca,this.answers=[],this.accordance$=new k,g(this,e,!1),g(this,t,null),g(this,n,b(F)),g(this,r,b(pi))}ngOnInit(){w(this,o,ya).call(this)}ngOnDestroy(){c(this,t)?.unsubscribe()}unblock(){g(this,e,!1)}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakSet,ya=function(){this.gameLoader=c(this,r).getAccordances().pipe(I(h=>this.accordances=G.shuffle(h)),Se(),z(h=>h.id),fe(),ve(h=>c(this,n).getItems(m=>h.includes(m.id))),I(h=>this.items=G.shuffle(h)),X(()=>F.preloadThemeItemsImgs([].concat(this.accordances,this.items))),I(()=>w(this,o,ba).call(this)))},ba=function(){g(this,t,this.accordance$.pipe(ye(()=>!c(this,e)),I(()=>g(this,e,!0)),z(h=>h.id===this.itemsCarouselVCh.currentItem.id),ve(h=>ce(this,null,function*(){this.answers.push(h),h?yield q.playRightSound():yield q.playErrorSound(),this.itemsCarouselVCh.slideToRight()})),ze(this.items.length),I(()=>this.answers.some(h=>!h)?j.gameFailed():j.gameCompleted())).subscribe())},l.\u0275fac=function(m){return new(m||l)},l.\u0275cmp=D({type:l,selectors:[["ng-component"]],viewQuery:function(m,v){if(m&1&&te(Bm,5),m&2){let S;ie(S=ne())&&(v.itemsCarouselVCh=S.first)}},features:[K([F,pi])],decls:6,vars:5,consts:[["itemsCarousel",""],[3,"gameLoader"],[1,"container","h--100"],[1,"carousel-container","overflow--hidden"],[3,"slides","blockManualSwiping","itemComponent"],[3,"itemClick","isVisible","items"],[3,"answers"],[3,"transitionEnd","slides","blockManualSwiping","itemComponent"]],template:function(m,v){m&1&&(f(0,"game-spinner-wrapper",1)(1,"div",2)(2,"div",3),P(3,$m,2,3,"carousel",4),_(),f(4,"theme-items-bar",5),T("itemClick",function(E){return v.accordance$.next(E)}),_(),x(5,"answers-bar",6),_()()),m&2&&(C("gameLoader",v.gameLoader),p(3),L(v.items!=null&&v.items.length?3:-1),p(),C("isVisible",(v.accordances==null?null:v.accordances.length)>0)("items",v.accordances),p(),C("answers",v.answers))},dependencies:[ae,je,lt,ht,St],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content min-content}.carousel-container[_ngcontent-%COMP%]{align-self:center}"],changeDetection:0});let i=l;return i})();var wa={path:"find_accordance",loadComponent:se,providers:[{provide:oe,useValue:[le,va]}]};var dr=(()=>{var e,t;let n=class n{constructor(){u(this,e,b(me));u(this,t,b(he))}drawEllipse(o,s){let a=o.right-o.left,l=o.bottom-o.top,d=c(this,t).createElement("DIV");c(this,t).setStyle(d,N.POSITION,"absolute"),c(this,t).setStyle(d,N.WIDTH,`${100*a/s}${W.PERCENTAGE}`),c(this,t).setStyle(d,N.HEIGHT,`${100*l/s}${W.PERCENTAGE}`),c(this,t).setStyle(d,N.LEFT,`${100*o.left/s}${W.PERCENTAGE}`),c(this,t).setStyle(d,N.TOP,`${100*o.top/s}${W.PERCENTAGE}`),c(this,t).setStyle(d,N.BORDER,`3px solid ${Z.PINK}`),c(this,t).setStyle(d,N.BORDER_RADIUS,`50${W.PERCENTAGE}`),c(this,t).appendChild(c(this,e).nativeElement,d)}};e=new WeakMap,t=new WeakMap,n.\u0275fac=function(s){return new(s||n)},n.\u0275dir=U({type:n,selectors:[["","drawEllipse",""]]});let i=n;return i})();var bn,wn,Yt=class Yt{constructor(){u(this,bn,b(Ze));u(this,wn,b(Me))}getCoords(){let e=`${Y.getCustomGameThemeFolder()}${Y.getChosenSetSegment(c(this,wn).chosenSetIndex)}/coords.${Ve.JSON}`;return this._fetchCoords(e)}_fetchCoords(e){return c(this,bn).get(e)}};bn=new WeakMap,wn=new WeakMap,Yt.\u0275fac=function(t){return new(t||Yt)},Yt.\u0275prov=ue({token:Yt,factory:Yt.\u0275fac});var ui=Yt;He([Ye()],ui.prototype,"_fetchCoords",null);var zm=(i,e)=>e.id;function Hm(i,e){if(i&1){let t=R();f(0,"div",4)(1,"img",5),T("click",function(r){M(t);let o=y();return O(o.coords$.next(r))}),_()()}if(i&2){let t=e.$implicit,n=y();pe("max-width",n.maxImgWidth+n.px),p(),C("src",t.img,J)}}var Sa=(()=>{var e,t,n,r,o,s,Ia,Ea,mr,hr;let m=class m{constructor(){u(this,s);u(this,e);u(this,t);u(this,n);u(this,r);u(this,o);this.px=W.PX,this.gameLoader=null,this.items=null,this.maxImgWidth=400,this.coords$=new k,g(this,e,[]),g(this,t,0),g(this,n,null),g(this,r,b(ui)),g(this,o,b(F))}ngOnInit(){w(this,s,Ia).call(this)}ngOnDestroy(){c(this,n)?.unsubscribe()}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,s=new WeakSet,Ia=function(){this.gameLoader=De({items:c(this,o).getItems(),coords:c(this,r).getCoords()}).pipe(I(S=>{this.items=S.items,g(this,e,[...S.coords])}),I(()=>w(this,s,Ea).call(this)),X(()=>F.preloadThemeItemsImgs(this.items)))},Ea=function(){g(this,n,this.coords$.pipe(ye(()=>c(this,e).length>0),z(S=>{let E=S.target.getBoundingClientRect();return{x:S.clientX-E.left,y:S.clientY-E.top,rect:E}}),ve(S=>dt(c(this,e)).pipe(Zr(E=>S.x>=w(this,s,mr).call(this,E.left,S.rect)&&S.x<=w(this,s,mr).call(this,E.right,S.rect)&&S.y>=w(this,s,hr).call(this,E.top,S.rect)&&S.y<=w(this,s,hr).call(this,E.bottom,S.rect)),ve(E=>ce(this,null,function*(){E>-1?(this.drawEllipseD.forEach(H=>H.drawEllipse(c(this,e)[E],this.maxImgWidth)),c(this,e).splice(E,1),yield q.playRightSound()):++zt(this,t)._>2?j.gameFailed():yield q.playErrorSound()})),ye(()=>c(this,e).length===0),I(()=>j.gameCompleted())))).subscribe())},mr=function(S,E){return S*E.width/this.maxImgWidth},hr=function(S,E){return S*E.height/this.maxImgWidth},m.\u0275fac=function(E){return new(E||m)},m.\u0275cmp=D({type:m,selectors:[["ng-component"]],viewQuery:function(E,H){if(E&1&&te(dr,5),E&2){let _e;ie(_e=ne())&&(H.drawEllipseD=_e)}},features:[K([ui,F])],decls:5,vars:1,consts:[[3,"gameLoader"],[1,"container","h--100"],[1,"w--100","text--center"],["drawEllipse","",1,"d--i-block","w--100","p--relative","cursor--pointer",3,"maxWidth"],["drawEllipse","",1,"d--i-block","w--100","p--relative","cursor--pointer"],[1,"w--100",3,"click","src"]],template:function(E,H){E&1&&(f(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),B(3,Hm,2,3,"div",3,zm),_()()()),E&2&&(C("gameLoader",H.gameLoader),p(3),$(H.items))},dependencies:[ae,dr],styles:[".container[_ngcontent-%COMP%]{display:grid;place-items:center}"],changeDetection:0});let i=m;return i})();var Da={path:"find_differences",loadComponent:se,providers:[{provide:Me,useClass:mt},{provide:oe,useValue:[le,pt,Sa]}]};var Ta=(()=>{let e=class e extends Xe{constructor(){super()}ngOnInit(){super.onDataLoad(this.data)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=D({type:e,selectors:[["ng-component"]],inputs:{data:"data"},features:[ee],decls:2,vars:1,consts:[[1,"img","d--block","m--auto",3,"src"]],template:function(r,o){r&1&&(f(0,"figure"),x(1,"img",0),_()),r&2&&(p(),C("src",o.data.img,J))},styles:[".img[_ngcontent-%COMP%]{max-width:100%;max-height:400px}"],changeDetection:0});let i=e;return i})();function Um(i,e){if(i&1){let t=R();f(0,"carousel",6),T("transitionEnd",function(){M(t);let r=y();return O(r.unblock())}),_()}if(i&2){let t=y();C("slides",t.items)("blockManualSwiping",!0)("itemComponent",t.itemComponent)}}var xa=(()=>{var e,t,n,r,Ma,Oa,pr,Aa;let d=class d{constructor(){u(this,r);u(this,e);u(this,t);u(this,n);this.gameLoader=null,this.items=null,this.shadowedItems=null,this.itemComponent=Ta,this.item$=new k,g(this,e,!1),g(this,t,null),g(this,n,b(F))}ngOnInit(){w(this,r,Ma).call(this)}ngOnDestroy(){c(this,t)?.unsubscribe()}unblock(){g(this,e,!1)}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakSet,Ma=function(){this.gameLoader=De({items:c(this,n).getItems(),sounds:q.getAllBaseSounds()}).pipe(I(m=>{this.shadowedItems=G.getRandItems(m.items,Q.getAgesConfig()),this.items=G.getRandItems(this.shadowedItems),this.shadowedItems.forEach(v=>w(this,r,pr).call(this,v,0)),w(this,r,Oa).call(this)}),X(()=>De([F.preloadThemeItemsImgs(this.shadowedItems),q.preloadThemeItemsTitleSounds(this.shadowedItems)])))},Oa=function(){g(this,t,this.item$.pipe(ye(()=>!c(this,e)),I(m=>ce(this,null,function*(){g(this,e,!0),m.id===this.itemsCarouselVCh.currentItem.id?(w(this,r,pr).call(this,m,1),yield m.playTitle(),w(this,r,Aa).call(this)):(yield q.playErrorSound(),this.unblock())}))).subscribe())},pr=function(m,v){m.imgStyle={[N.FILTER]:`brightness(${v})`}},Aa=function(){this.itemsCarouselVCh.activeSlideIndex===this.items.length?j.gameCompleted():this.itemsCarouselVCh.slideToRight()},d.\u0275fac=function(v){return new(v||d)},d.\u0275cmp=D({type:d,selectors:[["ng-component"]],viewQuery:function(v,S){if(v&1&&te(je,5),v&2){let E;ie(E=ne())&&(S.itemsCarouselVCh=E.first)}},features:[K([F])],decls:6,vars:3,consts:[[3,"gameLoader"],[1,"container","h--100"],[1,"carousel-container","overflow--hidden"],[3,"slides","blockManualSwiping","itemComponent"],[1,"items-container"],[3,"itemClick","items"],[3,"transitionEnd","slides","blockManualSwiping","itemComponent"]],template:function(v,S){v&1&&(f(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),P(3,Um,1,3,"carousel",3),_(),f(4,"div",4)(5,"theme-items-bar",5),T("itemClick",function(H){return S.item$.next(H)}),_()()()()),v&2&&(C("gameLoader",S.gameLoader),p(3),L(S.items&&S.items.length?3:-1),p(2),C("items",S.shadowedItems))},dependencies:[ae,je,lt],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content}.carousel-container[_ngcontent-%COMP%]{align-self:center}"],changeDetection:0});let i=d;return i})();var Pa={path:"find_shadow",loadComponent:se,providers:[{provide:oe,useValue:[Oe,le,xa]},{provide:Ee,useValue:new Map([[0,4],[1,6],[2,8]])}]};var Ra=(()=>{var e,t,Sn;let r=class r extends Ke{constructor(a,l,d,h){super(d,h);u(this,t);u(this,e);this._elementRef=a,this._renderer=l,this.coeff=.5,g(this,e,null)}ngOnInit(){super.ngOnInit(),g(this,e,this._elementRef.nativeElement),this._renderer.setStyle(c(this,e),N.DISPLAY,"block"),this._renderer.setStyle(c(this,e),N.MARGIN,"auto")}ngOnChanges(a){a.coeff.firstChange||w(this,t,Sn).call(this)}setGameSizes(){requestAnimationFrame(()=>{let a=c(this,e).parentElement.getBoundingClientRect().height;this._renderer.setStyle(c(this,e),N.MAX_WIDTH,`${a}${W.PX}`),this._renderer.setStyle(c(this,e),N.MAX_HEIGHT,`${a}${W.PX}`),c(this,e).complete?w(this,t,Sn).call(this):c(this,e).onload=()=>w(this,t,Sn).call(this)})}};e=new WeakMap,t=new WeakSet,Sn=function(){let a=c(this,e).getBoundingClientRect().width;this._renderer.setStyle(c(this,e).parentElement,N.WIDTH,`${a*this.coeff}${W.PX}`)},r.\u0275fac=function(l){return new(l||r)(V(me),V(he),V(Pe),V(xe))},r.\u0275dir=U({type:r,selectors:[["","halfImg",""]],inputs:{coeff:[0,"halfImg","coeff"]},features:[ee,Qe]});let i=r;return i})();var jm=(i,e)=>e.item.id;function Wm(i,e){if(i&1){let t=R();f(0,"figure",4)(1,"div",5)(2,"img",6),T("click",function(){let r=M(t).$implicit,o=y();return O(o.item$.next(r))}),_()()()}if(i&2){let t=e.$implicit;st("border--dotted",!t.checked)("border-width--1",!t.checked)("border--solid",t.checked)("border-width--3",t.checked),Hi("id",t.item.id),p(),C("isCorrect",t.isCorrect),p(),pe("transform",t.shifted&&!t.found?"translateX(-50%)":"translateX(0)"),st("cursor--pointer",!t.found),C("src",t.item.img,J)("halfImg",t.found?1:.5)}}var Fa=(()=>{var e,t,n,r,ka,ur,Va;let l=class l{constructor(){u(this,r);u(this,e);u(this,t);u(this,n);this.gameLoader=null,this.items=null,this.rowsAmount=Q.getAgesConfig().amount/2,this.item$=new k,g(this,e,null),g(this,t,b(Fe)),g(this,n,b(F))}ngOnInit(){w(this,r,ka).call(this)}ngOnDestroy(){c(this,e)?.unsubscribe()}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakSet,ka=function(){this.gameLoader=c(this,n).getItems().pipe(X(h=>G.getRandItems(h,Q.getAgesConfig().amount)),z(h=>[{item:h,shifted:!0,angle:w(this,r,ur).call(this),checked:!1,found:!1},{item:h,shifted:!1,angle:w(this,r,ur).call(this),checked:!1,found:!1}]),Se(),fe(),I(h=>this.items=G.shuffle(h)),Se(),Et("item"),fe(),X(h=>De([F.preloadThemeItemsImgs(h),q.preloadThemeItemsTitleSounds(h)])),I(()=>w(this,r,Va).call(this)))},ur=function(){return Q.getAgesConfig().rotated?G.getRndInteger(0,360):0},Va=function(){g(this,e,this.item$.pipe(ye(h=>!h.found),I(h=>h.checked=!h.checked),ze(2),ye(h=>h[0].item.id!==h[1].item.id||h[0].item.id===h[1].item.id&&h[0].shifted!==h[1].shifted),ve(h=>ce(this,null,function*(){h[0].item.id===h[1].item.id?(h.forEach(m=>{m.found=!0,m.isCorrect=!0}),yield h[0].item.playTitle()):(h.forEach(m=>m.isCorrect=!1),yield q.playErrorSound()),h.forEach(m=>{m.checked=!1,m.isCorrect=null}),c(this,t).markForCheck()})),ye(()=>!this.items.some(h=>!h.found)),qe(100),I(()=>j.gameCompleted())).subscribe())},l.\u0275fac=function(m){return new(m||l)},l.\u0275cmp=D({type:l,selectors:[["ng-component"]],features:[K([F])],decls:5,vars:3,consts:[[3,"gameLoader"],[1,"container","h--100"],["gridSizer","",3,"rowsAmount","columnsAmount"],[1,"figure","d--flex","curve-border","border--orange","radial-gradient--soft-grey",3,"id","border--dotted","border-width--1","border--solid","border-width--3"],[1,"figure","d--flex","curve-border","border--orange","radial-gradient--soft-grey",3,"id"],[1,"item","d--flex","m--auto","p--relative","overflow--hidden",3,"isCorrect"],[3,"click","src","halfImg"]],template:function(m,v){m&1&&(f(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),B(3,Wm,3,16,"figure",3,jm),_()()()),m&2&&(C("gameLoader",v.gameLoader),p(2),C("rowsAmount",v.rowsAmount)("columnsAmount",4),p(),$(v.items))},dependencies:[ae,$e,Nt,Ra],styles:[".curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#dbdbdb)}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.shake-horizontal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes _ngcontent-%COMP%_shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.container[_ngcontent-%COMP%]{display:grid;place-items:center}.item[_ngcontent-%COMP%]{width:80%;height:80%}"],changeDetection:0});let i=l;return i})();var Na={path:"find_the_half",loadComponent:se,providers:[{provide:oe,useValue:[Oe,le,Fa]},{provide:Ee,useValue:new Map([[0,{amount:4,rotated:!1}],[1,{amount:6,rotated:!1}],[2,{amount:8,rotated:!0}]])}]};var La=(()=>{var e,t;let n=class n{constructor(){u(this,e);u(this,t);this.isActive=!1,this.borderStyle="solid",this.borderWidth=`1${W.PX}`,g(this,e,b(me)),g(this,t,b(he))}ngOnChanges(){c(this,t).setStyle(c(this,e).nativeElement,N.BORDER_STYLE,this.isActive?"solid":this.borderStyle),c(this,t).setStyle(c(this,e).nativeElement,N.BORDER_WIDTH,this.isActive?`2${W.PX}`:this.borderWidth)}};e=new WeakMap,t=new WeakMap,n.\u0275fac=function(s){return new(s||n)},n.\u0275dir=U({type:n,selectors:[["","isActiveCell",""]],inputs:{isActive:[0,"isActiveCell","isActive"],borderStyle:"borderStyle",borderWidth:"borderWidth"},features:[Qe]});let i=n;return i})();function Km(i,e){if(i&1){let t=R();f(0,"figure",2),T("click",function(){let r=M(t).$implicit,o=y();return O(o.img$.next(r))}),x(1,"img",3),_()}if(i&2){let t=e.$implicit;C("isActiveCell",t.isActive)("borderStyle","dotted"),p(),C("src",t.item.img,J)("isCorrect",t.isCorrect)}}var Ga=(()=>{var e,t,Ba;let r=class r extends Xe{constructor(){super(...arguments);u(this,t);u(this,e);this.data=null,this.rowsAmount=Q.getAgesConfig().rowsAmount,this.columnsAmount=Q.getAgesConfig().columnsAmount,this.items=null,this.img$=new k,g(this,e,null)}ngOnInit(){this.items=this.data.map(a=>({item:a,isActive:!1,isCorrect:null})),this.onDataLoad(this.data),w(this,t,Ba).call(this)}ngOnDestroy(){c(this,e)?.unsubscribe()}};e=new WeakMap,t=new WeakSet,Ba=function(){g(this,e,this.img$.pipe(I(a=>a.isActive=!a.isActive),ze(2),ye(a=>a.every(l=>l.isActive)),ve(a=>ce(this,null,function*(){let l=a[0].item.img===a[1].item.img;a.forEach(d=>d.isCorrect=l),l?yield q.playRightSound():yield q.playErrorSound(),this.emitData(l)}))).subscribe())},r.\u0275fac=(()=>{let a;return function(d){return(a||(a=Ue(r)))(d||r)}})(),r.\u0275cmp=D({type:r,selectors:[["ng-component"]],inputs:{data:"data"},features:[ee],decls:3,vars:2,consts:[["gridSizer","",3,"rowsAmount","columnsAmount"],[1,"figure","curve-border","border--blue","radial-gradient--soft-grey","cursor--pointer",3,"isActiveCell","borderStyle"],[1,"figure","curve-border","border--blue","radial-gradient--soft-grey","cursor--pointer",3,"click","isActiveCell","borderStyle"],[1,"figure__img",3,"src","isCorrect"]],template:function(l,d){l&1&&(f(0,"div",0),B(1,Km,2,4,"figure",1,be),_()),l&2&&(C("rowsAmount",d.rowsAmount)("columnsAmount",d.columnsAmount),p(),$(d.items))},dependencies:[La,Nt,$e],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.shake-horizontal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes _ngcontent-%COMP%_shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}"],changeDetection:0});let i=r;return i})();var $a=(()=>{let e=class e{constructor(n){this._elementRef=n}ngAfterViewInit(){ke.gridContainer=this._elementRef.nativeElement}ngOnDestroy(){ke.gridContainer=null}};e.\u0275fac=function(r){return new(r||e)(V(me))},e.\u0275dir=U({type:e,selectors:[["","gridContainer",""]]});let i=e;return i})();function qm(i,e){if(i&1){let t=R();f(0,"carousel",5),T("emitDataFromItem",function(r){M(t);let o=y();return O(o.answer$.next(r))}),_()}if(i&2){let t=y();C("slides",t.items)("height","100%")("blockManualSwiping",!0)("itemComponent",t.itemComponent)}}var Ha=(()=>{var e,t,n,Ua,ja;let s=class s{constructor(){u(this,n);u(this,e);u(this,t);this.gameLoader=null,this.imgs=null,this.items=null,this.answers=[],this.itemComponent=Ga,this.answer$=new k,g(this,e,null),g(this,t,b(F))}ngOnInit(){w(this,n,Ua).call(this)}ngOnDestroy(){c(this,e)?.unsubscribe()}};e=new WeakMap,t=new WeakMap,n=new WeakSet,Ua=function(){this.gameLoader=c(this,t).getItems().pipe(ve(l=>Li(1,5).pipe(z(()=>{let d=G.getRandItems(l,Q.getAgesConfig().amount);return d.push(G.getRndArrElem(d)),G.shuffle(d)}))),fe(),I(l=>{this.items=l,w(this,n,ja).call(this)}),Se(),X(l=>F.preloadThemeItemsImgs(l)))},ja=function(){g(this,e,this.answer$.pipe(I(l=>{this.answers.push(l),this.itemsCarouselVCh.slideToRight()}),ze(5),I(l=>{l.some(d=>!d)?j.gameFailed():j.gameCompleted()})).subscribe())},s.\u0275fac=function(d){return new(d||s)},s.\u0275cmp=D({type:s,selectors:[["ng-component"]],viewQuery:function(d,h){if(d&1&&te(je,5),d&2){let m;ie(m=ne())&&(h.itemsCarouselVCh=m.first)}},features:[K([F])],decls:5,vars:3,consts:[[3,"gameLoader"],[1,"container"],["gridContainer","",1,"w--100","h--100","overflow-x--hidden"],[3,"slides","height","blockManualSwiping","itemComponent"],[3,"answers"],[3,"emitDataFromItem","slides","height","blockManualSwiping","itemComponent"]],template:function(d,h){d&1&&(f(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),P(3,qm,1,4,"carousel",3),_(),x(4,"answers-bar",4),_()()),d&2&&(C("gameLoader",h.gameLoader),p(3),L(h.items!=null&&h.items.length?3:-1),p(),C("answers",h.answers))},dependencies:[ae,$a,je,ht],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-rows:1fr min-content;place-items:center}"],changeDetection:0});let i=s;return i})();var Wa={path:"find_the_same",loadComponent:se,providers:[{provide:oe,useValue:[Oe,le,pt,Ha]},{provide:Me,useClass:mt},{provide:Ee,useValue:new Map([[0,{amount:3,rowsAmount:2,columnsAmount:2}],[1,{amount:5,rowsAmount:2,columnsAmount:3}],[2,{amount:8,rowsAmount:3,columnsAmount:3}]])}]};var Qm=(i,e)=>e.word,Zm=(i,e)=>e.letter;function Ym(i,e){if(i&1){let t=R();f(0,"td",6),T("click",function(){let r=M(t).$implicit,o=y().$implicit,s=y();return O(s.letter$.next({letter:r,word:o}))}),re(1),_()}if(i&2){let t=e.$implicit,n=y().$implicit,r=y();pe("opacity",n.completed&&!t.checked?.5:1)("color",t.checked?r.colors.BLUE:r.colors.DARK_GREY),p(),we(" ",t.letter," ")}}function Xm(i,e){if(i&1&&(f(0,"tr",3),B(1,Ym,2,5,"td",5,Zm),_()),i&2){let t=e.$implicit;p(),$(t.word)}}var qa=(()=>{var e,t,n,r,Qa,Za,Ya,Xa;let d=class d{constructor(){u(this,r);u(this,e);u(this,t);u(this,n);this.gameLoader=null,this.items=null,this.matrix=null,this.colors=Z,this.letter$=new k,g(this,e,null),g(this,t,b(F)),g(this,n,b(Ae))}ngOnInit(){w(this,r,Qa).call(this)}ngOnDestroy(){c(this,e)?.unsubscribe()}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakSet,Qa=function(){this.gameLoader=c(this,t).getItems().pipe(Se(),ye(m=>m.title.length<=12&&m.title.split(" ").length===1),fe(),I(m=>this.items=G.getRandItems(m,8)),X(()=>w(this,r,Za).call(this,this.items)),I(()=>w(this,r,Xa).call(this)),X(()=>De([q.preloadThemeItemsTitleSounds(this.items),F.preloadThemeItemsImgs(this.items)])))},Za=function(m){return c(this,n).loadTranslation("games/find_words_in_table").pipe(X(v=>dt(G.shuffle(m)).pipe(Et("title"),z(S=>S.toUpperCase()),X(S=>{let E=[S];for(let H=0;H<12-S.length;H++)E.push(G.getRndArrElem(w(this,r,Ya).call(this,S,v)));return dt(G.shuffle(E).join("")).pipe(z(H=>({letter:H,checked:!1})),fe())}),z(S=>({word:S,completed:!1})),fe(),I(S=>this.matrix=S))))},Ya=function(m,v){let S=[];for(let E=v.first_letter.charCodeAt(0);E<=v.last_letter.charCodeAt(0);E++)`${v.forbidden_letters}${m[0]}${m.slice(-1)}`.includes(String.fromCharCode(E))||S.push(String.fromCharCode(E));return S},Xa=function(){g(this,e,this.letter$.pipe(ye(m=>!m.word.completed),z(m=>(m.letter.checked=!m.letter.checked,m.word)),ve(m=>dt(m.word).pipe(ye(v=>v.checked),Et("letter"),qr((v,S)=>v+S,""),z(v=>this.items.find(S=>S.title.toLowerCase()===v.toLowerCase())),ye(Boolean),I(()=>m.completed=!0))),I(m=>m.titleStyle={[N.OPACITY]:.5,[N.TEXT_DECORATION]:"line-through"}),ve(m=>ce(this,null,function*(){return yield m.playTitle()})),ye(()=>!this.matrix.some(m=>!m.completed)),qe(200),I(()=>j.gameCompleted())).subscribe())},d.\u0275fac=function(v){return new(v||d)},d.\u0275cmp=D({type:d,selectors:[["ng-component"]],features:[K([F])],decls:7,vars:3,consts:[[3,"gameLoader"],[1,"container"],[1,"table"],[1,"table__row"],[3,"items","showTitle"],["align","center",1,"table__cell","radial-gradient--soft-grey",3,"opacity","color"],["align","center",1,"table__cell","radial-gradient--soft-grey",3,"click"]],template:function(v,S){v&1&&(f(0,"game-spinner-wrapper",0)(1,"div",1)(2,"table",2)(3,"tbody"),B(4,Xm,3,0,"tr",3,Qm),_()(),x(6,"theme-items-bar",4),_()()),v&2&&(C("gameLoader",S.gameLoader),p(4),$(S.matrix),p(2),C("items",S.items)("showTitle",!0))},dependencies:[ae,lt],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#dbdbdb)}.container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:1fr min-content}.table[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:auto;border-spacing:.5rem}.table__cell[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #9e9e9e;border-radius:5px;font-size:2rem;cursor:pointer}.table__cell[_ngcontent-%COMP%]:hover{font-weight:700}@media screen and (max-width: 1024px){.table__cell[_ngcontent-%COMP%]{font-size:1.5rem}}@media screen and (max-width: 767px){.table__cell[_ngcontent-%COMP%]{padding:0;font-size:1rem}}"],changeDetection:0});let i=d;return i})();var Ja={path:"find_words_in_table",loadComponent:se,providers:[{provide:oe,useValue:[le,qa]}]};var In=class{constructor(e,t=!1){this.id=e,this.found=t,this.img=Y.getItemCustomImg(e)}};function Jm(i,e){if(i&1&&x(0,"img",6),i&2){let t=e.$implicit;st("semi-transparent",t.found),C("src",t.img,J)}}var ec=(()=>{var e,t,n,r,tc,ic;let a=class a{constructor(){u(this,r);u(this,e);u(this,t);u(this,n);this.gameLoader=null,this.items=null,this.contourItems=null,this.item$=new k,g(this,e,0),g(this,t,null),g(this,n,b(F))}ngOnInit(){w(this,r,tc).call(this)}ngOnDestroy(){c(this,t)?.unsubscribe()}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakSet,tc=function(){let d=Q.getAgesConfig();this.gameLoader=c(this,n).getItems().pipe(I(h=>this.items=G.getRandItems(h,d*2)),ve(()=>dt(this.items).pipe(We(d),z(h=>new In(h.id)),fe())),I(h=>{this.contourItems=h,this.items=G.shuffle(this.items),w(this,r,ic).call(this)}),ve(()=>F.preloadThemeItemsImgs([].concat(this.items,this.contourItems))))},ic=function(){g(this,t,this.item$.pipe(ve(d=>dt(this.contourItems).pipe(Qr(h=>h.id===d.id),I(h=>ce(this,null,function*(){if(h&&!h.found){h.found=!0;let m=this.items.find(v=>v.id===h.id);m.titleStyle={[N.OPACITY]:.5,[N.TEXT_DECORATION]:"line-through"},yield m.playTitle(),this.contourItems.every(v=>v.found)&&j.gameCompleted()}else++zt(this,e)._<3?yield q.playErrorSound():j.gameFailed()}))))).subscribe())},a.\u0275fac=function(h){return new(h||a)},a.\u0275cmp=D({type:a,selectors:[["ng-component"]],features:[K([F])],decls:7,vars:2,consts:[[3,"gameLoader"],[1,"container","h--100"],[1,"h--100"],[1,"p--relative","h--100"],[1,"p--absolute","w--100","h--100",3,"src","semi-transparent"],[3,"itemClick","items"],[1,"p--absolute","w--100","h--100",3,"src"]],template:function(h,m){h&1&&(f(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2)(3,"div",3),B(4,Jm,1,3,"img",4,be),_()(),f(6,"theme-items-bar",5),T("itemClick",function(S){return m.item$.next(S)}),_()()()),h&2&&(C("gameLoader",m.gameLoader),p(4),$(m.contourItems),p(2),C("items",m.items))},dependencies:[ae,lt],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content}.semi-transparent[_ngcontent-%COMP%]{opacity:.15}"],changeDetection:0});let i=a;return i})();var nc={path:"noised_pictures",loadComponent:se,providers:[{provide:oe,useValue:[Oe,le,ec]},{provide:Ee,useValue:new Map([[0,2],[1,3],[2,4]])}]};var gr=(()=>{var e,t,n,r,fr;let s=class s extends Ke{constructor(d,h,m,v){super(m,v);u(this,r);u(this,e);u(this,t);u(this,n);this._elementRef=d,this._renderer=h,this.y=0,this.cellClick=new de,g(this,e,Q.getAgesConfig()),g(this,t,-G.getRndInteger(0,c(this,e))),g(this,n,0)}onCellClick(){let d=c(this,t)-1;g(this,t,d===-c(this,e)?0:d),w(this,r,fr).call(this),this.cellClick.emit()}setGameSizes(){requestAnimationFrame(()=>{let d=this._elementRef.nativeElement.parentElement.getBoundingClientRect();g(this,n,d.width/c(this,e)),this._renderer.setStyle(this._elementRef.nativeElement,N.WIDTH,`${c(this,n)}${W.PX}`),this._renderer.setStyle(this._elementRef.nativeElement,N.HEIGHT,`${d.height/c(this,e)}${W.PX}`),this._renderer.setStyle(this._elementRef.nativeElement,N.BACKGROUND_SIZE,`${d.width}${W.PX}`),w(this,r,fr).call(this)})}isCorrect(d){return Math.abs(c(this,t))===(d+c(this,e))%c(this,e)}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakSet,fr=function(){this._renderer.setStyle(this._elementRef.nativeElement,N.BACKGROUND_POSITION,`${c(this,t)*c(this,n)}${W.PX} ${-this.y*c(this,n)}${W.PX}`)},s.\u0275fac=function(h){return new(h||s)(V(me),V(he),V(Pe),V(xe))},s.\u0275dir=U({type:s,selectors:[["","cellSizer",""]],hostBindings:function(h,m){h&1&&T("click",function(){return m.onCellClick()})},inputs:{y:"y"},outputs:{cellClick:"cellClick"},features:[ee]});let i=s;return i})();var rc=(()=>{let e=class e extends Ke{constructor(n,r,o,s){super(o,s),this._elementRef=n,this._renderer=r,this.size=300}setGameSizes(){let n=Math.min(this.size,ke.getGridContainerMinDimension()-16);this._renderer.setStyle(this._elementRef.nativeElement,N.WIDTH,`${n}${W.PX}`),this._renderer.setStyle(this._elementRef.nativeElement,N.HEIGHT,`${n}${W.PX}`)}};e.\u0275fac=function(r){return new(r||e)(V(me),V(he),V(Pe),V(xe))},e.\u0275dir=U({type:e,selectors:[["","squireSizer",""]],inputs:{size:[0,"squireSizer","size"]},features:[ee]});let i=e;return i})();function eh(i,e){if(i&1){let t=R();f(0,"span",7),T("cellClick",function(){M(t);let r=y(3);return O(r.onCellClick())}),_()}if(i&2){let t=e.$implicit,n=y(3);pe("background-image","url("+n.img+")"),C("y",t)}}function th(i,e){if(i&1&&B(0,eh,1,3,"span",6,be),i&2){let t=y(2);$(t.yPositions)}}function ih(i,e){if(i&1&&(f(0,"div",4),P(1,th,2,0),_()),i&2){let t=y();C("squireSizer",t.imgSize),p(),L(t.img?1:-1)}}function nh(i,e){i&1&&ft(0)}function rh(i,e){if(i&1&&P(0,nh,1,0,"ng-container",5),i&2){y();let t=Ge(7);C("ngTemplateOutlet",t)}}function oh(i,e){i&1&&ft(0)}function sh(i,e){if(i&1&&x(0,"div",4),i&2){let t=y(2);pe("background-image","url("+t.img+")"),C("squireSizer",t.imgSize)}}function ah(i,e){if(i&1&&P(0,sh,1,3,"div",8),i&2){let t=y();L(t.img?0:-1)}}var oc=(()=>{var e,t,sc;let r=class r{constructor(){u(this,t);u(this,e);this.gameLoader=null,this.items=null,this.img=null,this.imgSize=500,this.isFinished=!1,this.yPositions=[],g(this,e,b(F))}ngOnInit(){w(this,t,sc).call(this)}onCellClick(){return ce(this,null,function*(){this.isFinished=!this.cellsD.toArray().some((s,a)=>!s.isCorrect(a)),this.isFinished&&(yield q.playWinSound())})}};e=new WeakMap,t=new WeakSet,sc=function(){this.gameLoader=c(this,e).getItems().pipe(z(s=>(this.items=s,this.img=s[0].img,Q.getAgesConfig())),I(s=>{let a=0;for(let l=0;l<Math.pow(s,2);l++)this.yPositions.push(a),(l+1)%s===0&&a++}),ve(()=>F.preloadThemeItemsImgs([this.items[0]])))},r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=D({type:r,selectors:[["ng-component"]],viewQuery:function(a,l){if(a&1&&te(gr,5),a&2){let d;ie(d=ne())&&(l.cellsD=d)}},features:[K([F])],decls:8,vars:4,consts:[["imgTmpl",""],[3,"gameLoader"],[1,"h--100"],[1,"h--100","text--center"],[1,"img","d--i-block",3,"squireSizer"],[4,"ngTemplateOutlet"],["cellSizer","",1,"cell","d--i-block","cursor--pointer",3,"y","backgroundImage"],["cellSizer","",1,"cell","d--i-block","cursor--pointer",3,"cellClick","y"],[1,"img","d--i-block",3,"backgroundImage","squireSizer"]],template:function(a,l){if(a&1&&(f(0,"game-spinner-wrapper",1)(1,"div",2)(2,"div",3),P(3,ih,2,2,"div",4)(4,rh,1,1,"ng-container")(5,oh,1,0,"ng-container",5)(6,ah,1,1,"ng-template",null,0,vt),_()()()),a&2){let d=Ge(7);C("gameLoader",l.gameLoader),p(3),L(l.isFinished?-1:3),p(),L(l.isFinished?4:-1),p(),C("ngTemplateOutlet",d)}},dependencies:[ae,rc,gr,Pt],styles:[".img[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:contain;vertical-align:bottom;margin:0 .5rem}@media screen and (max-width: 1024px){.img[_ngcontent-%COMP%]{margin:.5rem 0}}.cell[_ngcontent-%COMP%]{vertical-align:bottom;outline:#333333 solid 2px}"],changeDetection:0});let i=r;return i})();var ac={path:"puzzle",loadComponent:se,providers:[{provide:oe,useValue:[Oe,le,pt,oc]},{provide:Me,useClass:mt},{provide:Ee,useValue:new Map([[0,3],[1,4],[2,5]])}]};var Cr=(()=>{var e,t,n,r,o,_r;let a=class a{constructor(){u(this,o);u(this,e);u(this,t);u(this,n);u(this,r);this.rotated=new de,this.angle=G.getRndInteger(0,2)*180,g(this,e,!1),g(this,t,!1),g(this,n,b(me)),g(this,r,b(he))}ngOnInit(){w(this,o,_r).call(this)}onClick(){c(this,e)||c(this,t)||(g(this,e,!0),this.rotate(),this.rotated.emit())}onTransitionend(){g(this,e,!1)}rotate(){this.angle+=180,w(this,o,_r).call(this)}finish(){g(this,t,!0)}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakSet,_r=function(){let d=c(this,n).nativeElement;c(this,r).setStyle(d,N.TRANSFORM,`rotate(${this.angle}${W.DEG})`),c(this,r).setStyle(d,N.TRANSITION,"transform 0.5s ease-in-out")},a.\u0275fac=function(h){return new(h||a)},a.\u0275dir=U({type:a,selectors:[["","itemRotate",""]],hostBindings:function(h,m){h&1&&T("click",function(){return m.onClick()})("transitionend",function(){return m.onTransitionend()})},outputs:{rotated:"rotated"}});let i=a;return i})();function ch(i,e){if(i&1){let t=R();f(0,"figure",2)(1,"img",3),T("rotated",function(){let r=M(t).$index,o=y();return O(o.onRotate$.next(r))}),_()()}if(i&2){let t=e.$implicit;p(),C("src",t.img,J)}}var cc=(()=>{var e,t,n,lc,dc,mc,vr,hc,pc,yr,Di;let v=class v{constructor(){u(this,n);u(this,e);u(this,t);this.gameLoader=null,this.items=null,this.onRotate$=new k,this.rowsAmount=4,this.columnsAmount=4,g(this,e,null),g(this,t,b(F))}ngOnInit(){w(this,n,lc).call(this)}ngOnDestroy(){c(this,e)?.unsubscribe()}};e=new WeakMap,t=new WeakMap,n=new WeakSet,lc=function(){this.gameLoader=c(this,t).getItems().pipe(I(E=>{this.items=G.shuffle(E);let H=this.rowsAmount*this.columnsAmount;if(this.items.length<H)for(;this.items.length<H;){let _e=G.getRndInteger(0,this.items.length);this.items.push(this.items[_e])}else this.items.length=H;w(this,n,dc).call(this)}),X(()=>F.preloadThemeItemsImgs(this.items)))},dc=function(){let E=H=>H.angle%360>0;g(this,e,this.onRotate$.pipe(I(H=>w(this,n,mc).call(this,H)),ye(()=>!this.itemsD.some(E)),I(()=>this.itemsD.forEach(H=>H.finish())),qe(1e3),I(()=>j.gameCompleted())).subscribe())},mc=function(E){Q.getAgeId()===1&&(w(this,n,vr).call(this,E),w(this,n,yr).call(this,E)),Q.getAgeId()===2&&(w(this,n,pc).call(this,E),w(this,n,vr).call(this,E),w(this,n,yr).call(this,E),w(this,n,hc).call(this,E))},vr=function(E){(E+1)%this.columnsAmount!==0&&w(this,n,Di).call(this,E+1)},hc=function(E){E%this.columnsAmount!==0&&w(this,n,Di).call(this,E-1)},pc=function(E){w(this,n,Di).call(this,E-this.columnsAmount)},yr=function(E){w(this,n,Di).call(this,E+this.columnsAmount)},Di=function(E){this.itemsD.find((H,_e)=>_e===E)?.rotate()},v.\u0275fac=function(H){return new(H||v)},v.\u0275cmp=D({type:v,selectors:[["ng-component"]],viewQuery:function(H,_e){if(H&1&&te(Cr,5),H&2){let xt;ie(xt=ne())&&(_e.itemsD=xt)}},features:[K([F])],decls:4,vars:3,consts:[[3,"gameLoader"],["gridSizer","",3,"rowsAmount","columnsAmount"],[1,"figure","curve-border","border-width--1","border--dashed","border--purple","radial-gradient--soft-grey"],["itemRotate","",1,"figure__img","cursor--pointer",3,"rotated","src"]],template:function(H,_e){H&1&&(f(0,"game-spinner-wrapper",0)(1,"div",1),B(2,ch,2,1,"figure",2,be),_()()),H&2&&(C("gameLoader",_e.gameLoader),p(),C("rowsAmount",_e.rowsAmount)("columnsAmount",_e.columnsAmount),p(),$(_e.items))},dependencies:[ae,$e,Cr],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}"],changeDetection:0});let i=v;return i})();var uc={path:"rotate_item",loadComponent:se,providers:[{provide:oe,useValue:[Oe,le,cc]},{provide:Ee,useValue:new Map([[0,null],[1,null],[2,null]])}]};var br=(()=>{var e,t;let n=class n{constructor(o,s,a){u(this,e);u(this,t);this._elementRef=o,this._renderer=s,this._document=a,this.dragArea=null,this.propsToRestore=[],this.elFromPoint=new de,g(this,t,new Map)}ngAfterViewInit(){g(this,e,this._elementRef.nativeElement);let o=ei(c(this,e),Wi.MOUSEDOWN),s=ei(this.dragArea,Wi.MOUSEMOVE),a=ei(this.dragArea,Wi.MOUSEUP);o.pipe(z(l=>{l.preventDefault(),this._renderer.setStyle(this.dragArea,N.POSITION,"relative"),this.propsToRestore.forEach(S=>c(this,t).set(S,c(this,e).style[S]));let d=c(this,e).getBoundingClientRect(),h=this.dragArea.getBoundingClientRect();this._renderer.setStyle(c(this,e),N.WIDTH,`${d.width}${W.PX}`),this._renderer.setStyle(c(this,e),N.HEIGHT,`${d.height}${W.PX}`),this._renderer.setStyle(c(this,e),N.POSITION,"absolute"),this._renderer.setStyle(c(this,e),N.Z_INDEX,100);let m=l.clientX-d.left+h.left,v=l.clientY-d.top+h.top;return this._renderer.setStyle(c(this,e),N.LEFT,`${l.pageX-m}${W.PX}`),this._renderer.setStyle(c(this,e),N.TOP,`${l.pageY-v}${W.PX}`),{x:m,y:v}}),ve(l=>s.pipe(z(d=>{d.preventDefault(),this._renderer.setStyle(c(this,e),N.LEFT,`${d.pageX-l.x}${W.PX}`),this._renderer.setStyle(c(this,e),N.TOP,`${d.pageY-l.y}${W.PX}`)}),Ie(a),ve(()=>a.pipe(We(1),I(d=>{let h=c(this,e).style.display;this._renderer.setStyle(c(this,e),N.DISPLAY,"none"),this.elFromPoint.emit(this._document.elementFromPoint(d.clientX,d.clientY)),this._renderer.setStyle(c(this,e),N.DISPLAY,h)})))))).subscribe()}backEl(){this._renderer.removeStyle(c(this,e),N.POSITION),this._renderer.removeStyle(c(this,e),N.TOP),this._renderer.removeStyle(c(this,e),N.LEFT);for(let[o,s]of c(this,t).entries())this._renderer.setStyle(c(this,e),o,s)}destroyEl(){c(this,e).remove()}};e=new WeakMap,t=new WeakMap,n.\u0275fac=function(s){return new(s||n)(V(me),V(he),V(xe))},n.\u0275dir=U({type:n,selectors:[["","drag",""]],inputs:{dragArea:"dragArea",propsToRestore:"propsToRestore"},outputs:{elFromPoint:"elFromPoint"}});let i=n;return i})();var Xt=class Xt{constructor(e){this._http=e}getCoords(){let e=`${Y.getCustomGameThemeFolder()}coords.${Ve.JSON}`;return this._fetchCoords(e)}_fetchCoords(e){return this._http.get(e)}};Xt.\u0275fac=function(t){return new(t||Xt)(et(Ze))},Xt.\u0275prov=ue({token:Xt,factory:Xt.\u0275fac});var fi=Xt;He([Ye()],fi.prototype,"_fetchCoords",null);var fc=(()=>{let e=class e extends Ke{constructor(n,r,o,s){super(o,s),this._elementRef=n,this._renderer=r}setGameSizes(){let n=Math.min(400,ke.getMinDimension()/2-20);this._renderer.setStyle(this._elementRef.nativeElement,N.WIDTH,`${n}${W.PX}`),this._renderer.setStyle(this._elementRef.nativeElement,N.HEIGHT,`${n*1.25}${W.PX}`)}};e.\u0275fac=function(r){return new(r||e)(V(me),V(he),V(Pe),V(xe))},e.\u0275dir=U({type:e,selectors:[["","areaBgSizer",""]],features:[ee]});let i=e;return i})();var wr=(i,e)=>e.id,lh=(i,e)=>[i,e];function dh(i,e){if(i&1&&x(0,"img",8),i&2){let t=e.$implicit,n=e.$index,r=y().$implicit;C("src",t.img,J)("ngStyle",r.coords[n].style)}}function mh(i,e){if(i&1&&(f(0,"div",4),x(1,"img",7),B(2,dh,1,2,"img",8,wr),_()),i&2){let t=e.$implicit;p(),Hi("id",t.id),C("src",t.img,J),p(),$(t.items)}}function hh(i,e){if(i&1){let t=R();f(0,"figure",6)(1,"img",9),T("elFromPoint",function(r){let o=M(t).$index,s=y();return O(s.checkItem(r,o))}),_()()}if(i&2){let t=e.$implicit,n=y(),r=Ge(2);p(),C("src",t.img,J)("dragArea",r)("propsToRestore",lo(3,lh,n.styleProps.WIDTH,n.styleProps.HEIGHT))}}var gc=(()=>{var e,t,n,_c;let o=class o{constructor(){u(this,n);u(this,e);u(this,t);this.gameLoader=null,this.items=null,this.areas=null,this.styleProps=N,this.itemsAmount=Q.getAgesConfig(),g(this,e,b(F)),g(this,t,b(fi))}ngOnInit(){w(this,n,_c).call(this)}checkItem(a,l){return ce(this,null,function*(){let d=this.dragD.toArray()[l];this.items[l].theme.id===a.getAttribute("id")?(this.areas.find(m=>m.id===a.getAttribute("id")).items.push(this.items[l]),d.destroyEl(),yield q.playRightSound(),this.areas.every(m=>m.items.length===this.items.length/2)&&j.gameCompleted()):(d.backEl(),yield q.playErrorSound())})}};e=new WeakMap,t=new WeakMap,n=new WeakSet,_c=function(){this.gameLoader=De({items:c(this,e).getItems(),coords:c(this,t).getCoords()}).pipe(X(a=>(this.areas=Object.keys(a.coords).map(l=>({id:l,img:`${Y.getCustomGameThemeFolder()}${l}.${Ve.SVG}`,items:[],coords:a.coords[l].map(d=>new Bt(d))})),a.items)),Gi(a=>a.theme.id),X(a=>a.pipe(fe(),z(l=>G.getRandItems(l,this.itemsAmount)))),Se(),fe(),I(a=>this.items=G.shuffle(a)),X(()=>F.preloadThemeItemsImgs([].concat(this.items,this.areas))))},o.\u0275fac=function(l){return new(l||o)},o.\u0275cmp=D({type:o,selectors:[["ng-component"]],viewQuery:function(l,d){if(l&1&&te(br,5),l&2){let h;ie(h=ne())&&(d.dragD=h)}},features:[K([fi,F])],decls:9,vars:4,consts:[["container",""],[3,"gameLoader"],[1,"container"],[1,"text--center"],["areaBgSizer","",1,"area"],["gridSizer","",3,"itemSize","rowsAmount","columnsAmount"],[1,"figure"],[1,"area__bg",3,"id","src"],[1,"area__item",3,"src","ngStyle"],["drag","",1,"figure__img","cursor--pointer",3,"elFromPoint","src","dragArea","propsToRestore"]],template:function(l,d){l&1&&(f(0,"game-spinner-wrapper",1)(1,"div",2,0)(3,"div",3),B(4,mh,4,2,"div",4,wr),_(),f(6,"div",5),B(7,hh,2,6,"figure",6,wr),_()()()),l&2&&(C("gameLoader",d.gameLoader),p(4),$(d.areas),p(2),C("itemSize",100)("rowsAmount",2)("columnsAmount",d.itemsAmount),p(),$(d.items))},dependencies:[ae,tt,$e,fc,br],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:1fr min-content;place-items:center}.area[_ngcontent-%COMP%]{display:inline-block;position:relative}.area__bg[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;left:0}.area__item[_ngcontent-%COMP%]{max-width:18%;position:absolute}"],changeDetection:0});let i=o;return i})();var Cc={path:"sort_items",loadComponent:se,providers:[{provide:oe,useValue:[Oe,le,gc]},{provide:Ee,useValue:new Map([[0,4],[1,6],[2,8]])}]};function En(i,e=0){return ph(i)?Number(i):arguments.length===2?e:0}function ph(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function vc(i){return Array.isArray(i)?i:[i]}function It(i){return i instanceof me?i.nativeElement:i}var Ir;try{Ir=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ir=!1}var Er=(()=>{class i{_platformId=b(io);isBrowser=this._platformId?uo(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Ir)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ti;function uh(){if(Ti==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ti=!0}))}finally{Ti=Ti||!1}return Ti}function xi(i){return uh()?i:!!i.capture}var Sr;function fh(){if(Sr==null){let i=typeof document<"u"?document.head:null;Sr=!!(i&&(i.createShadowRoot||i.attachShadow))}return Sr}function Dn(i){if(fh()){let e=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Mi(i){return i.composedPath?i.composedPath()[0]:i.target}var gh=new Ne("cdk-dir-doc",{providedIn:"root",factory:_h});function _h(){return b(xe)}var Ch=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function vh(i){let e=i?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Ch.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Dr=(()=>{class i{value="ltr";change=new de;constructor(){let t=b(gh,{optional:!0});if(t){let n=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.value=vh(n||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var bh=20,yc=(()=>{class i{_ngZone=b(Pe);_platform=b(Er);_document=b(xe,{optional:!0});constructor(){}_scrolled=new k;_globalSubscription=null;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=bh){return this._platform.isBrowser?new Ci(n=>{this._globalSubscription||this._addGlobalListener();let r=t>0?this._scrolled.pipe(zn(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Re()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){let r=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(ye(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){let n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let r=It(n),o=t.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return ei(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var wh=20,bc=(()=>{class i{_platform=b(Er);_viewportSize;_change=new k;_changeListener=t=>{this._change.next(t)};_document=b(xe,{optional:!0});constructor(){b(Pe).runOutsideAngular(()=>{if(this._platform.isBrowser){let n=this._getWindow();n.addEventListener("resize",this._changeListener),n.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,n=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect(),s=-o.top||t.body.scrollTop||n.scrollY||r.scrollTop||0,a=-o.left||t.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(t=wh){return t>0?this._change.pipe(zn(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var wc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=_t({type:i});static \u0275inj=gt({})}return i})();var Tn=new WeakMap,Sc=(()=>{class i{_appRef;_injector=b(Ut);_environmentInjector=b(Jr);load(t){let n=this._appRef=this._appRef||this._injector.get(oo),r=Tn.get(n);r||(r={loaders:new Set,refs:[]},Tn.set(n,r),n.onDestroy(()=>{Tn.get(n)?.refs.forEach(o=>o.destroy()),Tn.delete(n)})),r.loaders.has(t)||(r.loaders.add(t),r.refs.push(po(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Ic(i){return i.buttons===0||i.detail===0}function Ec(i){let e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Tr={},Dc=(()=>{class i{_appId=b(to);getId(t){return this._appId!=="ng"&&(t+=this._appId),Tr.hasOwnProperty(t)||(Tr[t]=0),`${t}${Tr[t]++}`}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Uc(i){let e=i.cloneNode(!0),t=e.querySelectorAll("[id]"),n=i.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return n==="canvas"?Mc(i,e):(n==="input"||n==="select"||n==="textarea")&&xc(i,e),Tc("canvas",i,e,Mc),Tc("input, textarea, select",i,e,xc),e}function Tc(i,e,t,n){let r=e.querySelectorAll(i);if(r.length){let o=t.querySelectorAll(i);for(let s=0;s<r.length;s++)n(r[s],o[s])}}var Sh=0;function xc(i,e){e.type!=="file"&&(e.value=i.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${Sh++}`)}function Mc(i,e){let t=e.getContext("2d");if(t)try{t.drawImage(i,0,0)}catch{}}function Fr(i){let e=i.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Mr(i,e,t){let{top:n,bottom:r,left:o,right:s}=i;return t>=n&&t<=r&&e>=o&&e<=s}function Ai(i,e,t){i.top+=e,i.bottom=i.top+i.height,i.left+=t,i.right=i.left+i.width}function Oc(i,e,t,n){let{top:r,right:o,bottom:s,left:a,width:l,height:d}=i,h=l*e,m=d*e;return n>r-m&&n<s+m&&t>a-h&&t<o+h}var On=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Fr(t)})})}handleScroll(e){let t=Mi(e),n=this.positions.get(t);if(!n)return null;let r=n.scrollPosition,o,s;if(t===this._document){let d=this.getViewportScrollPosition();o=d.top,s=d.left}else o=t.scrollTop,s=t.scrollLeft;let a=r.top-o,l=r.left-s;return this.positions.forEach((d,h)=>{d.clientRect&&t!==h&&t.contains(h)&&Ai(d.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function jc(i,e){let t=i.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let n=e.createElement("div");return t.forEach(r=>n.appendChild(r)),n}function kr(i,e,t){for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];r?i.setProperty(n,r,t?.has(n)?"important":""):i.removeProperty(n)}return i}function gi(i,e){let t=e?"":"none";kr(i.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Ac(i,e,t){kr(i.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function An(i,e){return e&&e!="none"?i+" "+e:i}function Pc(i,e){i.style.width=`${e.width}px`,i.style.height=`${e.height}px`,i.style.transform=Pn(e.left,e.top)}function Pn(i,e){return`translate3d(${Math.round(i)}px, ${Math.round(e)}px, 0)`}function Rc(i){let e=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*e}function Ih(i){let e=getComputedStyle(i),t=xr(e,"transition-property"),n=t.find(a=>a==="transform"||a==="all");if(!n)return 0;let r=t.indexOf(n),o=xr(e,"transition-duration"),s=xr(e,"transition-delay");return Rc(o[r])+Rc(s[r])}function xr(i,e){return i.getPropertyValue(e).split(",").map(n=>n.trim())}var Eh=new Set(["position"]),Or=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,t,n,r,o,s,a,l,d){this._document=e,this._rootElement=t,this._direction=n,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=d}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),Fc(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return Ih(this._preview)}addEventListener(e,t){this._preview.addEventListener(e,t)}removeEventListener(e,t){this._preview.removeEventListener(e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,n=e?e.template:null,r;if(n&&e){let o=e.matchSize?this._initialDomRect:null,s=e.viewContainer.createEmbeddedView(n,e.context);s.detectChanges(),r=jc(s,this._document),this._previewEmbeddedView=s,e.matchSize?Pc(r,o):r.style.transform=Pn(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=Uc(this._rootElement),Pc(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return kr(r.style,{"pointer-events":"none",margin:Fc(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Eh),gi(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>r.classList.add(o)):r.classList.add(t)),r}};function Fc(i){return"showPopover"in i}var kc=xi({passive:!0}),xn=xi({passive:!1}),Vc=xi({passive:!1,capture:!0}),Dh=800,Nc=new Set(["position"]),Ar=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Mt(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new k;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Ht.EMPTY;_pointerUpSubscription=Ht.EMPTY;_scrollSubscription=Ht.EMPTY;_resizeSubscription=Ht.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>gi(t,e)))}_disabled=!1;beforeStarted=new k;started=new k;released=new k;ended=new k;entered=new k;exited=new k;dropped=new k;moved=this._moveEvents;data;constrainPosition;constructor(e,t,n,r,o,s){this._config=t,this._document=n,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new On(n),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(n=>It(n)),this._handles.forEach(n=>gi(n,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&t.add(n)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=It(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,xn),t.addEventListener("touchstart",this._pointerDown,kc),t.addEventListener("dragstart",this._nativeDragStart,xn)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?It(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),gi(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),gi(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",Gc,Vc)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let r=Math.abs(t.x-this._pickupPositionOnPage.x),o=Math.abs(t.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),l=this._dropContainer;if(!a){this._endDragSequence(e);return}(!l||!l.isDragging()&&!l.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let n=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,t);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=n.x-r.x+this._passiveTransform.x,o.y=n.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:e,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Oi(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),n=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{t.addEventListener("selectstart",Gc,Vc)}),n){let r=this._rootElement,o=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new Or(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(o,t)),Ac(r,!1,Nc),this._document.body.appendChild(o.replaceChild(s,r)),this.started.next({source:this,event:e}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let n=this.isDragging(),r=Oi(t),o=!r&&t.button!==0,s=this._rootElement,a=Mi(t),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+Dh>Date.now(),d=r?Ec(t):Ic(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),n||o||l||d)return;if(this._handles.length){let v=s.style;this._rootElementTapHighlight=v.webkitTapHighlightColor||"",v.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(v=>this._updateOnScroll(v)),this._boundaryElement&&(this._boundaryRect=Fr(this._boundaryElement));let h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let m=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:m.x,y:m.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Ac(this._rootElement,!0,Nc),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,n=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),o=this._getDragDistance(r),s=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:e}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:e}),t.drop(this,n,this._initialIndex,this._initialContainer,s,o,r,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:n,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{let r=s=>{(!s||this._preview&&Mi(s)===this._preview.element&&s.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",r),n(),clearTimeout(o))},o=setTimeout(r,t*1.5);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,n;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),n=jc(this._placeholderRef,this._document)):n=Uc(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,t,n){let r=t===this._rootElement?null:t,o=r?r.getBoundingClientRect():e,s=Oi(n)?n.targetTouches[0]:n,a=this._getViewportScrollPosition(),l=s.pageX-o.left-a.left,d=s.pageY-o.top-a.top;return{x:o.left-e.left+l,y:o.top-e.top+d}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),n=Oi(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=n.pageX-t.left,o=n.pageY-t.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:n,y:r}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:d}=this._getPreviewRect(),h=a.top+s,m=a.bottom-(d-s),v=a.left+o,S=a.right-(l-o);n=Lc(n,v,S),r=Lc(r,h,m)}return{x:n,y:r}}_updatePointerDirectionDelta(e){let{x:t,y:n}=e,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),a=Math.abs(n-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=t>o.x?1:-1,o.x=t),a>this._config.pointerDirectionChangeThreshold&&(r.y=n>o.y?1:-1,o.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,gi(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,xn),e.removeEventListener("touchstart",this._pointerDown,kc),e.removeEventListener("dragstart",this._nativeDragStart,xn)}_applyRootElementTransform(e,t){let n=1/this.scale,r=Pn(e*n,t*n),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=An(r,this._initialTransform)}_applyPreviewTransform(e,t){let n=this._previewTemplate?.template?void 0:this._initialTransform,r=Pn(e,t);this._preview.setTransform(An(r,n))}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||n.width===0&&n.height===0)return;let o=r.left-n.left,s=n.right-r.right,a=r.top-n.top,l=n.bottom-r.bottom;r.width>n.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,r.height>n.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:Oi(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let n=Mi(e);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&Ai(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Dn(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let n=this._previewContainer||"global";if(n==="parent")return e;if(n==="global"){let r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return It(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}};function Lc(i,e,t){return Math.max(e,Math.min(t,i))}function Oi(i){return i.type[0]==="t"}function Gc(i){i.preventDefault()}function Fn(i,e,t){let n=Bc(e,i.length-1),r=Bc(t,i.length-1);if(n===r)return;let o=i[n],s=r<n?-1:1;for(let a=n;a!==r;a+=s)i[a]=i[a+s];i[r]=o}function Bc(i,e){return Math.max(0,Math.min(e,i))}var Rn=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,t,n,r){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,n,r);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",l=o.findIndex(_e=>_e.drag===e),d=o[s],h=o[l].clientRect,m=d.clientRect,v=l>s?1:-1,S=this._getItemOffsetPx(h,m,v),E=this._getSiblingOffsetPx(l,o,v),H=o.slice();return Fn(o,l,s),o.forEach((_e,xt)=>{if(H[xt]===_e)return;let Ri=_e.drag===e,$t=Ri?S:E,Fi=Ri?e.getPlaceholderElement():_e.drag.getRootElement();_e.offset+=$t;let zr=Math.round(_e.offset*(1/_e.drag.scale));a?(Fi.style.transform=An(`translate3d(${zr}px, 0, 0)`,_e.initialTransform),Ai(_e.clientRect,0,$t)):(Fi.style.transform=An(`translate3d(0, ${zr}px, 0)`,_e.initialTransform),Ai(_e.clientRect,$t,0))}),this._previousSwap.overlaps=Mr(m,t,n),this._previousSwap.drag=d.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:s}}enter(e,t,n,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(e,t,n):r,s=this._activeDraggables,a=s.indexOf(e),l=e.getPlaceholderElement(),d=s[o];if(d===e&&(d=s[o+1]),!d&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(t,n)&&(d=s[0]),a>-1&&s.splice(a,1),d&&!this._dragDropRegistry.isDragging(d)){let h=d.getRootElement();h.parentElement.insertBefore(l,h),s.splice(o,0,e)}else this._element.appendChild(l),s.push(e);l.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let t=e.getRootElement();if(t){let n=this._itemPositions.find(r=>r.drag===e)?.initialTransform;t.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:n})=>{Ai(n,e,t)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let n=t.getVisibleElement();return{drag:t,offset:0,initialTransform:n.style.transform||"",clientRect:Fr(n)}}).sort((t,n)=>e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_getItemOffsetPx(e,t,n){let r=this.orientation==="horizontal",o=r?t.left-e.left:t.top-e.top;return n===-1&&(o+=r?t.width-e.width:t.height-e.height),o}_getSiblingOffsetPx(e,t,n){let r=this.orientation==="horizontal",o=t[e].clientRect,s=t[e+n*-1],a=o[r?"width":"height"]*n;if(s){let l=r?"left":"top",d=r?"right":"bottom";n===-1?a-=s.clientRect[l]-o[d]:a+=o[l]-s.clientRect[d]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let n=this._itemPositions,r=this.orientation==="horizontal";if(n[0].drag!==this._activeDraggables[0]){let s=n[n.length-1].clientRect;return r?e>=s.right:t>=s.bottom}else{let s=n[0].clientRect;return r?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,n,r){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===e)return!1;if(r){let d=o?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return o?t>=Math.floor(l.left)&&t<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)});return s===-1||!this._sortPredicate(s,e)?-1:s}},Pr=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let n=0;n<t.length;n++){let r=t[n];this._relatedNodes.push([r,r.nextSibling])}this.withItems(e)}sort(e,t,n,r){let o=this._getItemIndexFromPointerPosition(e,t,n),s=this._previousSwap;if(o===-1||this._activeItems[o]===e)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===r.x&&s.deltaY===r.y)return null;let l=this.getItemIndex(e),d=e.getPlaceholderElement(),h=a.getRootElement();o>l?h.after(d):h.before(d),Fn(this._activeItems,l,o);let m=this._getRootNode().elementFromPoint(t,n);return s.deltaX=r.x,s.deltaY=r.y,s.drag=a,s.overlaps=h===m||h.contains(m),{previousIndex:l,currentIndex:o}}enter(e,t,n,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(e,t,n):r;o===-1&&(o=this._getClosestItemIndexToPointer(e,t,n));let s=this._activeItems[o],a=this._activeItems.indexOf(e);a>-1&&this._activeItems.splice(a,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(o,0,e),s.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,t=this._previousSwap;for(let n=this._relatedNodes.length-1;n>-1;n--){let[r,o]=this._relatedNodes[n];r.parentNode===e&&r.nextSibling!==o&&(o===null?e.appendChild(r):o.parentNode===e&&e.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,n){let r=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(n)),o=r?this._activeItems.findIndex(s=>{let a=s.getRootElement();return r===a||a.contains(r)}):-1;return o===-1||!this._sortPredicate(o,e)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=Dn(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,n){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==e){let{x:l,y:d}=a.getRootElement().getBoundingClientRect(),h=Math.hypot(t-l,n-d);h<r&&(r=h,o=s)}}return o}},$c=.05,Wc=.05,ut=function(i){return i[i.NONE=0]="NONE",i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i}(ut||{}),nt=function(i){return i[i.NONE=0]="NONE",i[i.LEFT=1]="LEFT",i[i.RIGHT=2]="RIGHT",i}(nt||{}),Rr=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new k;entered=new k;exited=new k;dropped=new k;sorted=new k;receivingStarted=new k;receivingStopped=new k;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Ht.EMPTY;_verticalScrollDirection=ut.NONE;_horizontalScrollDirection=nt.NONE;_scrollNode;_stopScrollTimers=new k;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,n,r,o){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=o;let s=this.element=It(e);this._document=n,this.withOrientation("vertical").withElementContainer(s),t.registerDropContainer(this),this._parentPositions=new On(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,n,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,n,r,o,s,a,l={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:l})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>e.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof Rn&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new Pr(this._document,this._dragDropRegistry);else{let t=new Rn(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,n)=>this.sortPredicate(t,n,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let t=It(this.element),n=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(e);return n>-1&&this._scrollableElements.splice(n,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,n,r){if(this.sortingDisabled||!this._domRect||!Oc(this._domRect,$c,t,n))return;let o=this._sortStrategy.sort(e,t,n,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let n,r=ut.NONE,o=nt.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||n||Oc(s.clientRect,$c,e,t)&&([r,o]=Th(a,s.clientRect,this._direction,e,t),(r||o)&&(n=a))}),!r&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};r=Kc(l,t),o=qc(l,e),n=window}n&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=n,(r||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Vi(0,$n).pipe(Ie(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===ut.UP?e.scrollBy(0,-t):this._verticalScrollDirection===ut.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===nt.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===nt.RIGHT&&e.scrollBy(t,0)})};_isOverContainer(e,t){return this._domRect!=null&&Mr(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,n){return this._siblings.find(r=>r._canReceive(e,t,n))}_canReceive(e,t,n){if(!this._domRect||!Mr(this._domRect,t,n)||!this.enterPredicate(e,this))return!1;let r=this._getShadowRoot().elementFromPoint(t,n);return r?r===this._container||this._container.contains(r):!1}_startReceiving(e,t){let n=this._activeSiblings;!n.has(e)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=Dn(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function Kc(i,e){let{top:t,bottom:n,height:r}=i,o=r*Wc;return e>=t-o&&e<=t+o?ut.UP:e>=n-o&&e<=n+o?ut.DOWN:ut.NONE}function qc(i,e){let{left:t,right:n,width:r}=i,o=r*Wc;return e>=t-o&&e<=t+o?nt.LEFT:e>=n-o&&e<=n+o?nt.RIGHT:nt.NONE}function Th(i,e,t,n,r){let o=Kc(e,r),s=qc(e,n),a=ut.NONE,l=nt.NONE;if(o){let d=i.scrollTop;o===ut.UP?d>0&&(a=ut.UP):i.scrollHeight-d>i.clientHeight&&(a=ut.DOWN)}if(s){let d=i.scrollLeft;t==="rtl"?s===nt.RIGHT?d<0&&(l=nt.RIGHT):i.scrollWidth+d>i.clientWidth&&(l=nt.LEFT):s===nt.LEFT?d>0&&(l=nt.LEFT):i.scrollWidth-d>i.clientWidth&&(l=nt.RIGHT)}return[a,l]}var Mn=xi({passive:!1,capture:!0}),xh=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=D({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(n,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return i})(),Mh=(()=>{class i{_ngZone=b(Pe);_document=b(xe);_styleLoader=b(Sc);_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Mt([]);_globalListeners=new Map;_draggingPredicate=t=>t.isDragging();pointerMove=new k;pointerUp=new k;scroll=new k;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Mn)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Mn)}startDragging(t,n){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(xh),this._activeDragInstances.update(r=>[...r,t]),this._activeDragInstances().length===1)){let r=n.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Mn}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:Mn}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,s)=>{this._document.addEventListener(s,o.handler,o.options)})})}}stopDragging(t){this._activeDragInstances.update(n=>{let r=n.indexOf(t);return r>-1?(n.splice(r,1),[...n]):n}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let n=[this.scroll];return t&&t!==this._document&&n.push(new Ci(r=>this._ngZone.runOutsideAngular(()=>{let s=a=>{this._activeDragInstances().length&&r.next(a)};return t.addEventListener("scroll",s,!0),()=>{t.removeEventListener("scroll",s,!0)}}))),Ni(...n)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners.forEach((t,n)=>{this._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Oh={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Vr=(()=>{class i{_document=b(xe);_ngZone=b(Pe);_viewportRuler=b(bc);_dragDropRegistry=b(Mh);constructor(){}createDrag(t,n=Oh){return new Ar(t,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Rr(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),zc=new Ne("CDK_DRAG_PARENT");var Ah=new Ne("CdkDragHandle");var Qc=new Ne("CDK_DRAG_CONFIG"),Ph="cdk-drag",Zc=new Ne("CdkDropList"),Yc=(()=>{class i{element=b(me);dropContainer=b(Zc,{optional:!0,skipSelf:!0});_ngZone=b(Pe);_viewContainerRef=b(vi);_dir=b(Dr,{optional:!0});_changeDetectorRef=b(Fe);_selfHandle=b(Ah,{optional:!0,self:!0});_parentDrag=b(zc,{optional:!0,skipSelf:!0});_destroyed=new k;static _dragInstances=[];_handles=new Hr([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new de;released=new de;ended=new de;entered=new de;exited=new de;dropped=new de;moved=new Ci(t=>{let n=this._dragRef.moved.pipe(z(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(t);return()=>{n.unsubscribe()}});_injector=b(Ut);constructor(){let t=this.dropContainer,n=b(Qc,{optional:!0}),r=b(Vr);this._dragRef=r.createDrag(this.element,{dragStartThreshold:n&&n.dragStartThreshold!=null?n.dragStartThreshold:5,pointerDirectionChangeThreshold:n&&n.pointerDirectionChangeThreshold!=null?n.pointerDirectionChangeThreshold:5,zIndex:n?.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),n&&this._assignDefaults(n),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this),t._dropListRef.beforeStarted.pipe(Ie(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){$i(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let n=t.rootElementSelector,r=t.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let t=i._dragInstances.indexOf(this);t>-1&&i._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let n=this._handles.getValue();n.push(t),this._handles.next(n)}_removeHandle(t){let n=this._handles.getValue(),r=n.indexOf(t);r>-1&&(n.splice(r,1),this._handles.next(n))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,n=t;this.rootElementSelector&&(n=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):It(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let n=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof r=="object"&&r?r:En(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),n&&t.withDirection(n.value)}}),t.beforeStarted.pipe(We(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let n=this.element.nativeElement.parentElement;for(;n;){if(n.classList.contains(Ph)){t.withParent(i._dragInstances.find(r=>r.element.nativeElement===n)?._dragRef||null);break}n=n.parentElement}})}_handleEvents(t){t.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),t.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(t){let{lockAxis:n,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:d,previewContainer:h}=t;this.disabled=l??!1,this.dragStartDelay=r||0,n&&(this.lockAxis=n),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),d&&(this.rootElementSelector=d),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.pipe(I(t=>{let n=t.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),ve(t=>Ni(...t.map(n=>n._stateChanges.pipe(Bi(n))))),Ie(this._destroyed)).subscribe(t=>{let n=this._dragRef,r=t.element.nativeElement;t.disabled?n.disableHandle(r):n.enableHandle(r)})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,r){n&2&&st("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",At],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",ho]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[K([{provide:zc,useExisting:i}]),yi,Qe]})}return i})(),Hc=new Ne("CdkDropListGroup");var Xc=(()=>{class i{element=b(me);_changeDetectorRef=b(Fe);_scrollDispatcher=b(yc);_dir=b(Dr,{optional:!0});_group=b(Hc,{optional:!0,skipSelf:!0});_destroyed=new k;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=b(Dc).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new de;entered=new de;exited=new de;sorted=new de;_unsortedItems=new Set;constructor(){let t=b(Vr),n=b(Qc,{optional:!0});this._dropListRef=t.createDropList(this.element),this._dropListRef.data=this,n&&this._assignDefaults(n),this._dropListRef.enterPredicate=(r,o)=>this.enterPredicate(r.data,o.data),this._dropListRef.sortPredicate=(r,o,s)=>this.sortPredicate(r,o.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,n)=>t._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let t=i._dropLists.indexOf(this);t>-1&&i._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Bi(this._dir.value),Ie(this._destroyed)).subscribe(n=>t.withDirection(n)),t.beforeStarted.subscribe(()=>{let n=vc(this.connectedTo).map(r=>{if(typeof r=="string"){let o=i._dropLists.find(s=>s.id===r);return o}return r});if(this._group&&this._group._items.forEach(r=>{n.indexOf(r)===-1&&n.push(r)}),!this._scrollableParentsResolved){let r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let r=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(r)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=En(this.autoScrollStep,2),t.connectedTo(n.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),Ni(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){let{lockAxis:n,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=t;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,r){n&2&&(Le("id",r.id),st("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",At],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",At],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",At],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[K([{provide:Hc,useValue:void 0},{provide:Zc,useExisting:i}]),yi]})}return i})();var Jc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=_t({type:i});static \u0275inj=gt({providers:[Vr],imports:[wc]})}return i})();var Fh=(i,e)=>e.id;function kh(i,e){if(i&1&&(ot(),f(0,"svg",4),x(1,"path",5),_()),i&2){let t=y(2);p(),Le("fill",t.colors.GREEN)}}function Vh(i,e){if(i&1&&(f(0,"figure",2),x(1,"img",3),_(),P(2,kh,2,1,":svg:svg",4)),i&2){let t=e.$implicit,n=e.$index,r=e.$count,o=y();C("cdkDragDisabled",o.isFinished)("cdkDragLockAxis","x"),p(),C("src",t.img,J),p(),L(n!==r-1?2:-1)}}var el=(()=>{var e,t,n,tl,il,Nr;let a=class a{constructor(){u(this,n);u(this,e);u(this,t);this.gameLoader=null,this.items=null,this.isFinished=!1,this.colors=Z,this.onDrop$=new k,g(this,e,null),g(this,t,b(F))}ngOnInit(){w(this,n,tl).call(this)}ngOnDestroy(){c(this,e)?.unsubscribe()}};e=new WeakMap,t=new WeakMap,n=new WeakSet,tl=function(){this.gameLoader=c(this,t).getItems().pipe(I(d=>{w(this,n,il).call(this,d),this.items=G.shuffle(d)}),X(()=>F.preloadThemeItemsImgs(this.items)))},il=function(d){g(this,e,this.onDrop$.pipe(I(h=>Fn(this.items,h.previousIndex,h.currentIndex)),ve(()=>w(this,n,Nr).call(this,this.items).pipe(Yr(w(this,n,Nr).call(this,d)))),ye(Boolean),I(()=>this.isFinished=!0),qe(300),I(()=>j.gameCompleted())).subscribe())},Nr=function(d){return dt(d).pipe(Et("id"))},a.\u0275fac=function(h){return new(h||a)},a.\u0275cmp=D({type:a,selectors:[["ng-component"]],features:[K([F])],decls:4,vars:1,consts:[[3,"gameLoader"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"list",3,"cdkDropListDropped"],["cdkDrag","",1,"img-container",3,"cdkDragDisabled","cdkDragLockAxis"],["alt","",1,"img",3,"src"],["aria-hidden","true","focusable","false","width","50px","height","50px","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["d","M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"]],template:function(h,m){h&1&&(f(0,"game-spinner-wrapper",0)(1,"div",1),T("cdkDropListDropped",function(S){return m.onDrop$.next(S)}),B(2,Vh,3,4,null,null,Fh),_()()),h&2&&(C("gameLoader",m.gameLoader),p(2),$(m.items))},dependencies:[ae,Jc,Xc,Yc],styles:[".list[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:400px;margin:auto}.img-container[_ngcontent-%COMP%]{display:flex;width:25%;padding:1rem;cursor:pointer}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.1}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"],changeDetection:0});let i=a;return i})();var nl={path:"what_before",loadComponent:se,providers:[{provide:oe,useValue:[le,el]}]};var kn=class{constructor(e,t){this.themeItem=e,this.style=null;let n=new Bt(t.coords);this.style=Te(Te({},t.style),n.style)}};var Vn,Nn,Jt=class Jt{constructor(){u(this,Vn,b(Ze));u(this,Nn,b(Me))}getItemsProps(){let e=`${Y.getCustomGameThemeFolder()}${Y.getChosenSetSegment(c(this,Nn).chosenSetIndex)}/items-props.${Ve.JSON}`;return this._fetchProps(e)}_fetchProps(e){return c(this,Vn).get(e)}};Vn=new WeakMap,Nn=new WeakMap,Jt.\u0275fac=function(t){return new(t||Jt)},Jt.\u0275prov=ue({token:Jt,factory:Jt.\u0275fac});var _i=Jt;He([Ye()],_i.prototype,"_fetchProps",null);var Nh=(i,e)=>e.themeItem.id;function Lh(i,e){if(i&1&&x(0,"img",4),i&2){let t=e.$implicit;C("src",t.themeItem.img,J)("ngStyle",t.style)}}function Gh(i,e){if(i&1){let t=R();f(0,"theme-items-bar",6),ge(1,"async"),T("itemClick",function(r){M(t);let o=y();return O(o.item$.next(r))}),_()}if(i&2){let t=y();C("items",t.itemsToChoose)("header",Ce(1,2,t.itemsHeader$))}}var rl=(()=>{var e,t,n,r,o,s,ol,sl,Lr;let h=class h{constructor(){u(this,s);u(this,e);u(this,t);u(this,n);u(this,r);u(this,o);this.gameLoader=null,this.bg=null,this.items=null,this.itemsToChoose=null,this.props=null,g(this,e,b(F)),g(this,t,b(_i)),g(this,n,b(Ae)),g(this,r,b(Fe)),this.item$=new k,this.itemsHeader$=c(this,n).loadTranslation("chapters/games/intellect").pipe(z(v=>v.what_is_forgot)),g(this,o,null)}ngOnInit(){w(this,s,ol).call(this)}ngOnDestroy(){c(this,o)?.unsubscribe()}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,s=new WeakSet,ol=function(){this.gameLoader=De({items:c(this,e).getItems(),props:c(this,t).getItemsProps()}).pipe(z(v=>{let S="bg";this.bg=v.items.find(H=>H.id===S),this.itemsToChoose=v.items.filter(H=>H.id!==S),this.props=v.props;let E=G.getRndInteger(0,this.itemsToChoose.length-1);return this.items=this.itemsToChoose.reduce((H,_e,xt)=>(xt!==E&&H.push(w(this,s,Lr).call(this,_e)),H),[]),v.items}),X(v=>F.preloadThemeItemsImgs(v)),I(()=>w(this,s,sl).call(this)))},sl=function(){g(this,o,this.item$.pipe(ye(()=>this.items.length!==this.itemsToChoose.length),ve(v=>ce(this,null,function*(){this.items.some(S=>S.themeItem.id===v.id)?yield q.playErrorSound():(this.items.push(w(this,s,Lr).call(this,v)),c(this,r).markForCheck(),yield q.playWinSound())}))).subscribe())},Lr=function(v){let S=this.props.find(E=>E.id===v.id);return new kn(v,S)},h.\u0275fac=function(S){return new(S||h)},h.\u0275cmp=D({type:h,selectors:[["ng-component"]],features:[K([_i,F])],decls:7,vars:3,consts:[[3,"gameLoader"],[1,"container"],[1,"items"],[1,"d--block","w--100",3,"src"],[1,"d--block","p--absolute",3,"src","ngStyle"],[3,"items","header"],[3,"itemClick","items","header"]],template:function(S,E){S&1&&(f(0,"game-spinner-wrapper",0)(1,"div",1)(2,"figure",2),x(3,"img",3),B(4,Lh,1,2,"img",4,Nh),_(),P(6,Gh,2,4,"theme-items-bar",5),_()()),S&2&&(C("gameLoader",E.gameLoader),p(3),C("src",E.bg==null?null:E.bg.img,J),p(),$(E.items),p(2),L(E.itemsToChoose?6:-1))},dependencies:[ae,lt,tt,at],styles:[".pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content;height:100%}.items[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto;position:relative}"],changeDetection:0});let i=h;return i})();var al={path:"what_is_forgot",loadComponent:se,providers:[{provide:Me,useClass:mt},{provide:oe,useValue:[le,pt,rl]}]};var Ln=class{constructor(e,t=null){this.item=e,this.isCorrect=t}};var Bh=(i,e)=>e.item.id;function $h(i,e){if(i&1){let t=R();f(0,"figure",2),T("click",function(){let r=M(t).$implicit,o=y();return O(o.item$.next(r))}),x(1,"img",3),_()}if(i&2){let t=e.$implicit;p(),C("isCorrect",t.isCorrect)("src",t.item.img,J)}}var cl=(()=>{var e,t,ll;let r=class r extends Xe{constructor(){super();u(this,t);u(this,e);this.data=null,this.columnsAmount=(Q.getAgesConfig()+1)/2,this.item$=new k,g(this,e,null)}ngOnInit(){this.onDataLoad(this.data),w(this,t,ll).call(this)}ngOnDestroy(){c(this,e)?.unsubscribe()}};e=new WeakMap,t=new WeakSet,ll=function(){g(this,e,this.item$.pipe(We(1),I(a=>{if(a.isCorrect=this.data.filter(l=>l.item.theme.id===a.item.theme.id)?.length===1,!a.isCorrect){let l=this.data.find(d=>d.item.theme.id!==a.item.theme.id);l.isCorrect=!0}this.emitData(a.isCorrect)})).subscribe())},r.\u0275fac=function(l){return new(l||r)},r.\u0275cmp=D({type:r,selectors:[["ng-component"]],inputs:{data:"data"},features:[ee],decls:3,vars:2,consts:[["gridSizer","",1,"container",3,"rowsAmount","columnsAmount"],[1,"figure","curve-border","border-width--1","border--dotted","border--green","radial-gradient--soft-grey","cursor--pointer"],[1,"figure","curve-border","border-width--1","border--dotted","border--green","radial-gradient--soft-grey","cursor--pointer",3,"click"],[1,"figure__img",3,"isCorrect","src"]],template:function(l,d){l&1&&(f(0,"div",0),B(1,$h,2,2,"figure",1,Bh),_()),l&2&&(C("rowsAmount",2)("columnsAmount",d.columnsAmount),p(),$(d.data))},dependencies:[$e,Nt],styles:[".figure[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.figure__img[_ngcontent-%COMP%]{max-width:80%;max-height:80%}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#dbdbdb)}.pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.shake-horizontal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}@keyframes _ngcontent-%COMP%_shake-horizontal{0%,to{transform:translate(0)}10%,30%,50%,70%{transform:translate(-10px)}20%,40%,60%{transform:translate(10px)}80%{transform:translate(8px)}90%{transform:translate(-8px)}}"],changeDetection:0});let i=r;return i})();function zh(i,e){if(i&1){let t=R();f(0,"carousel",5),T("emitDataFromItem",function(r){M(t);let o=y();return O(o.answer$.next(r))}),_()}if(i&2){let t=y();C("slides",t.variants)("height","100%")("blockManualSwiping",!0)("itemComponent",t.questionComponent)}}var ml=(()=>{var e,t,n,r,hl,pl,ul;let l=class l{constructor(){u(this,r);u(this,e);u(this,t);u(this,n);this.gameLoader=null,this.variants=null,this.answers=[],this.questionComponent=cl,this.answer$=new k,g(this,e,null),g(this,t,b(Fe)),g(this,n,b(F))}ngOnInit(){w(this,r,hl).call(this)}ngOnDestroy(){c(this,e)?.unsubscribe()}};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakSet,hl=function(){this.gameLoader=c(this,n).getItems().pipe(Se(),Gi(h=>h.theme.id),X(h=>h.pipe(fe())),fe(),ve(h=>Li(1,5).pipe(z(()=>w(this,r,ul).call(this,h)),fe(),I(m=>this.variants=m),Se())),Se(),Et("item","img"),fe(),I(()=>w(this,r,pl).call(this)),X(h=>ct.getImages(h)))},pl=function(){this.answer$.pipe(ve(h=>ce(this,null,function*(){return yield h?q.playRightSound():q.playErrorSound(),this.answers.push(h),this.questionsCarousel.slideToRight(),c(this,t).detectChanges(),h})),ze(5),I(h=>h.some(m=>!m)?j.gameFailed():j.gameCompleted())).subscribe()},ul=function(h){let m=Math.random()<.5?[...h].reverse():h,v=G.getRandItems(m[0],Q.getAgesConfig());return v.push(G.getRndArrElem(m[1])),G.shuffle(v.map(S=>new Ln(S)))},l.\u0275fac=function(m){return new(m||l)},l.\u0275cmp=D({type:l,selectors:[["ng-component"]],viewQuery:function(m,v){if(m&1&&te(je,5),m&2){let S;ie(S=ne())&&(v.questionsCarousel=S.first)}},features:[K([F])],decls:5,vars:3,consts:[[3,"gameLoader"],[1,"container"],[1,"w--100","overflow-x--hidden"],[3,"slides","height","blockManualSwiping","itemComponent"],[3,"answers"],[3,"emitDataFromItem","slides","height","blockManualSwiping","itemComponent"]],template:function(m,v){m&1&&(f(0,"game-spinner-wrapper",0)(1,"div",1)(2,"div",2),P(3,zh,1,4,"carousel",3),_(),x(4,"answers-bar",4),_()()),m&2&&(C("gameLoader",v.gameLoader),p(3),L(v.variants&&v.variants.length?3:-1),p(),C("answers",v.answers))},dependencies:[ae,je,ht],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content;height:100%;place-items:center}"],changeDetection:0});let i=l;return i})();var fl={path:"what_is_unwanted",loadComponent:se,providers:[{provide:oe,useValue:[Oe,le,ml]},{provide:Ee,useValue:new Map([[0,3],[1,5],[2,7]])}]};var Gn=class Gn{static getHourHandAngle(e){let t=360/12;return t*e.hours+t*e.minutes/60}static getMinuteHandAngle(e){return 360*e.minutes/60}};Gn.answer$=new k,Gn.variants=[];var Tt=Gn;var Gr=(()=>{let e=class e extends Ke{constructor(n,r,o,s){super(o,s),this._elementRef=n,this._renderer=r}setGameSizes(){let n=this._elementRef.nativeElement.getBoundingClientRect().width;this._renderer.setStyle(this._elementRef.nativeElement,N.FONT_SIZE,`${n/50}${W.REM}`)}};e.\u0275fac=function(r){return new(r||e)(V(me),V(he),V(Pe),V(xe))},e.\u0275dir=U({type:e,selectors:[["","adaptiveFontSizer",""]],features:[ee]});let i=e;return i})();var Cl=(()=>{let e=class e{transform(n){return n<10?`0${n}`:`${n}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=no({name:"time",type:e,pure:!0});let i=e;return i})();var Uh=(i,e)=>e.hours;function jh(i,e){if(i&1){let t=R();f(0,"span",2),T("click",function(){let r=M(t).$implicit,o=y(2);return O(o.onVariantClick(r))}),re(1),ge(2,"time"),ge(3,"time"),_()}if(i&2){let t=e.$implicit;p(),ao(" ",Ce(2,2,t.hours),":",Ce(3,4,t.minutes)," ")}}function Wh(i,e){if(i&1&&(f(0,"div",0),B(1,jh,4,6,"span",1,Uh),_()),i&2){let t=y();C("rowsAmount",1)("columnsAmount",t.variants.length)("itemSize",200)("coeff",.5),p(),$(t.variants)}}var vl=(()=>{var e,t,n,yl,bl;let s=class s extends Xe{constructor(){super(...arguments);u(this,n);u(this,e);u(this,t);this.variants=null,g(this,e,null),g(this,t,!1)}ngOnInit(){w(this,n,yl).call(this),this.onDataLoad(this.data)}ngAfterViewInit(){this.adaptiveFontSizerD.forEach(d=>d.setGameSizes())}onVariantClick(d){return ce(this,null,function*(){if(c(this,t))return;g(this,t,!0);let h=c(this,e).hours===d.hours&&c(this,e).minutes===d.minutes;yield h?q.playRightSound():q.playErrorSound(),Tt.answer$.next(h)})}};e=new WeakMap,t=new WeakMap,n=new WeakSet,yl=function(){let d=G.getRandItems(G.getSequence(13));d.length=Q.getAgesConfig().variantsAmount,this.variants=d.map(h=>({hours:h,minutes:G.getRndArrElem(Q.getAgesConfig().minutes)})),w(this,n,bl).call(this),this.emitData(c(this,e))},bl=function(){g(this,e,G.getRndArrElem(this.variants)),Tt.variants.push(c(this,e))},s.\u0275fac=(()=>{let d;return function(m){return(d||(d=Ue(s)))(m||s)}})(),s.\u0275cmp=D({type:s,selectors:[["ng-component"]],viewQuery:function(h,m){if(h&1&&te(Gr,5),h&2){let v;ie(v=ne())&&(m.adaptiveFontSizerD=v)}},inputs:{data:"data"},features:[ee],decls:1,vars:1,consts:[["gridSizer","",1,"variants",3,"rowsAmount","columnsAmount","itemSize","coeff"],["adaptiveFontSizer","",1,"variants__item"],["adaptiveFontSizer","",1,"variants__item",3,"click"]],template:function(h,m){h&1&&P(0,Wh,3,4,"div",0),h&2&&L(m.variants?0:-1)},dependencies:[$e,Gr,Cl],styles:['@font-face{font-family:digital;src:url("./media/digital-DBM5YGNZ.ttf")}.variants[_ngcontent-%COMP%]{font-family:digital;cursor:pointer;font-size:3.5rem}.variants__item[_ngcontent-%COMP%]{padding:5px;background-color:#333;color:#0f0;border-radius:5px;border:8px solid rgb(25.5,25.5,25.5);display:flex;align-items:center;justify-content:center}'],changeDetection:0});let i=s;return i})();var Kh=i=>({hand:i,modifier:"hour"}),wl=i=>({$implicit:i}),qh=i=>({hand:i,modifier:"minute"});function Qh(i,e){i&1&&ft(0)}function Zh(i,e){i&1&&ft(0)}function Yh(i,e){if(i&1&&x(0,"img",10),i&2){let t=e.$implicit;zi("hand d--block p--absolute hand--",t.modifier,""),pe("transform","rotate("+t.hand.angle+"deg)"),C("src",t.hand.img,J)}}var Sl=(()=>{var e,t,Il;let r=class r{constructor(){u(this,t);u(this,e);this.slides=G.getSequence(Q.getAgesConfig().variantsAmount),this.clockwise=`${ke.getGameFolder()}img/clockwise.${Ve.PNG}`,this.hourHand={img:`${ke.getGameFolder()}img/hour_hand.${Ve.PNG}`,angle:0},this.minuteHand={img:`${ke.getGameFolder()}img/minute_hand.${Ve.PNG}`,angle:0},this.gameLoader=null,this.answers=[],this.itemComponent=vl,g(this,e,null)}ngOnInit(){Y.setChosenTheme(new bt({id:go.CLOCKS},{})),w(this,t,Il).call(this)}ngOnDestroy(){c(this,e)?.unsubscribe()}setTime(s){this.hourHand.angle=Tt.getHourHandAngle(s),this.minuteHand.angle=Tt.getMinuteHandAngle(s)}onLoadGame(){requestAnimationFrame(()=>this.imgWrapperVCh.setGameSizes())}};e=new WeakMap,t=new WeakSet,Il=function(){this.gameLoader=ct.getImages([this.clockwise,this.hourHand.img,this.minuteHand.img]).pipe(I(()=>g(this,e,Tt.answer$.pipe(I(s=>{this.answers.push(s),this.itemsCarouselVCh.slideToRight()}),ze(this.slides.length),I(s=>s.some(a=>!a)?j.gameFailed():j.gameCompleted())).subscribe())))},r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=D({type:r,selectors:[["ng-component"]],viewQuery:function(a,l){if(a&1&&(te(je,5),te(Dt,5)),a&2){let d;ie(d=ne())&&(l.itemsCarouselVCh=d.first),ie(d=ne())&&(l.imgWrapperVCh=d.first)}},decls:12,vars:20,consts:[["clockwiseBg",""],["clockHandTmpl",""],[3,"loadGame","gameLoader"],[1,"container","h-max--100"],["imgWrapper","",1,"h--100","overflow--hidden","p--relative",3,"img"],[1,"d--block","w-max--100","h-max--100",3,"src"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"overflow-x--hidden","w--100"],[3,"emitDataFromItem","slides","height","blockManualSwiping","itemComponent"],[3,"answers"],[3,"src"]],template:function(a,l){if(a&1){let d=R();f(0,"game-spinner-wrapper",2),T("loadGame",function(){return M(d),O(l.onLoadGame())}),f(1,"div",3)(2,"figure",4),x(3,"img",5,0),P(5,Qh,1,0,"ng-container",6)(6,Zh,1,0,"ng-container",6)(7,Yh,1,6,"ng-template",null,1,vt),_(),f(9,"div",7)(10,"carousel",8),T("emitDataFromItem",function(m){return M(d),O(l.setTime(m))}),_()(),x(11,"answers-bar",9),_()()}if(a&2){let d=Ge(4),h=Ge(8);C("gameLoader",l.gameLoader),p(2),C("img",d),p(),C("src",l.clockwise,J),p(2),C("ngTemplateOutlet",h)("ngTemplateOutletContext",Ct(14,wl,Ct(12,Kh,l.hourHand))),p(),C("ngTemplateOutlet",h)("ngTemplateOutletContext",Ct(18,wl,Ct(16,qh,l.minuteHand))),p(4),C("slides",l.slides)("height","100%")("blockManualSwiping",!0)("itemComponent",l.itemComponent),p(),C("answers",l.answers)}},dependencies:[ae,Dt,Pt,je,ht],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr min-content min-content;place-items:center;grid-gap:1rem}.hand[_ngcontent-%COMP%]{transform-origin:bottom;transition:transform 1s;transition-timing-function:ease-in-out}.hand--hour[_ngcontent-%COMP%]{max-height:15%;top:47%;left:47%}.hand--minute[_ngcontent-%COMP%]{max-height:20%;top:41%;left:48%}"],changeDetection:0});let i=r;return i})();var El={path:"what_time_is_it",loadComponent:se,providers:[{provide:oe,useValue:[Oe,Sl]},{provide:Ee,useValue:new Map([[0,{variantsAmount:3,minutes:[0]}],[1,{variantsAmount:4,minutes:[0,30]}],[2,{variantsAmount:5,minutes:[0,15,30,45]}]])}]};var Pi=(()=>{let e=class e{};e.itemsSet=null;let i=e;return i})();var Xh=["btn"],$r=(()=>{var e,t,n,Br;let o=class o{constructor(){u(this,n);u(this,e);u(this,t);this.item=null,this.colors=Z,g(this,t,b(he))}ngAfterViewInit(){this.addPulsate()}ngOnDestroy(){w(this,n,Br).call(this)}play(){return ce(this,null,function*(){w(this,n,Br).call(this),yield this.item.playOwnSound(),g(this,e,setTimeout(()=>this.addPulsate(),3e3))})}addPulsate(){c(this,t).addClass(this.btnEl.nativeElement,Je.PULSATE_FWD)}};e=new WeakMap,t=new WeakMap,n=new WeakSet,Br=function(){clearTimeout(c(this,e)),c(this,t).removeClass(this.btnEl.nativeElement,Je.PULSATE_FWD)},o.\u0275fac=function(l){return new(l||o)},o.\u0275cmp=D({type:o,selectors:[["play-button"]],viewQuery:function(l,d){if(l&1&&te(Xh,7),l&2){let h;ie(h=ne())&&(d.btnEl=h.first)}},inputs:{item:"item"},decls:3,vars:4,consts:[["btn",""],[1,"btn-container",3,"click"],[1,"btn"]],template:function(l,d){if(l&1){let h=R();f(0,"div",1,0),T("click",function(){return M(h),O(d.play())}),x(2,"div",2),_()}l&2&&(pe("border-color",d.colors.BLUE),p(2),pe("border-left-color",d.colors.BLUE))},styles:[".pulsate-fwd[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulsate-fwd .5s ease-in-out infinite both}@keyframes _ngcontent-%COMP%_pulsate-fwd{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.btn[_ngcontent-%COMP%]{width:0;height:0;margin-left:32px;border-top:30px solid transparent;border-left:45px solid;border-bottom:30px solid transparent;cursor:pointer}.btn-container[_ngcontent-%COMP%]{display:flex;width:100px;height:100px;align-items:center;border:2px solid;border-radius:50px}"],changeDetection:0});let i=o;return i})();var Jh=(i,e)=>e.id;function ep(i,e){if(i&1){let t=R();f(0,"figure",8),T("click",function(){let r=M(t).$implicit,o=Ge(3),s=Ge(5),a=y();return O(a.answer$.next({id:r.id,el:o,titleEl:s}))}),f(1,"div",9),x(2,"img",10,0),_(),f(4,"figcaption",11,1),re(6),_()()}if(i&2){let t=e.$implicit;p(2),C("src",t.img,J),p(4),we(" ",t.title," ")}}function tp(i,e){if(i&1&&x(0,"play-button",7),i&2){let t=y();C("item",t.itemsCopy[t.index])}}var Dl=(()=>{var e,t,n,Tl,xl,Ml;let a=class a{constructor(){u(this,n);u(this,e);u(this,t);this.gameLoader=null,this.items=Pi.itemsSet,this.itemsCopy=G.shuffle([...Pi.itemsSet]),this.index=0,this.answer$=new k,g(this,e,null),g(this,t,b(he))}ngOnInit(){w(this,n,Tl).call(this)}ngOnDestroy(){c(this,e)?.unsubscribe()}};e=new WeakMap,t=new WeakMap,n=new WeakSet,Tl=function(){this.gameLoader=De([q.preloadThemeItemsOwnSounds(this.items)]).pipe(I(()=>w(this,n,xl).call(this)))},xl=function(){g(this,e,this.answer$.pipe(I(v=>ce(this,[v],function*({id:d,el:h,titleEl:m}){this.itemsCopy[this.index].id===d?(c(this,t).setStyle(h,N.OPACITY,.3),c(this,t).setStyle(m,N.TEXT_DECORATION,"line-through"),yield w(this,n,Ml).call(this)):yield q.playErrorSound()}))).subscribe())},Ml=function(){return ce(this,null,function*(){this.index===Math.min(this.items.length,8)-1?j.gameCompleted():(this.index++,yield q.playRightSound(),this.playButton.addPulsate())})},a.\u0275fac=function(h){return new(h||a)},a.\u0275cmp=D({type:a,selectors:[["ng-component"]],viewQuery:function(h,m){if(h&1&&te($r,5),h&2){let v;ie(v=ne())&&(m.playButton=v.first)}},decls:7,vars:4,consts:[["itemImgEl",""],["titleEl",""],[3,"gameLoader"],[1,"container"],["gridSizer","",3,"rowsAmount","columnsAmount"],[1,"curve-border","border-width--1","border--dotted","border--grey","radial-gradient--soft-grey","cursor--pointer"],[1,"play-btn-container"],[3,"item"],[1,"curve-border","border-width--1","border--dotted","border--grey","radial-gradient--soft-grey","cursor--pointer",3,"click"],[1,"img-container"],[1,"img",3,"src"],[1,"title","text--center"]],template:function(h,m){h&1&&(f(0,"game-spinner-wrapper",2)(1,"div",3)(2,"div",4),B(3,ep,7,2,"figure",5,Jh),_(),f(5,"div",6),P(6,tp,1,1,"play-button",7),_()()()),h&2&&(C("gameLoader",m.gameLoader),p(2),C("rowsAmount",2)("columnsAmount",4),p(),$(m.items),p(3),L(m.itemsCopy?6:-1))},dependencies:[ae,$e,$r],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#dbdbdb)}.curve-border[_ngcontent-%COMP%]{border-radius:80px 10px 80px 20px/20px 40px}.border-width--1[_ngcontent-%COMP%]{border-width:1px}.border-width--2[_ngcontent-%COMP%]{border-width:2px}.border-width--3[_ngcontent-%COMP%]{border-width:3px}.border-width--4[_ngcontent-%COMP%]{border-width:4px}.border--solid[_ngcontent-%COMP%]{border-style:solid}.border--dashed[_ngcontent-%COMP%]{border-style:dashed}.border--dotted[_ngcontent-%COMP%]{border-style:dotted}.border--blue[_ngcontent-%COMP%]{border-color:#5c74d7}.border--purple[_ngcontent-%COMP%]{border-color:#70b}.border--green[_ngcontent-%COMP%]{border-color:#00d36f}.border--orange[_ngcontent-%COMP%]{border-color:#ff9d2a}.border--pink[_ngcontent-%COMP%]{border-color:#ff2480}.border--white[_ngcontent-%COMP%]{border-color:#fff}.border--light-grey[_ngcontent-%COMP%]{border-color:#ccc}.border--medium-grey[_ngcontent-%COMP%]{border-color:#9e9e9e}.border--dark-grey[_ngcontent-%COMP%]{border-color:#333}.container[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:1fr min-content;place-items:center}.img[_ngcontent-%COMP%]{display:block;margin:auto;max-width:80%;max-height:80%}.img-container[_ngcontent-%COMP%]{display:flex;height:80%;margin:auto}@media screen and (max-width: 600px){.img-container[_ngcontent-%COMP%]{height:100%}}@media screen and (max-width: 600px){.title[_ngcontent-%COMP%]{display:none}}.play-btn-container[_ngcontent-%COMP%]{display:flex;margin-top:1rem;justify-content:center}"],changeDetection:0});let i=a;return i})();function ip(i,e){if(i&1){let t=R();f(0,"div",3),T("click",function(){let r=M(t).$implicit,o=y(),s=y();return O(s.chooseSet(o.sets.get(r),{title:o.stepInfoTitle,style:{color:s.colors.PINK}}))}),re(1),_()}if(i&2){let t=e.$implicit;p(),we(" ",t+1," ")}}function np(i,e){if(i&1&&(f(0,"header")(1,"h1",0),re(2),ge(3,"capitalizeFirstLetter"),_()(),f(4,"div",1),B(5,ip,2,1,"div",2,be),_()),i&2){let t=e;p(2),we("",Ce(3,1,t.title),":"),p(3),$(t.sets.keys())}}function rp(i,e){i&1&&x(0,"spinner")}var Ol=(()=>{var e,t;let n=class n{constructor(){u(this,e);u(this,t);this.content$=null,this.colors=Z,g(this,e,b(F)),g(this,t,b(Ae))}ngOnInit(){let o=s=>s.hasOwnSound;this.content$=c(this,e).getItems(o).pipe(X(s=>s.length<=8?(this.chooseSet(s),Re(null)):c(this,t).loadTranslation("add_steps").pipe(z(a=>({sets:G.groupArrByLength(s,8),title:a.choose_set,stepInfoTitle:a.to_choose_set})))))}chooseSet(o,s=null){Pi.itemsSet=o,j.updateStepInfo(s),j.goToNext()}};e=new WeakMap,t=new WeakMap,n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=D({type:n,selectors:[["ng-component"]],features:[K([F])],decls:3,vars:3,consts:[[1,"text--center"],[1,"container"],[1,"set","radial-gradient--soft-grey"],[1,"set","radial-gradient--soft-grey",3,"click"]],template:function(s,a){if(s&1&&(P(0,np,7,3),ge(1,"async"),P(2,rp,1,0,"spinner")),s&2){let l;L((l=Ce(1,1,a.content$))?0:2,l)}},dependencies:[at,Ft,Be],styles:[".radial-gradient--soft-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#f0f0f0)}.radial-gradient--medium-grey[_ngcontent-%COMP%]{background:radial-gradient(#fff,#dbdbdb)}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,200px));grid-gap:1rem;place-content:center}.set[_ngcontent-%COMP%]{padding:1rem;font-size:3rem;cursor:pointer;border:1px solid #9e9e9e;box-shadow:0 0 10px 18px #ffffffbf;text-align:center;border-radius:5px;font-weight:700}.set[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0});let i=n;return i})();var Al={path:"whose_sound",loadComponent:se,providers:[{provide:oe,useValue:[le,Ol,Dl]}]};var Pl=[Ko,Yo,ss,us,_s,ws,Ms,_a,wa,Da,Pa,Na,Wa,Ja,nc,ac,uc,Cc,nl,al,fl,El,Al];var aR=[{path:"",redirectTo:"main",pathMatch:"full"},{path:"main",component:Po,children:[{path:"",redirectTo:"games",pathMatch:"full"},{path:"games",loadChildren:()=>import("./chunk-SPQUKHX5.js").then(i=>i.GAMES_CHAPTER_ROUTES)},{path:"about",loadComponent:()=>import("./chunk-NSL7S3ZZ.js").then(i=>i.AboutComponent)},{path:"acknowledgment",loadComponent:()=>import("./chunk-HMSFIOLS.js").then(i=>i.AcknowledgmentComponent)},{path:"contacts",loadComponent:()=>import("./chunk-3P2XIG7M.js").then(i=>i.ContactsComponent)}]},...Pl];export{aR as MAIN_ROUTES};
